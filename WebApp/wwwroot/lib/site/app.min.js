!function(B){function R(t){return(e=t,String(null==e?"":e)).replace(n,function(t){return i[t]});var e}var s={method:"GET",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,contentType:"json",excludeCurrent:!1,excludeCurrentParameter:"x",prePopulate:null,processPrePopulate:!1,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&#215;",animateDropdown:!0,placeholder:null,theme:null,zindex:999,resultsLimit:null,enableHTML:!1,resultsFormatter:function(t){var e=t[this.propertyToSearch];return"<li>"+(this.enableHTML?e:R(e))+"</li>"},tokenFormatter:function(t){var e=t[this.propertyToSearch];return"<li><p>"+(this.enableHTML?e:R(e))+"</p></li>"},tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",allowFreeTagging:!1,allowTabOut:!1,autoSelectFirstResult:!1,onResult:null,onCachedResult:null,onAdd:null,onFreeTaggingAdd:null,onDelete:null,onReady:null,idPrefix:"token-input-",disabled:!1},O={tokenList:"token-input-list-facebook",token:"token-input-token-facebook",tokenReadOnly:"token-input-token-readonly-facebook",tokenDelete:"token-input-delete-token-facebook",selectedToken:"token-input-selected-token-facebook",highlightedToken:"token-input-highlighted-token-facebook",dropdown:"token-input-dropdown-facebook",dropdownItem:"token-input-dropdown-item-facebook",dropdownItem2:"token-input-dropdown-item2-facebook",selectedDropdownItem:"token-input-selected-dropdown-item-facebook",inputToken:"token-input-input-token-facebook",focused:"token-input-focused-facebook",disabled:"token-input-disabled-facebook"},j=0,V=1,q=2,U=8,$=9,N=13,K=27,Z=37,Q=38,G=39,J=40,tt=108,et=188,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},n=/[&<>"'\/]/g,e={init:function(t,e){var i=B.extend({},s,e||{});return this.each(function(){B(this).data("settings",i),B(this).data("tokenInputObject",new B.TokenList(this,t,i))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(t){return this.data("tokenInputObject").add(t),this},remove:function(t){return this.data("tokenInputObject").remove(t),this},get:function(){return this.data("tokenInputObject").getTokens()},toggleDisabled:function(t){return this.data("tokenInputObject").toggleDisabled(t),this},setOptions:function(t){return B(this).data("settings",B.extend({},B(this).data("settings"),t||{})),this},destroy:function(){if(this.data("tokenInputObject")){this.data("tokenInputObject").clear();var t=this,e=this.parent();return e.empty(),t.show(),e.append(t),t}}};B.fn.tokenInput=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):e.init.apply(this,arguments)},B.TokenList=function(c,t,p){function o(t){return B(c).data("settings").enableHTML?t:R(t)}function e(t){B(c).data("settings").disabled="boolean"==typeof t?t:!B(c).data("settings").disabled,X.attr("disabled",B(c).data("settings").disabled),A.toggleClass(B(c).data("settings").classes.disabled,B(c).data("settings").disabled),D&&d(B(D),q),Y.attr("disabled",B(c).data("settings").disabled)}function n(){return null!==B(c).data("settings").tokenLimit&&P>=B(c).data("settings").tokenLimit?(X.hide(),void g()):void 0}function i(){if(E!==(E=X.val())){var t=A.width()-X.offset().left-A.offset().left;I.html(R(E)||R(p.placeholder)),X.width(Math.min(A.width(),Math.max(t,I.width()+30)))}}function a(){var t=B.trim(X.val()).split(B(c).data("settings").tokenDelimiter);B.each(t,function(t,e){if(e){B.isFunction(B(c).data("settings").onFreeTaggingAdd)&&(e=B(c).data("settings").onFreeTaggingAdd.call(Y,e));var i={};i[B(c).data("settings").tokenValue]=i[B(c).data("settings").propertyToSearch]=e,h(i)}})}function r(t){var e=B(B(c).data("settings").tokenFormatter(t)),i=!0===t.readonly;i&&e.addClass(B(c).data("settings").classes.tokenReadOnly),e.addClass(B(c).data("settings").classes.token).insertBefore(z),i||B("<span>"+B(c).data("settings").deleteText+"</span>").addClass(B(c).data("settings").classes.tokenDelete).appendTo(e).click(function(){return B(c).data("settings").disabled?void 0:(u(B(this).parent()),Y.change(),!1)});var s=t;return B.data(e.get(0),"tokeninput",t),_=_.slice(0,L).concat([s]).concat(_.slice(L)),L++,f(_,Y),P+=1,null!==B(c).data("settings").tokenLimit&&P>=B(c).data("settings").tokenLimit&&(X.hide(),g()),e}function h(i){var t=B(c).data("settings").onAdd;if(0<P&&B(c).data("settings").preventDuplicates){var s=null;if(A.children().each(function(){var t=B(this),e=B.data(t.get(0),"tokeninput");return e&&e[p.tokenValue]===i[p.tokenValue]?(s=t,!1):void 0}),s)return l(s),z.insertAfter(s),void S(X)}X.width(1),(null==B(c).data("settings").tokenLimit||P<B(c).data("settings").tokenLimit)&&(r(i),X.attr("placeholder",null),n()),X.val(""),g(),B.isFunction(t)&&t.call(Y,i)}function l(t){B(c).data("settings").disabled||(t.addClass(B(c).data("settings").classes.selectedToken),D=t.get(0),X.val(""),g())}function d(t,e){t.removeClass(B(c).data("settings").classes.selectedToken),D=null,e===j?(z.insertBefore(t),L--):e===V?(z.insertAfter(t),L++):(z.appendTo(A),L=P),S(X)}function u(t){var e=B.data(t.get(0),"tokeninput"),i=B(c).data("settings").onDelete,s=t.prevAll().length;L<s&&s--,t.remove(),D=null,S(X),0==(_=_.slice(0,s).concat(_.slice(s+1))).length&&X.attr("placeholder",p.placeholder),s<L&&L--,f(_,Y),P-=1,null!==B(c).data("settings").tokenLimit&&(X.show().val(""),S(X)),B.isFunction(i)&&i.call(Y,e)}function f(t,e){var i=B.map(t,function(t){return"function"==typeof B(c).data("settings").tokenValue?B(c).data("settings").tokenValue.call(this,t):t[B(c).data("settings").tokenValue]});e.val(i.join(B(c).data("settings").tokenDelimiter))}function g(){W.hide().empty(),H=null}function m(){W.css({position:"absolute",top:A.offset().top+A.outerHeight(!0),left:A.offset().left,width:A.width(),"z-index":B(c).data("settings").zindex}).show()}function v(t){return t.replace(F,"\\$&")}function y(t,e,i){return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+v(e)+")(?![^<>]*>)(?![^&;]+;)","g"),(s=i,e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+v(s)+")(?![^<>]*>)(?![^&;]+;)","gi"),function(t,e){return"<b>"+o(e)+"</b>"})));var s}function T(s,t){if((t=function(t){if(B(c).data("settings").excludeCurrent){var e=B(c).data("tokenInputObject").getTokens(),n=[];e.length&&(B.each(t,function(t,i){var s=!0;B.each(e,function(t,e){return i[B(c).data("settings").propertyToSearch]==e[B(c).data("settings").propertyToSearch]?s=!1:void 0}),s&&n.push(i)}),t=n)}return t}(t))&&t.length){W.empty();var n=B("<ul/>").appendTo(W).mouseover(function(t){k(B(t.target).closest("li"))}).mousedown(function(t){return h(B(t.target).closest("li").data("tokeninput")),Y.change(),!1}).hide();B(c).data("settings").resultsLimit&&t.length>B(c).data("settings").resultsLimit&&(t=t.slice(0,B(c).data("settings").resultsLimit)),B.each(t,function(t,e){var i=B(c).data("settings").resultsFormatter(e);i=y(i,e[B(c).data("settings").propertyToSearch],s),i=B(i).appendTo(n),t%2?i.addClass(B(c).data("settings").classes.dropdownItem):i.addClass(B(c).data("settings").classes.dropdownItem2),0===t&&B(c).data("settings").autoSelectFirstResult&&k(i),B.data(i.get(0),"tokeninput",e)}),m(),B(c).data("settings").animateDropdown?n.slideDown("fast"):n.show()}else B(c).data("settings").noResultsText&&(W.html("<p>"+o(B(c).data("settings").noResultsText)+"</p>"),m())}function k(t){t&&(H&&(B(H).removeClass(B(c).data("settings").classes.selectedDropdownItem),H=null),t.addClass(B(c).data("settings").classes.selectedDropdownItem),H=t.get(0))}function x(){var t=X.val();t&&t.length&&(D&&d(B(D),V),t.length>=B(c).data("settings").minChars?(B(c).data("settings").searchingText&&(W.html("<p>"+o(B(c).data("settings").searchingText)+"</p>"),m()),clearTimeout(w),w=setTimeout(function(){!function(e){var i=e+b(),t=C.get(i);if(t)B.isFunction(B(c).data("settings").onCachedResult)&&(t=B(c).data("settings").onCachedResult.call(Y,t)),T(e,t);else if(B(c).data("settings").url){var s=b(),n={data:{}};if(-1<s.indexOf("?")){var o=s.split("?");n.url=o[0];var a=o[1].split("&");B.each(a,function(t,e){var i=e.split("=");n.data[i[0]]=i[1]})}else n.url=s;if(n.data[B(c).data("settings").queryParam]=e,n.type=B(c).data("settings").method,n.dataType=B(c).data("settings").contentType,B(c).data("settings").crossDomain&&(n.dataType="jsonp"),B(c).data("settings").excludeCurrent){var r=B(c).data("tokenInputObject").getTokens(),h=B.map(r,function(t){return"function"==typeof B(c).data("settings").tokenValue?B(c).data("settings").tokenValue.call(this,t):t[B(c).data("settings").tokenValue]});n.data[B(c).data("settings").excludeCurrentParameter]=h.join(B(c).data("settings").tokenDelimiter)}n.success=function(t){C.add(i,B(c).data("settings").jsonContainer?t[B(c).data("settings").jsonContainer]:t),B.isFunction(B(c).data("settings").onResult)&&(t=B(c).data("settings").onResult.call(Y,t)),X.val()===e&&T(e,B(c).data("settings").jsonContainer?t[B(c).data("settings").jsonContainer]:t)},p.onSend&&p.onSend(n),B.ajax(n)}else if(B(c).data("settings").local_data){var l=B.grep(B(c).data("settings").local_data,function(t){return-1<t[B(c).data("settings").propertyToSearch].toLowerCase().indexOf(e.toLowerCase())});C.add(i,l),B.isFunction(B(c).data("settings").onResult)&&(l=B(c).data("settings").onResult.call(Y,l)),T(e,l)}}(t)},B(c).data("settings").searchDelay)):g())}function b(){var t=B(c).data("settings").url;return"function"==typeof B(c).data("settings").url&&(t=B(c).data("settings").url.call(B(c).data("settings"))),t}function S(t){setTimeout(function(){t.focus()},50)}if("string"==typeof t||"function"==typeof t){B(c).data("settings").url=t;var s=b();void 0===B(c).data("settings").crossDomain&&"string"==typeof s&&(-1===s.indexOf("://")?B(c).data("settings").crossDomain=!1:B(c).data("settings").crossDomain=location.href.split(/\/+/g)[1]!==s.split(/\/+/g)[1])}else"object"==typeof t&&(B(c).data("settings").local_data=t);B(c).data("settings").classes?B(c).data("settings").classes=B.extend({},O,B(c).data("settings").classes):B(c).data("settings").theme?(B(c).data("settings").classes={},B.each(O,function(t,e){B(c).data("settings").classes[t]=e+"-"+B(c).data("settings").theme})):B(c).data("settings").classes=O;var w,E,_=[],P=0,C=new B.TokenList.Cache,X=B('<input type="text" autocomplete="off" autocapitalize="off"/>').css({outline:"none"}).attr("id",B(c).data("settings").idPrefix+c.id).focus(function(){return!B(c).data("settings").disabled&&((null===B(c).data("settings").tokenLimit||B(c).data("settings").tokenLimit!==P)&&(B(c).data("settings").hintText&&(W.html("<p>"+o(B(c).data("settings").hintText)+"</p>"),m())),void A.addClass(B(c).data("settings").classes.focused))}).blur(function(){g(),B(c).data("settings").allowFreeTagging&&a(),B(this).val(""),A.removeClass(B(c).data("settings").classes.focused)}).bind("keyup keydown blur update",i).keydown(function(t){var e,i;switch(t.keyCode){case Z:case G:case Q:case J:if(0===this.value.length)e=z.prev(),i=z.next(),e.length&&e.get(0)===D||i.length&&i.get(0)===D?t.keyCode===Z||t.keyCode===Q?d(B(D),j):d(B(D),V):t.keyCode!==Z&&t.keyCode!==Q||!e.length?t.keyCode!==G&&t.keyCode!==J||!i.length||l(B(i.get(0))):l(B(e.get(0)));else{var s=null;t.keyCode===J||t.keyCode===G?(s=B(W).find("li").first(),H&&(s=B(H).next())):(s=B(W).find("li").last(),H&&(s=B(H).prev())),k(s)}break;case U:if(e=z.prev(),0===this.value.length)return D?(u(B(D)),Y.change()):e.length&&l(B(e.get(0))),!1;1===B(this).val().length?g():setTimeout(function(){x()},5);break;case $:case N:case tt:case et:if(H)h(B(H).data("tokeninput")),Y.change();else{if(B(c).data("settings").allowFreeTagging){if(B(c).data("settings").allowTabOut&&""===B(this).val())return!0;a()}else if(B(this).val(""),B(c).data("settings").allowTabOut)return!0;t.stopPropagation(),t.preventDefault()}return!1;case K:return g(),!0;default:String.fromCharCode(t.which)&&setTimeout(function(){x()},5)}});p.placeholder&&X.attr("placeholder",p.placeholder);var Y=B(c).hide().val("").focus(function(){S(X)}).blur(function(){return X.blur(),Y}),D=null,L=0,H=null,A=B("<ul />").addClass(B(c).data("settings").classes.tokenList).click(function(t){var e,i,s=B(t.target).closest("li");s&&s.get(0)&&B.data(s.get(0),"tokeninput")?(e=s,(i=D)&&d(B(D),q),i===e.get(0)?d(e,q):l(e)):(D&&d(B(D),q),S(X))}).mouseover(function(t){var e=B(t.target).closest("li");e&&D!==this&&e.addClass(B(c).data("settings").classes.highlightedToken)}).mouseout(function(t){var e=B(t.target).closest("li");e&&D!==this&&e.removeClass(B(c).data("settings").classes.highlightedToken)}).insertBefore(Y),z=B("<li />").addClass(B(c).data("settings").classes.inputToken).appendTo(A).append(X),W=B("<div/>").addClass(B(c).data("settings").classes.dropdown).appendTo("body").hide(),I=B("<tester/>").insertAfter(X).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:X.css("fontSize"),fontFamily:X.css("fontFamily"),fontWeight:X.css("fontWeight"),letterSpacing:X.css("letterSpacing"),whiteSpace:"nowrap"});Y.val("");var M=B(c).data("settings").prePopulate||Y.data("pre");B(c).data("settings").processPrePopulate&&B.isFunction(B(c).data("settings").onResult)&&(M=B(c).data("settings").onResult.call(Y,M)),M&&M.length&&B.each(M,function(t,e){r(e),n(),X.attr("placeholder",null)}),B(c).data("settings").disabled&&e(!0),"function"==typeof B(c).data("settings").onReady&&B(c).data("settings").onReady.call(),this.clear=function(){A.children("li").each(function(){0===B(this).children("input").length&&u(B(this))})},this.add=function(t){h(t)},this.remove=function(s){A.children("li").each(function(){if(0===B(this).children("input").length){var t=B(this).data("tokeninput"),e=!0;for(var i in s)if(s[i]!==t[i]){e=!1;break}e&&u(B(this))}})},this.getTokens=function(){return _},this.toggleDisabled=function(t){e(t)},i();var F=new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g")},B.TokenList.Cache=function(t){var i,s,n={},o=0;i=B.extend({max_size:500},t),s=function(){n={},o=0},this.add=function(t,e){o>i.max_size&&s(),n[t]||(o+=1),n[t]=e},this.get=function(t){return n[t]}}}(jQuery),function(o,a,p){function t(t,e){for(var i in this.wrapper="string"==typeof t?a.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={mouseWheelSpeed:20,snapThreshold:.334,infiniteUseTransform:!0,deceleration:.004,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0},e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&g.hasPerspective?" translateZ(0)":"",this.options.useTransition=g.hasTransition&&this.options.useTransition,this.options.useTransform=g.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?g.ease[this.options.bounceEasing]||g.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.infiniteElements&&(this.options.probeType=3),this.options.infiniteUseTransform=this.options.infiniteUseTransform&&this.options.useTransform,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}var f=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(t){o.setTimeout(t,1e3/60)},g=function(){function t(t){return!1!==e&&(""===e?t:e+t.charAt(0).toUpperCase()+t.substr(1))}var s={},n=a.createElement("div").style,e=function(){for(var t=["t","webkitT","MozT","msT","OT"],e=0,i=t.length;e<i;e++)if(t[e]+"ransform"in n)return t[e].substr(0,t[e].length-1);return!1}();s.getTime=Date.now||function(){return(new Date).getTime()},s.extend=function(t,e){for(var i in e)t[i]=e[i]},s.addEvent=function(t,e,i,s){t.addEventListener(e,i,!!s)},s.removeEvent=function(t,e,i,s){t.removeEventListener(e,i,!!s)},s.prefixPointerEvent=function(t){return o.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},s.momentum=function(t,e,i,s,n,o){var a,r,h=t-e,l=p.abs(h)/i;return r=l/(o=void 0===o?6e-4:o),(a=t+l*l/(2*o)*(h<0?-1:1))<s?(a=n?s-n/2.5*(l/8):s,r=(h=p.abs(a-t))/l):0<a&&(a=n?n/2.5*(l/8):0,r=(h=p.abs(t)+a)/l),{destination:p.round(a),duration:r}};var i=t("transform");return s.extend(s,{hasTransform:!1!==i,hasPerspective:t("perspective")in n,hasTouch:"ontouchstart"in o,hasPointer:o.PointerEvent||o.MSPointerEvent,hasTransition:t("transition")in n}),s.isBadAndroid=/Android /.test(o.navigator.appVersion)&&!/Chrome\/\d/.test(o.navigator.appVersion),s.extend(s.style={},{transform:i,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),s.hasClass=function(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},s.addClass=function(t,e){if(!s.hasClass(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}},s.removeClass=function(t,e){if(s.hasClass(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}},s.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},s.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},s.extend(s.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),s.extend(s.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return p.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*p.pow(2,-10*t)*p.sin((t-.055)*(2*p.PI)/.22)+1}}}),s.tap=function(t,e){var i=a.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},s.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||((e=a.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},s}();t.prototype={version:"5.1.3",_init:function(){this._initEvents(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys(),this.options.infiniteElements&&this._initInfinite()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==g.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||g.eventType[t.type]===this.initiated)){!this.options.preventDefault||g.isBadAndroid||g.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=g.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=g.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(p.round(e.x),p.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&g.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,s,n,o=t.touches?t.touches[0]:t,a=o.pageX-this.pointX,r=o.pageY-this.pointY,h=g.getTime();if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=a,this.distY+=r,s=p.abs(this.distX),n=p.abs(this.distY),!(300<h-this.endTime&&s<10&&n<10)){if(this.directionLocked||this.options.freeScroll||(s>n+this.options.directionLockThreshold?this.directionLocked="h":n>=s+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);r=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,r=this.hasVerticalScroll?r:0,e=this.x+a,i=this.y+r,(0<e||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:0<e?0:this.maxScrollX),(0<i||i<this.maxScrollY)&&(i=this.options.bounce?this.y+r/3:0<i?0:this.maxScrollY),this.directionX=0<a?-1:a<0?1:0,this.directionY=0<r?-1:r<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),300<h-this.startTime&&(this.startTime=h,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),1<this.options.probeType&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&g.eventType[t.type]===this.initiated){this.options.preventDefault&&!g.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,s=(t.changedTouches&&t.changedTouches[0],g.getTime()-this.startTime),n=p.round(this.x),o=p.round(this.y),a=p.abs(n-this.startX),r=p.abs(o-this.startY),h=0,l="";if(this.isInTransition=0,this.initiated=0,this.endTime=g.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(n,o),!this.moved)return this.options.tap&&g.tap(t,this.options.tap),this.options.click&&g.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&s<200&&a<100&&r<100)return void this._execEvent("flick");if(this.options.momentum&&s<300&&(e=this.hasHorizontalScroll?g.momentum(this.x,this.startX,s,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:n,duration:0},i=this.hasVerticalScroll?g.momentum(this.y,this.startY,s,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:o,duration:0},n=e.destination,o=i.destination,h=p.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var c=this._nearestSnap(n,o);this.currentPage=c,h=this.options.snapSpeed||p.max(p.max(p.min(p.abs(n-c.x),1e3),p.min(p.abs(o-c.y),1e3)),300),n=c.x,o=c.y,this.directionX=0,this.directionY=0,l=this.options.bounceEasing}return n!=this.x||o!=this.y?((0<n||n<this.maxScrollX||0<o||o<this.maxScrollY)&&(l=g.ease.quadratic),void this.scrollTo(n,o,h,l)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||0<this.x?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||0<this.y?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var t;this.wrapper.offsetHeight,this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.options.infiniteElements&&(this.options.infiniteLimit=this.options.infiniteLimit||p.floor(2147483645/this.infiniteElementHeight),t=-this.options.infiniteLimit*this.infiniteElementHeight+this.wrapperHeight),this.maxScrollY=void 0!==t?t:this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=g.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);-1<i&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,s){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,s)},scrollTo:function(t,e,i,s){s=s||g.ease.circular,this.isInTransition=this.options.useTransition&&0<i,!i||this.options.useTransition&&s.style?(this._transitionTimingFunction(s.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,s.fn)},scrollToElement:function(t,e,i,s,n){if(t=t.nodeType?t:this.scroller.querySelector(t)){var o=g.offset(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,!0===i&&(i=p.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===s&&(s=p.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=i||0,o.top-=s||0,o.left=0<o.left?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=0<o.top?0:o.top<this.maxScrollY?this.maxScrollY:o.top,e=null==e||"auto"===e?p.max(p.abs(this.x-o.left),p.abs(this.y-o.top)):e,this.scrollTo(o.left,o.top,e,n)}},_transitionTime:function(t){t=t||0,this.scrollerStyle[g.style.transitionDuration]=t+"ms",!t&&g.isBadAndroid&&(this.scrollerStyle[g.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(t){this.scrollerStyle[g.style.transitionTimingFunction]=t},_translate:function(t,e){this.options.useTransform?this.scrollerStyle[g.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=p.round(t),e=p.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e},_initEvents:function(t){var e=t?g.removeEvent:g.addEvent,i=this.options.bindToWrapper?this.wrapper:o;e(o,"orientationchange",this),e(o,"resize",this),this.options.click&&e(this.wrapper,"click",this,!0),this.options.disableMouse||(e(this.wrapper,"mousedown",this),e(i,"mousemove",this),e(i,"mousecancel",this),e(i,"mouseup",this)),g.hasPointer&&!this.options.disablePointer&&(e(this.wrapper,g.prefixPointerEvent("pointerdown"),this),e(i,g.prefixPointerEvent("pointermove"),this),e(i,g.prefixPointerEvent("pointercancel"),this),e(i,g.prefixPointerEvent("pointerup"),this)),g.hasTouch&&!this.options.disableTouch&&(e(this.wrapper,"touchstart",this),e(i,"touchmove",this),e(i,"touchcancel",this),e(i,"touchend",this)),e(this.scroller,"transitionend",this),e(this.scroller,"webkitTransitionEnd",this),e(this.scroller,"oTransitionEnd",this),e(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,e,i=o.getComputedStyle(this.scroller,null);return this.options.useTransform?(t=+((i=i[g.style.transform].split(")")[0].split(", "))[12]||i[4]),e=+(i[13]||i[5])):(t=+i.left.replace(/[^-\d.]/g,""),e=+i.top.replace(/[^-\d.]/g,"")),{x:t,y:e}},_initWheel:function(){g.addEvent(this.wrapper,"wheel",this),g.addEvent(this.wrapper,"mousewheel",this),g.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){g.removeEvent(this.wrapper,"wheel",this),g.removeEvent(this.wrapper,"mousewheel",this),g.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,i,s,n,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return s=this.currentPage.pageX,n=this.currentPage.pageY,0<e?s--:e<0&&s++,0<i?n--:i<0&&n++,void this.goToPage(s,n);s=this.x+p.round(this.hasHorizontalScroll?e:0),n=this.y+p.round(this.hasVerticalScroll?i:0),0<s?s=0:s<this.maxScrollX&&(s=this.maxScrollX),0<n?n=0:n<this.maxScrollY&&(n=this.maxScrollY),this.scrollTo(s,n,0),1<this.options.probeType&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,s,n,o,a=0,r=0,h=0,l=this.options.snapStepX||this.wrapperWidth,c=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(i=p.round(l/2),s=p.round(c/2);h>-this.scrollerWidth;){for(this.pages[a]=[],n=t=0;n>-this.scrollerHeight;)this.pages[a][t]={x:p.max(h,this.maxScrollX),y:p.max(n,this.maxScrollY),width:l,height:c,cx:h-i,cy:n-s},n-=c,t++;h-=l,a++}else for(t=(o=this.options.snap).length,e=-1;a<t;a++)(0===a||o[a].offsetLeft<=o[a-1].offsetLeft)&&(r=0,e++),this.pages[r]||(this.pages[r]=[]),h=p.max(-o[a].offsetLeft,this.maxScrollX),n=p.max(-o[a].offsetTop,this.maxScrollY),i=h-p.round(o[a].offsetWidth/2),s=n-p.round(o[a].offsetHeight/2),this.pages[r][e]={x:h,y:n,width:o[a].offsetWidth,height:o[a].offsetHeight,cx:i,cy:s},h>this.maxScrollX&&r++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=p.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=p.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||p.max(p.max(p.min(p.abs(this.x-this.startX),1e3),p.min(p.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,s=this.pages.length,n=0;if(p.abs(t-this.absStartX)<this.snapThresholdX&&p.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<t?t=0:t<this.maxScrollX&&(t=this.maxScrollX),0<e?e=0:e<this.maxScrollY&&(e=this.maxScrollY);i<s;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(s=this.pages[i].length;n<s;n++)if(e>=this.pages[0][n].cy){e=this.pages[0][n].y;break}return i==this.currentPage.pageX&&((i+=this.directionX)<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),n==this.currentPage.pageY&&((n+=this.directionY)<0?n=0:n>=this.pages[0].length&&(n=this.pages[0].length-1),e=this.pages[0][n].y),{x:t,y:e,pageX:i,pageY:n}},goToPage:function(t,e,i,s){s=s||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var n=this.pages[t][e].x,o=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||p.max(p.max(p.min(p.abs(n-this.x),1e3),p.min(p.abs(o-this.y),1e3)),300):i,this.currentPage={x:n,y:o,pageX:t,pageY:e},this.scrollTo(n,o,i,s)},next:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;++i>=this.pages.length&&this.hasVerticalScroll&&(i=0,s++),this.goToPage(i,s,t,e)},prev:function(t,e){var i=this.currentPage.pageX,s=this.currentPage.pageY;--i<0&&this.hasVerticalScroll&&(i=0,s--),this.goToPage(i,s,t,e)},_initKeys:function(t){var e,i={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in i)this.options.keyBindings[e]=this.options.keyBindings[e]||i[e];g.addEvent(o,"keydown",this),this.on("destroy",function(){g.removeEvent(o,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,s=i?this.currentPage.pageX:this.x,n=i?this.currentPage.pageY:this.y,o=g.getTime(),a=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(p.round(e.x),p.round(e.y)),this.isInTransition=!1),this.keyAcceleration=o-a<200?p.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?s+=i?1:this.wrapperWidth:n+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?s-=i?1:this.wrapperWidth:n-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:s=i?this.pages.length-1:this.maxScrollX,n=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=s=0;break;case this.options.keyBindings.left:s+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:n+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:s-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:n-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(s,n);0<s?(s=0,this.keyAcceleration=0):s<this.maxScrollX&&(s=this.maxScrollX,this.keyAcceleration=0),0<n?(n=0,this.keyAcceleration=0):n<this.maxScrollY&&(n=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(s,n,0),this.keyTime=o}},_animate:function(o,a,r,h){var l=this,c=this.x,p=this.y,d=g.getTime(),u=d+r;this.isAnimating=!0,function t(){var e,i,s,n=g.getTime();return u<=n?(l.isAnimating=!1,l._translate(o,a),void(l.resetPosition(l.options.bounceTime)||l._execEvent("scrollEnd"))):(s=h(n=(n-d)/r),e=(o-c)*s+c,i=(a-p)*s+p,l._translate(e,i),l.isAnimating&&f(t),void(3==l.options.probeType&&l._execEvent("scroll")))}()},_initInfinite:function(){var t=this.options.infiniteElements;this.infiniteElements="string"==typeof t?a.querySelectorAll(t):t,this.infiniteLength=this.infiniteElements.length,this.infiniteMaster=this.infiniteElements[0],this.infiniteElementHeight=this.infiniteMaster.offsetHeight,this.infiniteHeight=this.infiniteLength*this.infiniteElementHeight,this.options.cacheSize=this.options.cacheSize||1e3,this.infiniteCacheBuffer=p.round(this.options.cacheSize/4),this.options.dataset.call(this,0,this.options.cacheSize),this.on("refresh",function(){var t=p.ceil(this.wrapperHeight/this.infiniteElementHeight);this.infiniteUpperBufferSize=p.floor((this.infiniteLength-t)/2),this.reorderInfinite()}),this.on("scroll",this.reorderInfinite)},reorderInfinite:function(){for(var t=(this.y,this.wrapperHeight,p.max(p.floor(-this.y/this.infiniteElementHeight)-this.infiniteUpperBufferSize,0)),e=p.floor(t/this.infiniteLength),i=t-e*this.infiniteLength,s=0,n=0,o=[],a=p.floor(t/this.infiniteCacheBuffer);n<this.infiniteLength;)s=n*this.infiniteElementHeight+e*this.infiniteHeight,n<i&&(s+=this.infiniteElementHeight*this.infiniteLength),this.infiniteElements[n]._top!==s&&(this.infiniteElements[n]._phase=s/this.infiniteElementHeight,this.infiniteElements[n]._phase<this.options.infiniteLimit&&(this.infiniteElements[n]._top=s,this.options.infiniteUseTransform?this.infiniteElements[n].style[g.style.transform]="translate(0, "+s+"px)"+this.translateZ:this.infiniteElements[n].style.top=s+"px",o.push(this.infiniteElements[n]))),n++;this.cachePhase!=a&&(0===a||0<t-this.infiniteCacheBuffer)&&this.options.dataset.call(this,p.max(a*this.infiniteCacheBuffer-this.infiniteCacheBuffer,0),this.options.cacheSize),this.cachePhase=a,this.updateContent(o)},updateContent:function(t){if(void 0!==this.infiniteCache)for(var e=0,i=t.length;e<i;e++)this.options.dataFiller.call(this,t[e],this.infiniteCache[t[e]._phase])},updateCache:function(t,e){var i=void 0===this.infiniteCache;this.infiniteCache={};for(var s=0,n=e.length;s<n;s++)this.infiniteCache[t++]=e[s];i&&this.updateContent(this.infiniteElements)},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},t.utils=g,"undefined"!=typeof module&&module.exports?module.exports=t:o.IScroll=t}(window,document,Math),function(){"use strict";function t(a){function i(t,e){this.element=t,this.options=a.extend({},r,e),this._create()}var s="searcher",n="plugin_"+s,r={itemSelector:"tbody > tr",textSelector:"td",inputSelector:"",caseSensitive:!1,toggle:function(t,e){a(t).toggle(e)}};i.prototype={dispose:function(){this._$input.unbind("."+s);var t=this.options,e=t.toggle||r.toggle;this._$element.find(t.itemSelector).each(function(){e(this,!0)})},_create:function(){var t=this.options;this._$element=a(this.element),this._fn=a.proxy(this._onValueChange,this);this._$input=a(t.inputSelector).bind("input.searcher change.searcher keyup.searcher",this._fn),this._lastValue="";var e=t.toggle||r.toggle;this._$element.find(t.itemSelector).each(function(){e(this,!0)})},_onValueChange:function(){var t=this.options,s=t.textSelector,n=t.toggle||r.toggle,e="gm"+(t.caseSensitive?"":"i"),o=new RegExp("("+this._$input.val().replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+")",e);o.toString()!==this._lastValue&&(this._lastValue=o.toString(),this._$element.find(t.itemSelector).each(function(){var t=a(this),e=s?t.find(s):t,i=!1;e=e.each(function(){return!(i=i||!!a(this).text().match(o))}),n(this,i)}))}},a.fn[s]=function(e){return this.each(function(){var t=a.data(this,n);t&&"dispose"===e?(t.dispose(),a.removeData(this,n)):t?a.extend(t.options,e):"object"==typeof e&&a.data(this,n,new i(this,e))})}}"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}.call(this),function(o){o.fn.clearSearch=function(t){var n=o.extend({clearClass:"clear_input",focusAfterClear:!0,linkText:"&times;"},t);return this.each(function(){function t(){var t,e;0<s.val().replace(/^\s+|\s+$/g,"").length?i.show():i.hide(),t=s.outerWidth(),e=s.outerHeight(),i.css({top:e/2-i.height()/2,left:t-e/2-i.height()/2})}var i,s=o(this),e=n.clearClass+"_div";s.parent().hasClass(e)||(s.wrap('<div style="position: relative;" class="'+e+'">'+s.html()+"</div>"),s.after('<a style="position: absolute; cursor: pointer;" class="'+n.clearClass+'">'+n.linkText+"</a>")),(i=s.next()).on("click",function(){s.val("").change(),t(),n.focusAfterClear&&s.focus(),"function"==typeof n.callback&&n.callback()}),s.on("keyup keydown change focus",t),t()})}}(jQuery);
(function(){var o,t,i,e,d,c,n,s,l=[].slice,r={}.hasOwnProperty;n=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,s;if(i=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[i])for(n=0,s=t.length;n<s;n++)t[n].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,s,r;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(n=s=0,r=i.length;s<r;n=++s)if(i[n]===t){i.splice(n,1);break}return this},e}(),(o=function(e){var R,P;function H(e,t){var i,n,s;if(this.element=e,this.version=H.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(H.instances.push(this),this.element.dropzone=this,i=null!=(s=H.optionsForElement(this.element))?s:{},this.options=R({},this.defaultOptions,i,null!=t?t:{}),this.options.forceFallback||!H.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(n=this.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=H.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=H.getElements(this.options.clickable,"clickable")),this.init()}return function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(H,t),H.prototype.Emitter=t,H.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],H.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return n},forceFallback:!1,fallback:function(){var e,t,i,n,s,r;for(this.element.className=this.element.className+" dz-browser-not-supported",n=0,s=(r=this.element.getElementsByTagName("div")).length;n<s;n++)e=r[n],/(^| )dz-message($| )/.test(e.className)&&((t=e).className="dz-message");return t||(t=H.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(i=t.getElementsByTagName("span")[0])&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n<i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,i,n,s,r,o,l,a,p,u,d,c,h;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=H.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),n=0,o=(p=t.previewElement.querySelectorAll("[data-dz-name]")).length;n<o;n++)p[n].textContent=t.name;for(s=0,l=(u=t.previewElement.querySelectorAll("[data-dz-size]")).length;s<l;s++)u[s].innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=H.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),h=this,e=function(e){return e.preventDefault(),e.stopPropagation(),t.status===H.UPLOADING?H.confirm(h.options.dictCancelUploadConfirmation,function(){return h.removeFile(t)}):h.options.dictRemoveFileConfirmation?H.confirm(h.options.dictRemoveFileConfirmation,function(){return h.removeFile(t)}):h.removeFile(t)},c=[],r=0,a=(d=t.previewElement.querySelectorAll("[data-dz-remove]")).length;r<a;r++)i=d[r],c.push(i.addEventListener("click",e));return c}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,s,r;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),n=0,s=(r=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<s;n++)(i=r[n]).alt=e.name,i.src=t;return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){var i,n,s,r,o;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=[],n=0,s=(r=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<s;n++)i=r[n],o.push(i.textContent=t);return o}},errormultiple:n,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:n,uploadprogress:function(e,t,i){var n,s,r,o,l;if(e.previewElement){for(l=[],s=0,r=(o=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;s<r;s++)"PROGRESS"===(n=o[s]).nodeName?l.push(n.value=t):l.push(n.style.width=t+"%");return l}},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:n,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:n,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,queuecomplete:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},R=function(){var e,t,i,n,s,r,o;for(n=arguments[0],r=0,o=(i=2<=arguments.length?l.call(arguments,1):[]).length;r<o;r++)for(e in t=i[r])s=t[e],n[e]=s;return n},H.prototype.getAcceptedFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted&&s.push(e);return s},H.prototype.getRejectedFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted||s.push(e);return s},H.prototype.getFilesWithStatus=function(e){var t,i,n,s,r;for(r=[],i=0,n=(s=this.files).length;i<n;i++)(t=s[i]).status===e&&r.push(t);return r},H.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(H.QUEUED)},H.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(H.UPLOADING)},H.prototype.getActiveFiles=function(){var e,t,i,n,s;for(s=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).status!==H.UPLOADING&&e.status!==H.QUEUED||s.push(e);return s},H.prototype.init=function(){var e,i,s,t,n,r,o,l,a,p,u,d,c,h,m,f,g,v,y;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(H.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(l=this,(s=function(){return l.hiddenFileInput&&document.body.removeChild(l.hiddenFileInput),l.hiddenFileInput=document.createElement("input"),l.hiddenFileInput.setAttribute("type","file"),(null==l.options.maxFiles||1<l.options.maxFiles)&&l.hiddenFileInput.setAttribute("multiple","multiple"),l.hiddenFileInput.className="dz-hidden-input",null!=l.options.acceptedFiles&&l.hiddenFileInput.setAttribute("accept",l.options.acceptedFiles),null!=l.options.capture&&l.hiddenFileInput.setAttribute("capture",l.options.capture),l.hiddenFileInput.style.visibility="hidden",l.hiddenFileInput.style.position="absolute",l.hiddenFileInput.style.top="0",l.hiddenFileInput.style.left="0",l.hiddenFileInput.style.height="0",l.hiddenFileInput.style.width="0",document.body.appendChild(l.hiddenFileInput),l.hiddenFileInput.addEventListener("change",function(){var e,t,i,n;if((t=l.hiddenFileInput.files).length)for(i=0,n=t.length;i<n;i++)e=t[i],l.addFile(e);return s()})})()),this.URL=null!=(r=window.URL)?r:window.webkitURL,t=0,n=(o=this.events).length;t<n;t++)e=o[t],this.on(e,this.options[e]);return this.on("uploadprogress",(a=this,function(){return a.updateTotalUploadProgress()})),this.on("removedfile",(p=this,function(){return p.updateTotalUploadProgress()})),this.on("canceled",(u=this,function(e){return u.emit("complete",e)})),this.on("complete",(d=this,function(e){if(0===d.getUploadingFiles().length&&0===d.getQueuedFiles().length)return setTimeout(function(){return d.emit("queuecomplete")},0)})),i=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:(v=this,function(e){return v.emit("dragstart",e)}),dragenter:(g=this,function(e){return i(e),g.emit("dragenter",e)}),dragover:(f=this,function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(e){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",i(e),f.emit("dragover",e)}),dragleave:(m=this,function(e){return m.emit("dragleave",e)}),drop:(h=this,function(e){return i(e),h.drop(e)}),dragend:(c=this,function(e){return c.emit("dragend",e)})}}],this.clickableElements.forEach((y=this,function(t){return y.listeners.push({element:t,events:{click:function(e){if(t!==y.element||e.target===y.element||H.elementInside(e.target,y.element.querySelector(".dz-message")))return y.hiddenFileInput.click()}}})})),this.enable(),this.options.init.call(this)},H.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,H.instances.splice(H.instances.indexOf(this),1)},H.prototype.updateTotalUploadProgress=function(){var e,t,i,n,s,r,o;if(t=i=0,this.getActiveFiles().length){for(s=0,r=(o=this.getActiveFiles()).length;s<r;s++)i+=(e=o[s]).upload.bytesSent,t+=e.upload.total;n=100*i/t}else n=100;return this.emit("totaluploadprogress",n,t,i)},H.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},H.prototype.getFallbackForm=function(){var e,t,i,n;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=H.createElement(i),"FORM"!==this.element.tagName?(n=H.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:t)},H.prototype.getExistingFallback=function(){var e,t,i,n,s,r;for(t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},n=0,s=(r=["div","form"]).length;n<s;n++)if(i=r[n],e=t(this.element.getElementsByTagName(i)))return e},H.prototype.setupEventListeners=function(){var i,n,s,e,t,r,o;for(o=[],e=0,t=(r=this.listeners).length;e<t;e++)i=r[e],o.push(function(){var e,t;for(n in t=[],e=i.events)s=e[n],t.push(i.element.addEventListener(n,s,!1));return t}());return o},H.prototype.removeEventListeners=function(){var i,n,s,e,t,r,o;for(o=[],e=0,t=(r=this.listeners).length;e<t;e++)i=r[e],o.push(function(){var e,t;for(n in t=[],e=i.events)s=e[n],t.push(i.element.removeEventListener(n,s,!1));return t}());return o},H.prototype.disable=function(){var e,t,i,n,s;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),s=[],t=0,i=(n=this.files).length;t<i;t++)e=n[t],s.push(this.cancelUpload(e));return s},H.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},H.prototype.filesize=function(e){var t,i,n,s,r,o,l;for(i=n=null,t=o=0,l=(r=["TB","GB","MB","KB","b"]).length;o<l;t=++o)if(s=r[t],Math.pow(this.options.filesizeBase,4-t)/10<=e){i=e/Math.pow(this.options.filesizeBase,4-t),n=s;break}return"<strong>"+(i=Math.round(10*i)/10)+"</strong> "+n},H.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},H.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),(t=e.dataTransfer.files).length&&((i=e.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},H.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},H.prototype.handleFiles=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;i<n;i++)t=e[i],s.push(this.addFile(t));return s},H.prototype._addFilesFromItems=function(e){var t,i,n,s,r;for(r=[],n=0,s=e.length;n<s;n++)null!=(i=e[n]).webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?r.push(this.addFile(i.getAsFile())):t.isDirectory?r.push(this._addFilesFromDirectory(t,t.name)):r.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?r.push(this.addFile(i.getAsFile())):r.push(void 0);return r},H.prototype._addFilesFromDirectory=function(e,s){var t,i,r;return t=e.createReader(),r=this,i=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).isFile?t.file(function(e){if(!r.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=s+"/"+e.name,r.addFile(e)}):t.isDirectory&&r._addFilesFromDirectory(t,s+"/"+t.name)},t.readEntries(i,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},H.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):H.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},H.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=H.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(i=this,function(e){return e?(t.accepted=!1,i._errorProcessing([t],e)):(t.accepted=!0,i.options.autoQueue&&i.enqueueFile(t)),i._updateMaxFilesReachedClass()}));var i},H.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],this.enqueueFile(t);return null},H.prototype.enqueueFile=function(e){if(e.status!==H.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=H.QUEUED,this.options.autoProcessQueue)return setTimeout((t=this,function(){return t.processQueue()}),0);var t},H.prototype._thumbnailQueue=[],H.prototype._processingThumbnail=!1,H.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},H.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},H.prototype.removeFile=function(e){if(e.status===H.UPLOADING&&this.cancelUpload(e),this.files=s(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},H.prototype.removeAllFiles=function(e){var t,i,n,s;for(null==e&&(e=!1),i=0,n=(s=this.files.slice()).length;i<n;i++)((t=s[i]).status!==H.UPLOADING||e)&&this.removeFile(t);return null},H.prototype.createThumbnail=function(e,t){var i,n;return(i=new FileReader).onload=(n=this,function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}),i.readAsDataURL(e)},H.prototype.createThumbnailFromUrl=function(a,e,p){var u,d;return(u=document.createElement("img")).onload=(d=this,function(){var e,t,i,n,s,r,o,l;if(a.width=u.width,a.height=u.height,null==(i=d.options.resize.call(d,a)).trgWidth&&(i.trgWidth=i.optWidth),null==i.trgHeight&&(i.trgHeight=i.optHeight),t=(e=document.createElement("canvas")).getContext("2d"),e.width=i.trgWidth,e.height=i.trgHeight,c(t,u,null!=(s=i.srcX)?s:0,null!=(r=i.srcY)?r:0,i.srcWidth,i.srcHeight,null!=(o=i.trgX)?o:0,null!=(l=i.trgY)?l:0,i.trgWidth,i.trgHeight),n=e.toDataURL("image/png"),d.emit("thumbnail",a,n),null!=p)return p()}),null!=p&&(u.onerror=p),u.src=e},H.prototype.processQueue=function(){var e,t,i,n;if(!((t=this.options.parallelUploads)<=(e=i=this.getUploadingFiles().length))&&0<(n=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},H.prototype.processFile=function(e){return this.processFiles([e])},H.prototype.processFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).processing=!0,t.status=H.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},H.prototype._getFilesWithXhr=function(s){var r;return function(){var e,t,i,n;for(n=[],e=0,t=(i=this.files).length;e<t;e++)(r=i[e]).xhr===s&&n.push(r);return n}.call(this)},H.prototype.cancelUpload=function(e){var t,i,n,s,r,o,l;if(e.status===H.UPLOADING){for(n=0,r=(i=this._getFilesWithXhr(e.xhr)).length;n<r;n++)(t=i[n]).status=H.CANCELED;for(e.xhr.abort(),s=0,o=i.length;s<o;s++)t=i[s],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(l=e.status)!==H.ADDED&&l!==H.QUEUED||(e.status=H.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},P=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},H.prototype.uploadFile=function(e){return this.uploadFiles([e])},H.prototype.uploadFiles=function(u){var d,e,i,t,n,s,r,o,l,a,p,c,h,m,f,g,v,y,F,w,E,b,C,k,z,L,x,T,A,D,S,_,M,U,N,I;for(y=new XMLHttpRequest,F=0,C=u.length;F<C;F++)(d=u[F]).xhr=y;for(t in c=P(this.options.method,u),g=P(this.options.url,u),y.open(c,g,!0),y.withCredentials=!!this.options.withCredentials,m=null,i=function(){var e,t,i;for(i=[],e=0,t=u.length;e<t;e++)d=u[e],i.push(U._errorProcessing(u,m||U.options.dictResponseError.replace("{{statusCode}}",y.status),y));return i},N=U=this,f=function(e){var t,i,n,s,r,o,l,a,p;if(null!=e)for(i=100*e.loaded/e.total,n=0,o=u.length;n<o;n++)(d=u[n]).upload={progress:i,total:e.total,bytesSent:e.loaded};else{for(t=!0,i=100,s=0,l=u.length;s<l;s++)100===(d=u[s]).upload.progress&&d.upload.bytesSent===d.upload.total||(t=!1),d.upload.progress=i,d.upload.bytesSent=d.upload.total;if(t)return}for(p=[],r=0,a=u.length;r<a;r++)d=u[r],p.push(N.emit("uploadprogress",d,i,d.upload.bytesSent));return p},y.onload=(I=this,function(t){var e;if(u[0].status!==H.CANCELED&&4===y.readyState){if(m=y.responseText,y.getResponseHeader("content-type")&&~y.getResponseHeader("content-type").indexOf("application/json"))try{m=JSON.parse(m)}catch(e){t=e,m="Invalid JSON response from server."}return f(),200<=(e=y.status)&&e<300?I._finished(u,m,t):i()}}),y.onerror=function(){if(u[0].status!==H.CANCELED)return i()},(null!=(T=y.upload)?T:y).onprogress=f,s={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&R(s,this.options.headers),s)n=s[t],y.setRequestHeader(t,n);if(e=new FormData,this.options.params)for(p in A=this.options.params)v=A[p],e.append(p,v);for(w=0,k=u.length;w<k;w++)d=u[w],this.emit("sending",d,y,e);if(this.options.uploadMultiple&&this.emit("sendingmultiple",u,y,e),"FORM"===this.element.tagName)for(E=0,z=(D=this.element.querySelectorAll("input, textarea, select, button")).length;E<z;E++)if(l=(o=D[E]).getAttribute("name"),a=o.getAttribute("type"),"SELECT"===o.tagName&&o.hasAttribute("multiple"))for(b=0,L=(S=o.options).length;b<L;b++)(h=S[b]).selected&&e.append(l,h.value);else(!a||"checkbox"!==(_=a.toLowerCase())&&"radio"!==_||o.checked)&&e.append(l,o.value);for(r=x=0,M=u.length-1;0<=M?x<=M:M<=x;r=0<=M?++x:--x)e.append(this._getParamName(r),u[r],u[r].name);return y.send(e)},H.prototype._finished=function(e,t,i){var n,s,r;for(s=0,r=e.length;s<r;s++)(n=e[s]).status=H.SUCCESS,this.emit("success",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},H.prototype._errorProcessing=function(e,t,i){var n,s,r;for(s=0,r=e.length;s<r;s++)(n=e[s]).status=H.ERROR,this.emit("error",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},H}()).version="4.0.1",o.options={},o.optionsForElement=function(e){return e.getAttribute("id")?o.options[i(e.getAttribute("id"))]:void 0},o.instances=[],o.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},o.autoDiscover=!0,o.discover=function(){var e,t,r,i,n,s;for(document.querySelectorAll?r=document.querySelectorAll(".dropzone"):(r=[],(e=function(e){var t,i,n,s;for(s=[],i=0,n=e.length;i<n;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?s.push(r.push(t)):s.push(void 0);return s})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),s=[],i=0,n=r.length;i<n;i++)t=r[i],!1!==o.optionsForElement(t)?s.push(new o(t)):s.push(void 0);return s},o.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],o.isBrowserSupported=function(){var e,t,i,n;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(t=0,i=(n=o.blacklistedBrowsers).length;t<i;t++)n[t].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},s=function(e,t){var i,n,s,r;for(r=[],n=0,s=e.length;n<s;n++)(i=e[n])!==t&&r.push(i);return r},i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},o.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},o.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},o.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},o.getElements=function(e,t){var i,n,s,r,o,l,a;if(e instanceof Array){n=[];try{for(s=0,o=e.length;s<o;s++)i=e[s],n.push(this.getElement(i,t))}catch(e){e,n=null}}else if("string"==typeof e)for(n=[],r=0,l=(a=document.querySelectorAll(e)).length;r<l;r++)i=a[r],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},o.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},o.isValidFile=function(e,t){var i,n,s,r,o;if(!t)return!0;for(t=t.split(","),i=(n=e.type).replace(/\/.*$/,""),r=0,o=t.length;r<o;r++)if("."===(s=(s=t[r]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(s.toLowerCase(),e.name.length-s.length))return!0}else if(/\/\*$/.test(s)){if(i===s.replace(/\/.*$/,""))return!0}else if(n===s)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new o(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=o:window.Dropzone=o,o.ADDED="added",o.QUEUED="queued",o.ACCEPTED=o.QUEUED,o.UPLOADING="uploading",o.PROCESSING=o.UPLOADING,o.CANCELED="canceled",o.ERROR="error",o.SUCCESS="success",d=function(e){var t,i,n,s,r,o,l,a;for(e.naturalWidth,r=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=r,(i=t.getContext("2d")).drawImage(e,0,0),n=i.getImageData(0,0,1,r).data,a=0,o=s=r;a<o;)0===n[4*(o-1)+3]?s=o:a=o,o=s+a>>1;return 0===(l=o/r)?1:l},c=function(e,t,i,n,s,r,o,l,a,p){var u;return u=d(t),e.drawImage(t,i,n,s,r,o,l,a,p/u)},e=function(t,i){var e,n,s,r,o,l,a,p,u;if(u=!(s=!1),n=t.document,p=n.documentElement,e=n.addEventListener?"addEventListener":"attachEvent",a=n.addEventListener?"removeEventListener":"detachEvent",l=n.addEventListener?"":"on",r=function(e){if("readystatechange"!==e.type||"complete"===n.readyState)return("load"===e.type?t:n)[a](l+e.type,r,!1),!s&&(s=!0)?i.call(t,e.type||e):void 0},o=function(){try{p.doScroll("left")}catch(e){return e,void setTimeout(o,50)}return r("poll")},"complete"!==n.readyState){if(n.createEventObject&&p.doScroll){try{u=!t.frameElement}catch(e){}u&&o()}return n[e](l+"DOMContentLoaded",r,!1),n[e](l+"readystatechange",r,!1),t[e](l+"load",r,!1)}},o._autoDiscoverFunction=function(){if(o.autoDiscover)return o.discover()},e(window,o._autoDiscoverFunction)}).call(this);
!function(o,e,n,t){t.Editor.defaults.display="bootstrap";var d=t.Editor.defaults.i18n;d.create.title="<h3>"+d.create.title+"</h3>",d.edit.title="<h3>"+d.edit.title+"</h3>",d.remove.title="<h3>"+d.remove.title+"</h3>";var l,a=t.TableTools;a&&(a.BUTTONS.editor_create.formButtons[0].className="btn btn-primary",a.BUTTONS.editor_edit.formButtons[0].className="btn btn-primary",a.BUTTONS.editor_remove.formButtons[0].className="btn btn-danger"),n.extend(!0,n.fn.dataTable.Editor.classes,{header:{wrapper:"DTE_Header modal-header"},body:{wrapper:"DTE_Body modal-body"},footer:{wrapper:"DTE_Footer modal-footer"},form:{tag:"form-horizontal"},field:{wrapper:"DTE_Field",label:"col-lg-4 control-label",input:"col-lg-8 controls",error:"error","msg-labelInfo":"help-block","msg-info":"help-block","msg-message":"help-block","msg-error":"help-block"}}),t.Editor.display.bootstrap=n.extend(!0,{},t.Editor.models.displayController,{init:function(o){return l._dom.content=n('<div class="modal fade"><div class="modal-dialog"><div class="modal-content"/></div></div>'),l._dom.close=n('<button class="close">&times;</div>'),l._dom.close.click(function(){l._dte.close("icon")}),n(e).on("click","div.modal-backdrop",function(){l._shown&&l._dte.close("background")}),o.on("open.dtebs",function(o,e){"inline"!==e&&"bubble"!==e||n("input[type=text], select, textarea",l._dom.form).addClass("form-control")}),l},open:function(o,e,t){if(l._shown)t&&t();else{l._dte=o,l._shown=!0;var d=l._dom.content.find("div.modal-content");d.children().detach(),d.append(e),n("div.modal-header",e).prepend(l._dom.close),n(l._dom.content).one("shown",function(){t&&t()}).one("hidden",function(){l._shown=!1}).modal({backdrop:"static"}),n("input[type=text], select, textarea",l._dom.content).addClass("form-control")}},close:function(o,e){l._shown&&(n(l._dom.content).one("hidden.bs.modal",function(){n(this).detach()}).modal("hide"),l._dte=o,l._shown=!1),e&&e()},_shown:!1,_dte:null,_dom:{}}),l=t.Editor.display.bootstrap}(window,document,jQuery,jQuery.fn.dataTable);
!function(){var h,aa=this;function n(t){return void 0!==t}function ba(){}function ca(t){t.ub=function(){return t.tf?t.tf:t.tf=new t}}function da(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function ea(t){return"array"==da(t)}function fa(t){var e=da(t);return"array"==e||"object"==e&&"number"==typeof t.length}function p(t){return"string"==typeof t}function ga(t){return"number"==typeof t}function ha(t){return"function"==da(t)}function ia(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function ja(t,e,n){return t.call.apply(t.bind,arguments)}function ka(e,n,t){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,i),e.apply(n,t)}}return function(){return e.apply(n,arguments)}}function q(t,e,n){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka).apply(null,arguments)}var la=Date.now||function(){return+new Date};function ma(t,o){function e(){}e.prototype=o.prototype,t.Zg=o.prototype,t.prototype=new e,(t.prototype.constructor=t).Vg=function(t,e,n){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return o.prototype[e].apply(t,i)}}function r(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function na(t,e){var n,i={};for(n in t)i[n]=e.call(void 0,t[n],n,t);return i}function oa(t,e){for(var n in t)if(!e.call(void 0,t[n],n,t))return!1;return!0}function pa(t){var e,n=0;for(e in t)n++;return n}function qa(t){for(var e in t)return e}function ra(t){var e,n=[],i=0;for(e in t)n[i++]=t[e];return n}function sa(t){var e,n=[],i=0;for(e in t)n[i++]=e;return n}function ta(t,e){for(var n in t)if(t[n]==e)return!0;return!1}function ua(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i}function va(t,e){var n=ua(t,e,void 0);return n&&t[n]}function wa(t){for(var e in t)return!1;return!0}function xa(t){var e,n={};for(e in t)n[e]=t[e];return n}var ya="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function za(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r])t[n]=i[n];for(var o=0;o<ya.length;o++)n=ya[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function Aa(a){if(a=String(a),!/^\s*$/.test(a)&&/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(t){}throw Error("Invalid JSON string: "+a)}function Ba(){this.Pd=void 0}function Ca(t,e,n){switch(typeof e){case"string":Da(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?e:"null");break;case"boolean":n.push(e);break;case"undefined":n.push("null");break;case"object":if(null==e){n.push("null");break}if(ea(e)){var i=e.length;n.push("[");for(var r="",o=0;o<i;o++)n.push(r),r=e[o],Ca(t,t.Pd?t.Pd.call(e,String(o),r):r,n),r=",";n.push("]");break}for(o in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,o)&&("function"!=typeof(r=e[o])&&(n.push(i),Da(o,n),n.push(":"),Ca(t,t.Pd?t.Pd.call(e,o,r):r,n),i=","));n.push("}");break;case"function":break;default:throw Error("Unknown type: "+typeof e)}}var Ea={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Fa=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,Ha;function Da(t,e){e.push('"',t.replace(Fa,function(t){if(t in Ea)return Ea[t];var e=t.charCodeAt(0),n="\\u";return e<16?n+="000":e<256?n+="00":e<4096&&(n+="0"),Ea[t]=n+e.toString(16)}),'"')}function Ga(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}t:{var Ia=aa.navigator;if(Ia){var Ja=Ia.userAgent;if(Ja){Ha=Ja;break t}}Ha=""}function Ka(){this.Wa=-1}function La(){this.Wa=-1,this.Wa=64,this.R=[],this.le=[],this.Tf=[],this.Id=[],this.Id[0]=128;for(var t=1;t<this.Wa;++t)this.Id[t]=0;this.be=this.$b=0,this.reset()}function Ma(t,e,n){n||(n=0);var i=t.Tf;if(p(e))for(var r=0;r<16;r++)i[r]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(r=0;r<16;r++)i[r]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(r=16;r<80;r++){var o=i[r-3]^i[r-8]^i[r-14]^i[r-16];i[r]=4294967295&(o<<1|o>>>31)}e=t.R[0],n=t.R[1];var a,s=t.R[2],h=t.R[3],u=t.R[4];for(r=0;r<80;r++)r<40?r<20?(o=h^n&(s^h),a=1518500249):(o=n^s^h,a=1859775393):r<60?(o=n&s|h&(n|s),a=2400959708):(o=n^s^h,a=3395469782),o=(e<<5|e>>>27)+o+u+a+i[r]&4294967295,u=h,h=s,s=4294967295&(n<<30|n>>>2),n=e,e=o;t.R[0]=t.R[0]+e&4294967295,t.R[1]=t.R[1]+n&4294967295,t.R[2]=t.R[2]+s&4294967295,t.R[3]=t.R[3]+h&4294967295,t.R[4]=t.R[4]+u&4294967295}ma(La,Ka),La.prototype.reset=function(){this.R[0]=1732584193,this.R[1]=4023233417,this.R[2]=2562383102,this.R[3]=271733878,this.R[4]=3285377520,this.be=this.$b=0},La.prototype.update=function(t,e){if(null!=t){n(e)||(e=t.length);for(var i=e-this.Wa,r=0,o=this.le,a=this.$b;r<e;){if(0==a)for(;r<=i;)Ma(this,t,r),r+=this.Wa;if(p(t)){for(;r<e;)if(o[a]=t.charCodeAt(r),++r,++a==this.Wa){Ma(this,o),a=0;break}}else for(;r<e;)if(o[a]=t[r],++r,++a==this.Wa){Ma(this,o),a=0;break}}this.$b=a,this.be+=e}};var t=Array.prototype,Na=t.indexOf?function(e,n,i){return t.indexOf.call(e,n,i)}:function(t,e,n){if(n=null==n?0:n<0?Math.max(0,t.length+n):n,p(t))return p(e)&&1==e.length?t.indexOf(e,n):-1;for(;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Oa=t.forEach?function(e,n,i){t.forEach.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)o in r&&e.call(n,r[o],o,t)},Pa=t.filter?function(e,n,i){return t.filter.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=[],o=0,a=p(t)?t.split(""):t,s=0;s<i;s++)if(s in a){var h=a[s];e.call(n,h,s,t)&&(r[o++]=h)}return r},Qa=t.map?function(e,n,i){return t.map.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=Array(i),o=p(t)?t.split(""):t,a=0;a<i;a++)a in o&&(r[a]=e.call(n,o[a],a,t));return r},Ra=t.reduce?function(e,n,i,r){for(var o=[],a=1,s=arguments.length;a<s;a++)o.push(arguments[a]);return r&&(o[0]=q(n,r)),t.reduce.apply(e,o)}:function(n,i,t,r){var o=t;return Oa(n,function(t,e){o=i.call(r,o,t,e,n)}),o},Sa=t.every?function(e,n,i){return t.every.call(e,n,i)}:function(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)if(o in r&&!e.call(n,r[o],o,t))return!1;return!0};function Ta(t,e){var n=Ua(t,e,void 0);return n<0?null:p(t)?t.charAt(n):t[n]}function Ua(t,e,n){for(var i=t.length,r=p(t)?t.split(""):t,o=0;o<i;o++)if(o in r&&e.call(n,r[o],o,t))return o;return-1}function Va(e,n){var i=Na(e,n);0<=i&&t.splice.call(e,i,1)}function Wa(e,n,i){return arguments.length<=2?t.slice.call(e,n):t.slice.call(e,n,i)}function Xa(t,e){t.sort(e||Ya)}function Ya(t,e){return e<t?1:t<e?-1:0}var Za=-1!=Ha.indexOf("Opera")||-1!=Ha.indexOf("OPR"),$a=-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE"),ab=-1!=Ha.indexOf("Gecko")&&-1==Ha.toLowerCase().indexOf("webkit")&&!(-1!=Ha.indexOf("Trident")||-1!=Ha.indexOf("MSIE")),bb=-1!=Ha.toLowerCase().indexOf("webkit"),il,hl;hl="",Za&&aa.opera?ha(hl=aa.opera.version)&&hl():(ab?il=/rv\:([^\);]+)(\)|;)/:$a?il=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:bb&&(il=/WebKit\/(\S+)/),il&&(hl=(hl=il.exec(Ha))?hl[1]:""),$a&&(il=(il=aa.document)?il.documentMode:void 0)>parseFloat(hl)&&String(il));var cb=null,db=null,eb=null;function fb(t,e){if(!fa(t))throw Error("encodeByteArray takes an array as a parameter");gb();for(var n=e?db:cb,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,h=r+2<t.length,u=o>>2,c=(o=(3&o)<<4|s>>4,s=(15&s)<<2|(c=h?t[r+2]:0)>>6,63&c);h||(c=64,a||(s=64)),i.push(n[u],n[o],n[s],n[c])}return i.join("")}function gb(){if(!cb){cb={},db={},eb={};for(var t=0;t<65;t++)cb[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),db[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t),62<=(eb[db[t]]=t)&&(eb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t)]=t)}}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function hb(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ib(t){var n={};return hb(t,function(t,e){n[t]=e}),n}function jb(t){var n=[];return hb(t,function(e,t){ea(t)?Oa(t,function(t){n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}):n.push(encodeURIComponent(e)+"="+encodeURIComponent(t))}),n.length?"&"+n.join("&"):""}function kb(t){var e={};return t=t.replace(/^\?/,"").split("&"),Oa(t,function(t){t&&(t=t.split("="),e[t[0]]=t[1])}),e}function x(t,e,n,i){var r;if(i<e?r="at least "+e:n<i&&(r=0===n?"none":"no more than "+n),r)throw Error(t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".")}function z(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+i+" argument "}function A(t,e,i,r){if((!r||n(i))&&!ha(i))throw Error(z(t,e,r)+"must be a valid function.")}function lb(t,e,i){if(n(i)&&(!ia(i)||null===i))throw Error(z(t,e,!0)+"must be a valid context object.")}function mb(t){return"undefined"!=typeof JSON&&n(JSON.parse)?JSON.parse(t):Aa(t)}function B(t){if("undefined"!=typeof JSON&&n(JSON.stringify))t=JSON.stringify(t);else{var e=[];Ca(new Ba,t,e),t=e.join("")}return t}function nb(){this.Sd=C}function ob(){}nb.prototype.j=function(t){return this.Sd.oa(t)},nb.prototype.toString=function(){return this.Sd.toString()},ob.prototype.pf=function(){return null},ob.prototype.xe=function(){return null};var pb=new ob;function qb(t,e,n){this.Qf=t,this.Ka=e,this.Hd=n}function ub(){this.tb=[]}function vb(t,e){for(var n=null,i=0;i<e.length;i++){var r=e[i],o=r.Yb();null===n||o.Z(n.Yb())||(t.tb.push(n),n=null),null===n&&(n=new wb(o)),n.add(r)}n&&t.tb.push(n)}function xb(t,e,n){vb(t,n),yb(t,function(t){return t.Z(e)})}function zb(t,e,n){vb(t,n),yb(t,function(t){return t.contains(e)||e.contains(t)})}function yb(t,e){for(var n=!0,i=0;i<t.tb.length;i++){if(r=t.tb[i])if(e(r=r.Yb())){for(var r=t.tb[i],o=0;o<r.sd.length;o++){var a=r.sd[o];if(null!==a){r.sd[o]=null;var s=a.Ub();Ab&&Bb("event: "+a.toString()),Cb(s)}}t.tb[i]=null}else n=!1}n&&(t.tb=[])}function wb(t){this.qa=t,this.sd=[]}function D(t,e,n,i){this.type=t,this.Ja=e,this.Ya=n,this.Je=i,this.Nd=void 0}function Db(t){return new D(Eb,t)}qb.prototype.pf=function(t){var e=this.Ka.D;return rb(e,t)?e.j().M(t):(e=null!=this.Hd?new sb(this.Hd,!0,!1):this.Ka.u(),this.Qf.Xa(t,e))},qb.prototype.xe=function(t,e,n){var i=null!=this.Hd?this.Hd:tb(this.Ka);return 0===(t=this.Qf.me(i,e,1,n,t)).length?null:t[0]},wb.prototype.add=function(t){this.sd.push(t)},wb.prototype.Yb=function(){return this.qa};var Eb="value";function Fb(t,e,n,i){this.te=e,this.Wd=n,this.Nd=i,this.rd=t}function Gb(t,e,n){this.te=t,this.error=e,this.path=n}function sb(t,e,n){this.B=t,this.$=e,this.Tb=n}function Hb(t){return t.$}function rb(t,e){return t.$&&!t.Tb||t.B.Ha(e)}function Ib(t){this.dg=t,this.Ad=null}function Jb(t,e){this.Mf={},this.Yd=new Ib(t),this.ca=e;var n=1e4+2e4*Math.random();setTimeout(q(this.Hf,this),Math.floor(n))}function Kb(){this.Dc={}}function Lb(t,e,i){n(i)||(i=1),u(t.Dc,e)||(t.Dc[e]=0),t.Dc[e]+=i}Fb.prototype.Yb=function(){var t=this.Wd.lc();return"value"===this.rd?t.path:t.parent().path},Fb.prototype.ye=function(){return this.rd},Fb.prototype.Ub=function(){return this.te.Ub(this)},Fb.prototype.toString=function(){return this.Yb().toString()+":"+this.rd+":"+B(this.Wd.lf())},Gb.prototype.Yb=function(){return this.path},Gb.prototype.ye=function(){return"cancel"},Gb.prototype.Ub=function(){return this.te.Ub(this)},Gb.prototype.toString=function(){return this.path.toString()+":cancel"},sb.prototype.j=function(){return this.B},Ib.prototype.get=function(){var t=this.dg.get(),e=xa(t);if(this.Ad)for(var n in this.Ad)e[n]-=this.Ad[n];return this.Ad=t,e},Jb.prototype.Hf=function(){var t,e=this.Yd.get(),n={},i=!1;for(t in e)0<e[t]&&u(this.Mf,t)&&(n[t]=e[t],i=!0);i&&this.ca.Te(n),setTimeout(q(this.Hf,this),Math.floor(6e5*Math.random()))},Kb.prototype.get=function(){return xa(this.Dc)};var Mb={},Nb={};function Ob(t){return t=t.toString(),Mb[t]||(Mb[t]=new Kb),Mb[t]}function Pb(t,e){var n=t.toString();return Nb[n]||(Nb[n]=e()),Nb[n]}function E(t,e){this.name=t,this.S=e}function Qb(t,e){return new E(t,e)}function Rb(t,e){return Sb(t.name,e.name)}function Tb(t,e){return Sb(t,e)}function Ub(t,e,n){this.type=Vb,this.source=t,this.path=e,this.Ia=n}function Wb(t,e){this.type=Xb,this.source=Yb,this.path=t,this.Ve=e}function Zb(t,e){this.type=$b,this.source=t,this.path=e}function ac(t,e){this.La=t,this.xa=e||bc}function cc(t,e){for(var n,i=t.xa,r=null;!i.e();){if(0===(n=t.La(e,i.key))){if(i.left.e())return r?r.key:null;for(i=i.left;!i.right.e();)i=i.right;return i.key}n<0?i=i.left:0<n&&(i=(r=i).right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}function dc(t,e,n,i,r){for(this.Rd=r||null,this.Ee=i,this.Pa=[],r=1;!t.e();)if(r=e?n(t.key,e):1,i&&(r*=-1),r<0)t=this.Ee?t.left:t.right;else{if(0===r){this.Pa.push(t);break}this.Pa.push(t),t=this.Ee?t.right:t.left}}function H(t){if(0===t.Pa.length)return null;var e,n=t.Pa.pop();if(e=t.Rd?t.Rd(n.key,n.value):{key:n.key,value:n.value},t.Ee)for(n=n.left;!n.e();)t.Pa.push(n),n=n.right;else for(n=n.right;!n.e();)t.Pa.push(n),n=n.left;return e}function ec(t){return 0===t.Pa.length?null:(e=(e=t.Pa)[e.length-1],t.Rd?t.Rd(e.key,e.value):{key:e.key,value:e.value});var e}function fc(t,e,n,i,r){this.key=t,this.value=e,this.color=null==n||n,this.left=null!=i?i:bc,this.right=null!=r?r:bc}function gc(t){return t.left.e()?t:gc(t.left)}function ic(t){return t.left.e()?bc:(t.left.fa()||t.left.left.fa()||(t=jc(t)),hc(t=t.X(null,null,null,ic(t.left),null)))}function hc(t){return t.right.fa()&&!t.left.fa()&&(t=mc(t)),t.left.fa()&&t.left.left.fa()&&(t=kc(t)),t.left.fa()&&t.right.fa()&&(t=lc(t)),t}function jc(t){return(t=lc(t)).right.left.fa()&&(t=lc(t=mc(t=t.X(null,null,null,null,kc(t.right))))),t}function mc(t){return t.right.X(null,null,t.color,t.X(null,null,!0,null,t.right.left),null)}function kc(t){return t.left.X(null,null,t.color,null,t.X(null,null,!0,t.left.right,null))}function lc(t){return t.X(null,null,!t.color,t.left.X(null,null,!t.left.color,null,null),t.right.X(null,null,!t.right.color,null,null))}function nc(){}Ub.prototype.Wc=function(t){return this.path.e()?new Ub(this.source,F,this.Ia.M(t)):new Ub(this.source,G(this.path),this.Ia)},Ub.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ia.toString()+")"},Wb.prototype.Wc=function(){return this.path.e()?this:new Wb(G(this.path),this.Ve)},Wb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Ve+")"},Zb.prototype.Wc=function(){return this.path.e()?new Zb(this.source,F):new Zb(this.source,G(this.path))},Zb.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"},h=ac.prototype,h.Na=function(t,e){return new ac(this.La,this.xa.Na(t,e,this.La).X(null,null,!1,null,null))},h.remove=function(t){return new ac(this.La,this.xa.remove(t,this.La).X(null,null,!1,null,null))},h.get=function(t){for(var e,n=this.xa;!n.e();){if(0===(e=this.La(t,n.key)))return n.value;e<0?n=n.left:0<e&&(n=n.right)}return null},h.e=function(){return this.xa.e()},h.count=function(){return this.xa.count()},h.Rc=function(){return this.xa.Rc()},h.ec=function(){return this.xa.ec()},h.ha=function(t){return this.xa.ha(t)},h.Wb=function(t){return new dc(this.xa,null,this.La,!1,t)},h.Xb=function(t,e){return new dc(this.xa,t,this.La,!1,e)},h.Zb=function(t,e){return new dc(this.xa,t,this.La,!0,e)},h.rf=function(t){return new dc(this.xa,null,this.La,!0,t)},h=fc.prototype,h.X=function(t,e,n,i,r){return new fc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)},h.count=function(){return this.left.count()+1+this.right.count()},h.e=function(){return!1},h.ha=function(t){return this.left.ha(t)||t(this.key,this.value)||this.right.ha(t)},h.Rc=function(){return gc(this).key},h.ec=function(){return this.right.e()?this.key:this.right.ec()},h.Na=function(t,e,n){var i,r;return hc(r=(i=n(t,(r=this).key))<0?r.X(null,null,null,r.left.Na(t,e,n),null):0===i?r.X(null,e,null,null,null):r.X(null,null,null,null,r.right.Na(t,e,n)))},h.remove=function(t,e){var n,i;if(e(t,(n=this).key)<0)n.left.e()||n.left.fa()||n.left.left.fa()||(n=jc(n)),n=n.X(null,null,null,n.left.remove(t,e),null);else{if(n.left.fa()&&(n=kc(n)),n.right.e()||n.right.fa()||n.right.left.fa()||(n=lc(n)).left.left.fa()&&(n=lc(n=kc(n))),0===e(t,n.key)){if(n.right.e())return bc;i=gc(n.right),n=n.X(i.key,i.value,null,null,ic(n.right))}n=n.X(null,null,null,null,n.right.remove(t,e))}return hc(n)},h.fa=function(){return this.color},h=nc.prototype,h.X=function(){return this},h.Na=function(t,e){return new fc(t,e,null)},h.remove=function(){return this},h.count=function(){return 0},h.e=function(){return!0},h.ha=function(){return!1},h.Rc=function(){return null},h.ec=function(){return null},h.fa=function(){return!1};var bc=new nc;function oc(t,e){return t&&"object"==typeof t?(J(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t}function pc(t,n){var i=new qc;return rc(t,new K(""),function(t,e){i.mc(t,sc(e,n))}),i}function sc(t,i){var r,e=oc(e=t.A().K(),i);if(t.N()){var n=oc(t.Ba(),i);return n!==t.Ba()||e!==t.A().K()?new tc(n,L(e)):t}return e!==(r=t).A().K()&&(r=r.da(new tc(e))),t.U(M,function(t,e){var n=sc(e,i);n!==e&&(r=r.Q(t,n))}),r}function K(t,e){if(1==arguments.length){this.n=t.split("/");for(var n=0,i=0;i<this.n.length;i++)0<this.n[i].length&&(this.n[n]=this.n[i],n++);this.n.length=n,this.Y=0}else this.n=t,this.Y=e}function N(t,e){var n=O(t);if(null===n)return e;if(n===O(e))return N(G(t),G(e));throw Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function O(t){return t.Y>=t.n.length?null:t.n[t.Y]}function uc(t){return t.n.length-t.Y}function G(t){var e=t.Y;return e<t.n.length&&e++,new K(t.n,e)}function vc(t){return t.Y<t.n.length?t.n[t.n.length-1]:null}h=K.prototype,h.toString=function(){for(var t="",e=this.Y;e<this.n.length;e++)""!==this.n[e]&&(t+="/"+this.n[e]);return t||"/"},h.slice=function(t){return this.n.slice(this.Y+(t||0))},h.parent=function(){if(this.Y>=this.n.length)return null;for(var t=[],e=this.Y;e<this.n.length-1;e++)t.push(this.n[e]);return new K(t,0)},h.w=function(t){for(var e=[],n=this.Y;n<this.n.length;n++)e.push(this.n[n]);if(t instanceof K)for(n=t.Y;n<t.n.length;n++)e.push(t.n[n]);else for(t=t.split("/"),n=0;n<t.length;n++)0<t[n].length&&e.push(t[n]);return new K(e,0)},h.e=function(){return this.Y>=this.n.length},h.Z=function(t){if(uc(this)!==uc(t))return!1;for(var e=this.Y,n=t.Y;e<=this.n.length;e++,n++)if(this.n[e]!==t.n[n])return!1;return!0},h.contains=function(t){var e=this.Y,n=t.Y;if(uc(this)>uc(t))return!1;for(;e<this.n.length;){if(this.n[e]!==t.n[n])return!1;++e,++n}return!0};var F=new K("");function wc(t,e){this.Qa=t.slice(),this.Ea=Math.max(1,this.Qa.length),this.kf=e;for(var n=0;n<this.Qa.length;n++)this.Ea+=xc(this.Qa[n]);yc(this)}function yc(t){if(768<t.Ea)throw Error(t.kf+"has a key path longer than 768 bytes ("+t.Ea+").");if(32<t.Qa.length)throw Error(t.kf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+zc(t))}function zc(t){return 0==t.Qa.length?"":"in property '"+t.Qa.join(".")+"'"}function Ac(){this.wc={}}function Bc(t){this.Ec=t,this.Md="firebase:"}function Cc(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Bc(e)}}catch(t){}return new Ac}wc.prototype.push=function(t){0<this.Qa.length&&(this.Ea+=1),this.Qa.push(t),this.Ea+=xc(t),yc(this)},wc.prototype.pop=function(){var t=this.Qa.pop();this.Ea-=xc(t),0<this.Qa.length&&--this.Ea},Ac.prototype.set=function(t,e){null==e?delete this.wc[t]:this.wc[t]=e},Ac.prototype.get=function(t){return u(this.wc,t)?this.wc[t]:null},Ac.prototype.remove=function(t){delete this.wc[t]},Ac.prototype.uf=!0,h=Bc.prototype,h.set=function(t,e){null==e?this.Ec.removeItem(this.Md+t):this.Ec.setItem(this.Md+t,B(e))},h.get=function(t){return null==(t=this.Ec.getItem(this.Md+t))?null:mb(t)},h.remove=function(t){this.Ec.removeItem(this.Md+t)},h.uf=!1,h.toString=function(){return this.Ec.toString()};var Dc=Cc("localStorage"),P=Cc("sessionStorage");function Ec(t,e,n,i,r){this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.lb=e,this.Cb=n,this.Tg=i,this.Ld=r||"",this.Oa=Dc.get("host:"+t)||this.host}function Fc(t,e){e!==t.Oa&&(t.Oa=e,"s-"===t.Oa.substr(0,2)&&Dc.set("host:"+t.host,t.Oa))}Ec.prototype.toString=function(){var t=(this.lb?"https://":"http://")+this.host;return this.Ld&&(t+="<"+this.Ld+">"),t};var Gc=(fq=1,function(){return fq++}),fq;function J(t,e){if(!t)throw Hc(e)}function Hc(t){return Error("Firebase (2.2.5) INTERNAL ASSERT FAILED: "+t)}function Ic(t){try{var e;if("undefined"!=typeof atob)e=atob(t);else{gb();for(var n=eb,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0,s=++r<t.length?n[t.charAt(r)]:64,h=++r<t.length?n[t.charAt(r)]:64;if(++r,null==o||null==a||null==s||null==h)throw Error();i.push(o<<2|a>>4),64!=s&&(i.push(a<<4&240|s>>2),64!=h&&i.push(s<<6&192|h))}if(i.length<8192)e=String.fromCharCode.apply(null,i);else{for(t="",n=0;n<i.length;n+=8192)t+=String.fromCharCode.apply(null,Wa(i,n,n+8192));e=t}}return e}catch(t){Bb("base64Decode failed: ",t)}return null}function Jc(t){var e=Kc(t);(t=new La).update(e);e=[];var n=8*t.be;t.$b<56?t.update(t.Id,56-t.$b):t.update(t.Id,t.Wa-(t.$b-56));for(var i=t.Wa-1;56<=i;i--)t.le[i]=255&n,n/=256;for(Ma(t,t.le),i=n=0;i<5;i++)for(var r=24;0<=r;r-=8)e[n]=t.R[i]>>r&255,++n;return fb(e)}function Lc(t){for(var e="",n=0;n<arguments.length;n++)e=fa(arguments[n])?e+Lc.apply(null,arguments[n]):"object"==typeof arguments[n]?e+B(arguments[n]):e+arguments[n],e+=" ";return e}var Ab=null,Mc=!0;function Bb(t){if(!0===Mc&&(Mc=!1,null===Ab&&!0===P.get("logging_enabled")&&Nc(!0)),Ab){var e=Lc.apply(null,arguments);Ab(e)}}function Oc(t){return function(){Bb(t,arguments)}}function Pc(t){if("undefined"!=typeof console){var e="FIREBASE INTERNAL ERROR: "+Lc.apply(null,arguments);void 0!==console.error?console.error(e):console.log(e)}}function Qc(t){var e=Lc.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+e)}function Q(t){if("undefined"!=typeof console){var e="FIREBASE WARNING: "+Lc.apply(null,arguments);void 0!==console.warn?console.warn(e):console.log(e)}}function Rc(t){var e="",n="",i="",r="",o=!0,a="https",s=443;if(p(t)){var h=t.indexOf("//");for(0<=h&&(a=t.substring(0,h-1),t=t.substring(h+2)),-1===(h=t.indexOf("/"))&&(h=t.length),e=t.substring(0,h),r="",t=t.substring(h).split("/"),h=0;h<t.length;h++)if(0<t[h].length){var u=t[h];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch(t){}r+="/"+u}3===(t=e.split(".")).length?(n=t[1],i=t[0].toLowerCase()):2===t.length&&(n=t[0]),0<=(h=e.indexOf(":"))&&(o="https"===a||"wss"===a,s=e.substring(h+1),isFinite(s)&&(s=String(s)),s=p(s)?/^\s*-?0x/i.test(s)?parseInt(s,16):parseInt(s,10):NaN)}return{host:e,port:s,domain:n,Qg:i,lb:o,scheme:a,Zc:r}}function Sc(t){return ga(t)&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)}function Tc(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}function Sb(t,e){if(t===e)return 0;if("[MIN_NAME]"===t||"[MAX_NAME]"===e)return-1;if("[MIN_NAME]"===e||"[MAX_NAME]"===t)return 1;var n=Uc(t),i=Uc(e);return null!==n?null!==i?0==n-i?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}function Vc(t,e){if(e&&t in e)return e[t];throw Error("Missing required key ("+t+") in object: "+B(e))}function Wc(t){if("object"!=typeof t||null===t)return B(t);var e,n=[];for(e in t)n.push(e);n.sort(),e="{";for(var i=0;i<n.length;i++)0!==i&&(e+=","),e+=B(n[i]),e+=":",e+=Wc(t[n[i]]);return e+"}"}function Xc(t,e){if(t.length<=e)return[t];for(var n=[],i=0;i<t.length;i+=e)t<i+e?n.push(t.substring(i,t.length)):n.push(t.substring(i,i+e));return n}function Yc(t,e){if(ea(t))for(var n=0;n<t.length;++n)e(n,t[n]);else r(t,e)}function Zc(t){var e,n,i,r;for(J(!Sc(t),"Invalid JSON number"),0===t?(i=n=0,e=-1/0==1/t?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,i=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,i=Math.round(t/Math.pow(2,-1074)))),r=[],t=52;t;--t)r.push(i%2?1:0),i=Math.floor(i/2);for(t=11;t;--t)r.push(n%2?1:0),n=Math.floor(n/2);for(r.push(e?1:0),r.reverse(),e=r.join(""),n="",t=0;t<64;t+=8)1===(i=parseInt(e.substr(t,8),2).toString(16)).length&&(i="0"+i),n+=i;return n.toLowerCase()}var $c=/^-?\d{1,10}$/;function Uc(t){return $c.test(t)&&(-2147483648<=(t=Number(t))&&t<=2147483647)?t:null}function Cb(t){try{t()}catch(t){setTimeout(function(){throw Q("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}}function R(t,e){if(ha(t)){var n=Array.prototype.slice.call(arguments,1).slice();Cb(function(){t.apply(null,n)})}}function Kc(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);55296<=r&&r<=56319&&(r-=55296,J(++i<t.length,"Surrogate pair missing trail surrogate."),r=65536+(r<<10)+(t.charCodeAt(i)-56320)),r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return e}function xc(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:55296<=i&&i<=56319?(e+=4,n++):e+=3}return e}function ad(t){var e={},n={},i={},r="";try{var o=t.split(".");e=mb(Ic(o[0])||""),n=mb(Ic(o[1])||""),r=o[2],i=n.d||{};delete n.d}catch(t){}return{Wg:e,Ac:n,data:i,Ng:r}}function bd(t){return"object"==typeof(t=ad(t).Ac)&&t.hasOwnProperty("iat")?w(t,"iat"):null}function cd(t){var e=(t=ad(t)).Ac;return!!t.Ng&&!!e&&"object"==typeof e&&e.hasOwnProperty("iat")}function dd(t){this.V=t,this.g=t.o.g}function ed(e,t,n,i){var r=[],o=[];return Oa(t,function(t){"child_changed"===t.type&&e.g.xd(t.Je,t.Ja)&&o.push(new D("child_moved",t.Ja,t.Ya))}),fd(e,r,"child_removed",t,i,n),fd(e,r,"child_added",t,i,n),fd(e,r,"child_moved",o,i,n),fd(e,r,"child_changed",t,i,n),fd(e,r,Eb,t,i,n),r}function fd(i,r,e,t,o,a){Xa(t=Pa(t,function(t){return t.type===e}),q(i.eg,i)),Oa(t,function(e){var n=gd(i,e,a);Oa(o,function(t){t.Jf(e.type)&&r.push(t.createEvent(n,i.V))})})}function gd(t,e,n){return"value"!==e.type&&"child_removed"!==e.type&&(e.Nd=n.qf(e.Ya,e.Ja,t.g)),e}function hd(){this.eb={}}function id(t,e){var n=e.type,i=e.Ya;J("child_added"==n||"child_changed"==n||"child_removed"==n,"Only child changes supported for tracking"),J(".priority"!==i,"Only non-priority child changes can be tracked.");var r=w(t.eb,i);if(r){var o=r.type;if("child_added"==n&&"child_removed"==o)t.eb[i]=new D("child_changed",e.Ja,i,r.Ja);else if("child_removed"==n&&"child_added"==o)delete t.eb[i];else if("child_removed"==n&&"child_changed"==o)t.eb[i]=new D("child_removed",r.Je,i);else if("child_changed"==n&&"child_added"==o)t.eb[i]=new D("child_added",e.Ja,i);else{if("child_changed"!=n||"child_changed"!=o)throw Hc("Illegal combination of changes: "+e+" occurred after "+r);t.eb[i]=new D("child_changed",e.Ja,i,r.Je)}}else t.eb[i]=e}function jd(t,e,n){this.Pb=t,this.qb=e,this.sb=n||null}function kd(t,e,n){this.ga=t,this.qb=e,this.sb=n}function ld(t){this.g=t}function md(t){var e;this.Ae=new ld(t.g),this.g=t.g,t.la?(e=nd(t),e=t.g.Oc(od(t),e)):e=t.g.Sc(),this.dd=e,t.na?(e=pd(t),t=t.g.Oc(qd(t),e)):t=t.g.Pc(),this.Fc=t}function rd(t){this.ra=new md(t),this.g=t.g,J(t.ia,"Only valid if limit has been set"),this.ja=t.ja,this.Jb=!sd(t)}function td(t,e,n,i,r,o){var a;if(t.Jb){var s=ud(t.g);a=function(t,e){return s(e,t)}}else a=ud(t.g);J(e.Db()==t.ja,"");var h=new E(n,i),u=t.Jb?wd(e,t.g):xd(e,t.g),c=t.ra.matches(h);if(e.Ha(n)){var f=e.M(n);return null!=(u=r.xe(t.g,u,t.Jb))&&u.name==n&&(u=r.xe(t.g,u,t.Jb)),r=null==u?1:a(u,h),c&&!i.e()&&0<=r?(null!=o&&id(o,new D("child_changed",i,n,f)),e.Q(n,i)):(null!=o&&id(o,new D("child_removed",f,n)),e=e.Q(n,C),null!=u&&t.ra.matches(u)?(null!=o&&id(o,new D("child_added",u.S,u.name)),e.Q(u.name,u.S)):e)}return i.e()?e:c&&0<=a(u,h)?(null!=o&&(id(o,new D("child_removed",u.S,u.name)),id(o,new D("child_added",i,n))),e.Q(n,i).Q(u.name,C)):e}function yd(t,e){this.he=t,this.cg=e}function zd(t){this.I=t}function Hd(t,e,n,i,r,o){var a,s=e.D;if(null!=i.sc(n))return e;if(n.e())J(Hb(e.u()),"If change path is empty, we must have complete server data"),e.u().Tb?(r=tb(e),i=i.xc(r instanceof T?r:C)):i=i.ua(tb(e)),o=t.I.ta(e.D.j(),i,o);else{var h=O(n);if(".priority"==h)J(1==uc(n),"Can't have a priority with additional path components"),o=s.j(),a=e.u().j(),o=null!=(i=i.hd(n,o,a))?t.I.da(o,i):s.j();else{var u=G(n);rb(s,h)?(a=e.u().j(),i=null!=(i=i.hd(n,s.j(),a))?s.j().M(h).G(u,i):s.j().M(h)):i=i.Xa(h,e.u()),o=null!=i?t.I.G(s.j(),h,i,r,o):s.j()}}return Fd(e,o,s.$||n.e(),t.I.Ga())}function Bd(t,e,n,i,r,o,a,s){var h=e.u();if(a=a?t.I:t.I.Vb(),n.e())i=a.ta(h.j(),i,null);else if(a.Ga()&&!h.Tb)i=h.j().G(n,i),i=a.ta(h.j(),i,null);else{var u=O(n);if((n.e()?!h.$||h.Tb:!rb(h,O(n)))&&1<uc(n))return e;i=h.j().M(u).G(G(n),i),i=".priority"==u?a.da(h.j(),i):a.G(h.j(),u,i,pb,null)}return h=h.$||n.e(),Hd(t,e=new Id(e.D,new sb(i,h,a.Ga())),n,r,new qb(r,e,o),s)}function Ad(t,e,n,i,r,o,a){var s=e.D;if(r=new qb(r,e,o),n.e())t=Fd(e,a=t.I.ta(e.D.j(),i,a),!0,t.I.Ga());else if(".priority"===(o=O(n)))t=Fd(e,a=t.I.da(e.D.j(),i),s.$,s.Tb);else{var h=G(n);if(n=s.j().M(o),!h.e()){var u=r.pf(o);i=null!=u?".priority"===vc(h)&&u.oa(h.parent()).e()?u:u.G(h,i):C}n.Z(i)?t=e:t=Fd(e,a=t.I.G(s.j(),o,i,r,a),s.$,t.I.Ga())}return t}function Dd(i,r,o,t,a,s,h){var u=r;return Kd(t,function(t,e){var n=o.w(t);rb(r.D,O(n))&&(u=Ad(i,u,n,e,a,s,h))}),Kd(t,function(t,e){var n=o.w(t);rb(r.D,O(n))||(u=Ad(i,u,n,e,a,s,h))}),u}function Ld(n,t){return Kd(t,function(t,e){n=n.G(t,e)}),n}function Ed(i,r,t,e,o,a,s,h){if(r.u().j().e()&&!Hb(r.u()))return r;var u=r;t=t.e()?e:Md(Nd,t,e);var c=r.u().j();return t.children.ha(function(t,e){if(c.Ha(t)){var n=Ld(n=r.u().j().M(t),e);u=Bd(i,u,new K(t),n,o,a,s,h)}}),t.children.ha(function(t,e){var n=!Hb(r.u())&&null==e.value;c.Ha(t)||n||(n=Ld(n=r.u().j().M(t),e),u=Bd(i,u,new K(t),n,o,a,s,h))}),u}function Gd(n,i,t,r,e,o){if(null!=r.sc(t))return i;var a=new qb(r,i,e),s=e=i.D.j();if(Hb(i.u())){if(t.e())e=r.ua(tb(i)),s=n.I.ta(i.D.j(),e,o);else if(".priority"===O(t)){var h=r.Xa(O(t),i.u());null==h||e.e()||e.A().Z(h)||(s=n.I.da(e,h))}else h=O(t),null!=(e=r.Xa(h,i.u()))&&(s=n.I.G(i.D.j(),h,e,a,o));e=!0}else i.D.$||t.e()?(s=e,(e=i.D.j()).N()||e.U(M,function(t){var e=r.Xa(t,i.u());null!=e&&(s=n.I.G(s,t,e,a,o))}),e=i.D.$):(h=O(t),(1==uc(t)||rb(i.D,h))&&(null!=(t=r.Xa(h,i.u()))&&(s=n.I.G(e,h,t,a,o))),e=!1);return Fd(i,s,e,n.I.Ga())}function Od(){}dd.prototype.eg=function(t,e){if(null==t.Ya||null==e.Ya)throw Hc("Should only compare child_ events.");return this.g.compare(new E(t.Ya,t.Ja),new E(e.Ya,e.Ja))},h=jd.prototype,h.Jf=function(t){return"value"===t},h.createEvent=function(t,e){var n=e.o.g;return new Fb("value",this,new S(t.Ja,e.lc(),n))},h.Ub=function(t){var e=this.sb;if("cancel"===t.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(e,t.error)}}var i=this.Pb;return function(){i.call(e,t.Wd)}},h.ff=function(t,e){return this.qb?new Gb(this,t,e):null},h.matches=function(t){return t instanceof jd&&(!t.Pb||!this.Pb||t.Pb===this.Pb&&t.sb===this.sb)},h.sf=function(){return null!==this.Pb},h=kd.prototype,h.Jf=function(t){return("children_removed"===(t="children_added"===t?"child_added":t)?"child_removed":t)in this.ga},h.ff=function(t,e){return this.qb?new Gb(this,t,e):null},h.createEvent=function(t,e){J(null!=t.Ya,"Child events should have a childName.");var n=e.lc().w(t.Ya);return new Fb(t.type,this,new S(t.Ja,n,e.o.g),t.Nd)},h.Ub=function(t){var e=this.sb;if("cancel"===t.ye()){J(this.qb,"Raising a cancel event on a listener with no cancel callback");var n=this.qb;return function(){n.call(e,t.error)}}var i=this.ga[t.rd];return function(){i.call(e,t.Wd,t.Nd)}},h.matches=function(n){if(n instanceof kd){if(!this.ga||!n.ga)return!0;if(this.sb===n.sb)if((t=pa(n.ga))===pa(this.ga)){if(1===t){var t=qa(n.ga),e=qa(this.ga);return!(e!==t||n.ga[t]&&this.ga[e]&&n.ga[t]!==this.ga[e])}return oa(this.ga,function(t,e){return n.ga[e]===t})}}return!1},h.sf=function(){return null!==this.ga},h=ld.prototype,h.G=function(t,e,n,i,r){return J(t.Ic(this.g),"A node must be indexed if only a child is updated"),(i=t.M(e)).Z(n)?t:(null!=r&&(n.e()?t.Ha(e)?id(r,new D("child_removed",i,e)):J(t.N(),"A child remove without an old child only makes sense on a leaf node"):i.e()?id(r,new D("child_added",n,e)):id(r,new D("child_changed",n,e,i))),t.N()&&n.e()?t:t.Q(e,n).mb(this.g))},h.ta=function(i,n,r){return null!=r&&(i.N()||i.U(M,function(t,e){n.Ha(t)||id(r,new D("child_removed",e,t))}),n.N()||n.U(M,function(t,e){if(i.Ha(t)){var n=i.M(t);n.Z(e)||id(r,new D("child_changed",e,t,n))}else id(r,new D("child_added",e,t))})),n.mb(this.g)},h.da=function(t,e){return t.e()?C:t.da(e)},h.Ga=function(){return!1},h.Vb=function(){return this},h=md.prototype,h.matches=function(t){return this.g.compare(this.dd,t)<=0&&this.g.compare(t,this.Fc)<=0},h.G=function(t,e,n,i,r){return this.matches(new E(e,n))||(n=C),this.Ae.G(t,e,n,i,r)},h.ta=function(t,e,n){e.N()&&(e=C);var i=(i=e.mb(this.g)).da(C),r=this;return e.U(M,function(t,e){r.matches(new E(t,e))||(i=i.Q(t,C))}),this.Ae.ta(t,i,n)},h.da=function(t){return t},h.Ga=function(){return!0},h.Vb=function(){return this.Ae},h=rd.prototype,h.G=function(t,e,n,i,r){return this.ra.matches(new E(e,n))||(n=C),t.M(e).Z(n)?t:t.Db()<this.ja?this.ra.Vb().G(t,e,n,i,r):td(this,t,e,n,i,r)},h.ta=function(t,e,n){var i;if(e.N()||e.e())i=C.mb(this.g);else if(2*this.ja<e.Db()&&e.Ic(this.g)){i=C.mb(this.g),e=this.Jb?e.Zb(this.ra.Fc,this.g):e.Xb(this.ra.dd,this.g);for(var r=0;0<e.Pa.length&&r<this.ja;){var o=H(e);if(!(this.Jb?this.g.compare(this.ra.dd,o)<=0:this.g.compare(o,this.ra.Fc)<=0))break;i=i.Q(o.name,o.S),r++}}else{var a,s,h;if(i=(i=e.mb(this.g)).da(C),this.Jb){e=i.rf(this.g),a=this.ra.Fc,s=this.ra.dd;var u=ud(this.g);h=function(t,e){return u(e,t)}}else e=i.Wb(this.g),a=this.ra.dd,s=this.ra.Fc,h=ud(this.g);r=0;for(var c=!1;0<e.Pa.length;)o=H(e),!c&&h(a,o)<=0&&(c=!0),c&&r<this.ja&&h(o,s)<=0?r++:i=i.Q(o.name,C)}return this.ra.Vb().ta(t,i,n)},h.da=function(t){return t},h.Ga=function(){return!0},h.Vb=function(){return this.ra.Vb()},zd.prototype.bb=function(t,e,n,i){var r,o=new hd;if(e.type===Vb)e.source.ve?n=Ad(this,t,e.path,e.Ia,n,i,o):(J(e.source.of,"Unknown source."),r=e.source.af,n=Bd(this,t,e.path,e.Ia,n,i,r,o));else if(e.type===Cd)e.source.ve?n=Dd(this,t,e.path,e.children,n,i,o):(J(e.source.of,"Unknown source."),r=e.source.af,n=Ed(this,t,e.path,e.children,n,i,r,o));else if(e.type===Xb)if(e.Ve)if(r=e.path,null!=n.sc(r))n=t;else{if(e=new qb(n,t,i),i=t.D.j(),r.e()||".priority"===O(r))Hb(t.u())?e=n.ua(tb(t)):(J((e=t.u().j())instanceof T,"serverChildren would be complete if leaf node"),e=n.xc(e)),e=this.I.ta(i,e,o);else{r=O(r);var a=n.Xa(r,t.u());null==a&&rb(t.u(),r)&&(a=i.M(r)),(e=null!=a?this.I.G(i,r,a,e,o):t.D.j().Ha(r)?this.I.G(i,r,C,e,o):i).e()&&Hb(t.u())&&((i=n.ua(tb(t))).N()&&(e=this.I.ta(e,i,o)))}n=Fd(t,e,i=Hb(t.u())||null!=n.sc(F),this.I.Ga())}else n=Gd(this,t,e.path,n,i,o);else{if(e.type!==$b)throw Hc("Unknown operation type: "+e.type);i=e.path,r=(e=t.u()).j(),a=e.$||i.e(),n=Hd(this,new Id(t.D,new sb(r,a,e.Tb)),i,n,pb,o)}return o=ra(o.eb),(e=(i=n).D).$&&(r=e.j().N()||e.j().e(),a=Jd(t),(0<o.length||!t.D.$||r&&!e.j().Z(a)||!e.j().A().Z(a.A()))&&o.push(Db(Jd(i)))),new yd(n,o)};var Pd={};function ud(t){return q(t.compare,t)}function Rd(t){this.bc=t}function Td(){}Od.prototype.xd=function(t,e){return 0!==this.compare(new E("[MIN_NAME]",t),new E("[MIN_NAME]",e))},Od.prototype.Sc=function(){return Qd},ma(Rd,Od),h=Rd.prototype,h.Hc=function(t){return!t.M(this.bc).e()},h.compare=function(t,e){var n=t.S.M(this.bc),i=e.S.M(this.bc);return 0===(n=n.Cc(i))?Sb(t.name,e.name):n},h.Oc=function(t,e){var n=L(t);return new E(e,n=C.Q(this.bc,n))},h.Pc=function(){return new E("[MAX_NAME]",C.Q(this.bc,Sd))},h.toString=function(){return this.bc},ma(Td,Od),h=Td.prototype,h.compare=function(t,e){var n=t.S.A(),i=e.S.A();return 0===(n=n.Cc(i))?Sb(t.name,e.name):n},h.Hc=function(t){return!t.A().e()},h.xd=function(t,e){return!t.A().Z(e.A())},h.Sc=function(){return Qd},h.Pc=function(){return new E("[MAX_NAME]",new tc("[PRIORITY-POST]",Sd))},h.Oc=function(t,e){return new E(e,new tc("[PRIORITY-POST]",L(t)))},h.toString=function(){return".priority"};var M=new Td;function Ud(){}ma(Ud,Od),h=Ud.prototype,h.compare=function(t,e){return Sb(t.name,e.name)},h.Hc=function(){throw Hc("KeyIndex.isDefinedOn not expected to be called.")},h.xd=function(){return!1},h.Sc=function(){return Qd},h.Pc=function(){return new E("[MAX_NAME]",C)},h.Oc=function(t){return J(p(t),"KeyIndex indexValue must always be a string."),new E(t,C)},h.toString=function(){return".key"};var Vd=new Ud;function Wd(){}ma(Wd,Od),h=Wd.prototype,h.compare=function(t,e){var n=t.S.Cc(e.S);return 0===n?Sb(t.name,e.name):n},h.Hc=function(){return!0},h.xd=function(t,e){return!t.Z(e)},h.Sc=function(){return Qd},h.Pc=function(){return Xd},h.Oc=function(t,e){return new E(e,L(t))},h.toString=function(){return".value"};var Yd=new Wd;function Zd(){this.Rb=this.na=this.Lb=this.la=this.ia=!1,this.ja=0,this.Nb="",this.dc=null,this.xb="",this.ac=null,this.vb="",this.g=M}var $d=new Zd;function sd(t){return""===t.Nb?t.la:"l"===t.Nb}function od(t){return J(t.la,"Only valid if start has been set"),t.dc}function nd(t){return J(t.la,"Only valid if start has been set"),t.Lb?t.xb:"[MIN_NAME]"}function qd(t){return J(t.na,"Only valid if end has been set"),t.ac}function pd(t){return J(t.na,"Only valid if end has been set"),t.Rb?t.vb:"[MAX_NAME]"}function ae(t){var e=new Zd;return e.ia=t.ia,e.ja=t.ja,e.la=t.la,e.dc=t.dc,e.Lb=t.Lb,e.xb=t.xb,e.na=t.na,e.ac=t.ac,e.Rb=t.Rb,e.vb=t.vb,e.g=t.g,e}function be(t,e){var n=ae(t);return n.g=e,n}function ce(t){var e={};if(t.la&&(e.sp=t.dc,t.Lb&&(e.sn=t.xb)),t.na&&(e.ep=t.ac,t.Rb&&(e.en=t.vb)),t.ia){e.l=t.ja;var n=t.Nb;""===n&&(n=sd(t)?"l":"r"),e.vf=n}return t.g!==M&&(e.i=t.g.toString()),e}function de(t){return!(t.la||t.na||t.ia)}function ee(t){var e,n={};return de(t)&&t.g==M||(t.g===M?e="$priority":t.g===Yd?e="$value":t.g===Vd?e="$key":(J(t.g instanceof Rd,"Unrecognized index type!"),e=t.g.toString()),n.orderBy=B(e),t.la&&(n.startAt=B(t.dc),t.Lb&&(n.startAt+=","+B(t.xb))),t.na&&(n.endAt=B(t.ac),t.Rb&&(n.endAt+=","+B(t.vb))),t.ia&&(sd(t)?n.limitToFirst=t.ja:n.limitToLast=t.ja)),n}function fe(t,e){this.yd=t,this.cc=e}function ge(a,s,h){return new fe(na(a.yd,function(t,e){var n=w(a.cc,e);if(J(n,"Missing index implementation for "+e),t===Pd){if(n.Hc(s.S)){for(var i=[],r=h.Wb(Qb),o=H(r);o;)o.name!=s.name&&i.push(o),o=H(r);return i.push(s),he(i,ud(n))}return Pd}return i=t,(n=h.get(s.name))&&(i=i.remove(new E(s.name,n))),i.Na(s,s.S)}),a.cc)}function ie(t,n,i){return new fe(na(t.yd,function(t){if(t===Pd)return t;var e=i.get(n.name);return e?t.remove(new E(n.name,e)):t}),t.cc)}h=Zd.prototype,h.Ge=function(t){var e=ae(this);return e.ia=!0,e.ja=t,e.Nb="",e},h.He=function(t){var e=ae(this);return e.ia=!0,e.ja=t,e.Nb="l",e},h.Ie=function(t){var e=ae(this);return e.ia=!0,e.ja=t,e.Nb="r",e},h.Xd=function(t,e){var i=ae(this);return i.la=!0,n(t)||(t=null),i.dc=t,null!=e?(i.Lb=!0,i.xb=e):(i.Lb=!1,i.xb=""),i},h.qd=function(t,e){var i=ae(this);return i.na=!0,n(t)||(t=null),i.ac=t,n(e)?(i.Rb=!0,i.vb=e):(i.Yg=!1,i.vb=""),i},h.toString=function(){return B(ce(this))},fe.prototype.get=function(t){var e=w(this.yd,t);if(!e)throw Error("No index defined for "+t);return e===Pd?null:e};var je=new fe({".priority":Pd},{".priority":M});function tc(t,e){this.C=t,J(n(this.C)&&null!==this.C,"LeafNode shouldn't be created with null/undefined value."),this.ba=e||C,ke(this.ba),this.Bb=null}h=tc.prototype,h.N=function(){return!0},h.A=function(){return this.ba},h.da=function(t){return new tc(this.C,t)},h.M=function(t){return".priority"===t?this.ba:C},h.oa=function(t){return t.e()?this:".priority"===O(t)?this.ba:C},h.Ha=function(){return!1},h.qf=function(){return null},h.Q=function(t,e){return".priority"===t?this.da(e):e.e()&&".priority"!==t?this:C.Q(t,e).da(this.ba)},h.G=function(t,e){var n=O(t);return null===n?e:e.e()&&".priority"!==n?this:(J(".priority"!==n||1===uc(t),".priority must be the last token in a path"),this.Q(n,C.G(G(t),e)))},h.e=function(){return!1},h.Db=function(){return 0},h.K=function(t){return t&&!this.A().e()?{".value":this.Ba(),".priority":this.A().K()}:this.Ba()},h.hash=function(){if(null===this.Bb){var t="";this.ba.e()||(t+="priority:"+le(this.ba.K())+":");var e=typeof this.C;t=t+(e+":"),t="number"===e?t+Zc(this.C):t+this.C;this.Bb=Jc(t)}return this.Bb},h.Ba=function(){return this.C},h.Cc=function(t){if(t===C)return 1;if(t instanceof T)return-1;J(t.N(),"Unknown node type");var e=typeof t.C,n=typeof this.C,i=Na(me,e),r=Na(me,n);return J(0<=i,"Unknown leaf type: "+e),J(0<=r,"Unknown leaf type: "+n),i===r?"object"===n?0:this.C<t.C?-1:this.C===t.C?0:1:r-i};var me=["object","boolean","number","string"];function T(t,e,n){this.m=t,(this.ba=e)&&ke(this.ba),t.e()&&J(!this.ba||this.ba.e(),"An empty node cannot have a priority"),this.wb=n,this.Bb=null}tc.prototype.mb=function(){return this},tc.prototype.Ic=function(){return!0},tc.prototype.Z=function(t){return t===this||!!t.N()&&(this.C===t.C&&this.ba.Z(t.ba))},tc.prototype.toString=function(){return B(this.K(!0))},h=T.prototype,h.N=function(){return!1},h.A=function(){return this.ba||C},h.da=function(t){return this.m.e()?this:new T(this.m,t,this.wb)},h.M=function(t){return".priority"===t?this.A():null===(t=this.m.get(t))?C:t},h.oa=function(t){var e=O(t);return null===e?this:this.M(e).oa(G(t))},h.Ha=function(t){return null!==this.m.get(t)},h.Q=function(t,e){if(J(e,"We should always be passing snapshot nodes"),".priority"===t)return this.da(e);var n,i=new E(t,e);return e.e()?(n=this.m.remove(t),i=ie(this.wb,i,this.m)):(n=this.m.Na(t,e),i=ge(this.wb,i,this.m)),new T(n,n.e()?C:this.ba,i)},h.G=function(t,e){var n=O(t);if(null===n)return e;J(".priority"!==O(t)||1===uc(t),".priority must be the last token in a path");var i=this.M(n).G(G(t),e);return this.Q(n,i)},h.e=function(){return this.m.e()},h.Db=function(){return this.m.count()};var ne=/^(0|[1-9]\d*)$/;function wd(t,e){var n;return(n=(n=oe(t,e))?(n=n.Rc())&&n.name:t.m.Rc())?new E(n,t.m.get(n)):null}function xd(t,e){var n;return(n=(n=oe(t,e))?(n=n.ec())&&n.name:t.m.ec())?new E(n,t.m.get(n)):null}function oe(t,e){return e===Vd?null:t.wb.get(e.toString())}function L(t,e){if(null===t)return C;var n=null;if("object"==typeof t&&".priority"in t?n=t[".priority"]:void 0!==e&&(n=e),J(null===n||"string"==typeof n||"number"==typeof n||"object"==typeof n&&".sv"in n,"Invalid priority type found: "+typeof n),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new tc(t,L(n));if(t instanceof Array){var i=C,o=t;return r(o,function(t,e){if(u(o,e)&&"."!==e.substring(0,1)){var n=L(t);!n.N()&&n.e()||(i=i.Q(e,n))}}),i.da(L(n))}var a=[],s=!1,h=t;if(hb(h,function(t){if("string"!=typeof t||"."!==t.substring(0,1)){var e=L(h[t]);e.e()||(s=s||!e.A().e(),a.push(new E(t,e)))}}),0==a.length)return C;var c=he(a,Rb,function(t){return t.name},Tb);if(s){var f=he(a,ud(M));return new T(c,L(n),new fe({".priority":f},{".priority":M}))}return new T(c,L(n),je)}h=T.prototype,h.K=function(n){if(this.e())return null;var i={},r=0,o=0,a=!0;if(this.U(M,function(t,e){i[t]=e.K(n),r++,a&&ne.test(t)?o=Math.max(o,Number(t)):a=!1}),!n&&a&&o<2*r){var t,e=[];for(t in i)e[t]=i[t];return e}return n&&!this.A().e()&&(i[".priority"]=this.A().K()),i},h.hash=function(){if(null===this.Bb){var i="";this.A().e()||(i+="priority:"+le(this.A().K())+":"),this.U(M,function(t,e){var n=e.hash();""!==n&&(i+=":"+t+":"+n)}),this.Bb=""===i?"":Jc(i)}return this.Bb},h.qf=function(t,e,n){return(n=oe(this,n))?(t=cc(n,new E(t,e)))?t.name:null:cc(this.m,t)},h.U=function(t,e){var n=oe(this,t);return n?n.ha(function(t){return e(t.name,t.S)}):this.m.ha(e)},h.Wb=function(t){return this.Xb(t.Sc(),t)},h.Xb=function(t,e){if(n=oe(this,e))return n.Xb(t,function(t){return t});for(var n,i=ec(n=this.m.Xb(t.name,Qb));null!=i&&e.compare(i,t)<0;)H(n),i=ec(n);return n},h.rf=function(t){return this.Zb(t.Pc(),t)},h.Zb=function(t,e){if(n=oe(this,e))return n.Zb(t,function(t){return t});for(var n,i=ec(n=this.m.Zb(t.name,Qb));null!=i&&0<e.compare(i,t);)H(n),i=ec(n);return n},h.Cc=function(t){return this.e()?t.e()?0:-1:t.N()||t.e()?1:t===Sd?-1:0},h.mb=function(t){if(t===Vd||ta(this.wb.cc,t.toString()))return this;var e=this.wb,n=this.m;J(t!==Vd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var i=[],r=!1,o=H(n=n.Wb(Qb));o;)r=r||t.Hc(o.S),i.push(o),o=H(n);return i=r?he(i,ud(t)):Pd,r=t.toString(),(n=xa(e.cc))[r]=t,(t=xa(e.yd))[r]=i,new T(this.m,this.ba,new fe(t,n))},h.Ic=function(t){return t===Vd||ta(this.wb.cc,t.toString())},h.Z=function(t){if(t===this)return!0;if(t.N())return!1;if(this.A().Z(t.A())&&this.m.count()===t.m.count()){var e=this.Wb(M);t=t.Wb(M);for(var n=H(e),i=H(t);n&&i;){if(n.name!==i.name||!n.S.Z(i.S))return!1;n=H(e),i=H(t)}return null===n&&null===i}return!1},h.toString=function(){return B(this.K(!0))};var pe=Math.log(2);function qe(t){this.count=parseInt(Math.log(t+1)/pe,10),this.hf=this.count-1,this.bg=t+1&parseInt(Array(this.count+1).join("1"),2)}function re(t){var e=!(t.bg&1<<t.hf);return t.hf--,e}function he(h,t,u,e){h.sort(t);var n=function(t){function e(t,e){var n=a-t,i=a;a-=t;i=function t(e,n){if(0==(r=n-e))return null;if(1==r){var i=h[e];return new fc(u?u(i):i,i.S,!1,null,null)}var r=t(e,i=parseInt(r/2,10)+e),o=t(i+1,n);i=h[i];return new fc(u?u(i):i,i.S,!1,r,o)}(n+1,i),n=h[n],i=new fc(u?u(n):n,n.S,e,null,i);r?r.left=i:o=i,r=i}for(var r=null,o=null,a=h.length,n=0;n<t.count;++n){var i=re(t),s=Math.pow(2,t.count-(n+1));i?e(s,!1):(e(s,!1),e(s,!0))}return o}(new qe(h.length));return null!==n?new ac(e||t,n):new ac(e||t)}function le(t){return"number"==typeof t?"number:"+Zc(t):"string:"+t}function ke(t){if(t.N()){var e=t.K();J("string"==typeof e||"number"==typeof e||"object"==typeof e&&u(e,".sv"),"Priority must be a string or number.")}else J(t===Sd||t.e(),"priority of unexpected type.");J(t===Sd||t.A().e(),"Priority nodes can't have a priority of their own.")}var C=new T(new ac(Tb),null,je);function se(){T.call(this,new ac(Tb),C,je)}ma(se,T),h=se.prototype,h.Cc=function(t){return t===this?0:1},h.Z=function(t){return t===this},h.A=function(){return this},h.M=function(){return C},h.e=function(){return!1};var Sd=new se,Qd=new E("[MIN_NAME]",C),Xd=new E("[MAX_NAME]",Sd);function Id(t,e){this.D=t,this.Ud=e}function Fd(t,e,n,i){return new Id(new sb(e,n,i),t.Ud)}function Jd(t){return t.D.$?t.D.j():null}function tb(t){return t.Ud.$?t.Ud.j():null}function te(t,e){var n=new ld((i=(this.V=t).o).g),i=de(i)?new ld(i.g):i.ia?new rd(i):new md(i);this.Gf=new zd(i);var r=e.u(),o=e.D,a=n.ta(C,r.j(),null),s=i.ta(C,o.j(),null);this.Ka=new Id(new sb(s,o.$,i.Ga()),new sb(a,r.$,n.Ga())),this.Za=[],this.ig=new dd(t)}function ue(t){return t.V}function we(t,e){var n=t.Ka.D,i=[];return n.j().N()||n.j().U(M,function(t,e){i.push(new D("child_added",e,t))}),n.$&&i.push(Db(n.j())),ve(t,i,n.j(),e)}function ve(t,e,n,i){return ed(t.ig,e,n,i?[i]:t.Za)}function xe(t,e,n){this.type=Cd,this.source=t,this.path=e,this.children=n}Id.prototype.u=function(){return this.Ud},h=te.prototype,h.u=function(){return this.Ka.u().j()},h.hb=function(t){var e=tb(this.Ka);return e&&(de(this.V.o)||!t.e()&&!e.M(O(t)).e())?e.oa(t):null},h.e=function(){return 0===this.Za.length},h.Ob=function(t){this.Za.push(t)},h.kb=function(t,e){var n=[];if(e){J(null==t,"A cancel should cancel all event registrations.");var i=this.V.path;Oa(this.Za,function(t){(t=t.ff(e,i))&&n.push(t)})}if(t){for(var r=[],o=0;o<this.Za.length;++o){var a=this.Za[o];if(a.matches(t)){if(t.sf()){r=r.concat(this.Za.slice(o+1));break}}else r.push(a)}this.Za=r}else this.Za=[];return n},h.bb=function(t,e,n){t.type===Cd&&null!==t.source.Ib&&(J(tb(this.Ka),"We should always have a full cache before handling merges"),J(Jd(this.Ka),"Missing event cache, even though we have a server cache"));var i=this.Ka;return t=this.Gf.bb(i,t,e,n),e=this.Gf,J((n=t.he).D.j().Ic(e.I.g),"Event snap not indexed"),J(n.u().j().Ic(e.I.g),"Server snap not indexed"),J(Hb(t.he.u())||!Hb(i.u()),"Once a server snap is complete, it should never go back"),this.Ka=t.he,ve(this,t.cg,t.he.D.j(),null)},xe.prototype.Wc=function(t){return this.path.e()?(t=this.children.subtree(new K(t))).e()?null:t.value?new Ub(this.source,F,t.value):new xe(this.source,F,t):(J(O(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new xe(this.source,G(this.path),this.children))},xe.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};var Vb=0,Cd=1,Xb=2,$b=3;function ye(t,e,n,i){this.ve=t,this.of=e,this.Ib=n,J(!(this.af=i)||e,"Tagged queries must be from server.")}var Yb=new ye(!0,!1,null,!1),ze=new ye(!1,!0,null,!1);function Ae(t,e){this.f=Oc("p:rest:"),this.H=t,this.Gb=e,this.Fa=null,this.aa={}}function Be(t,e){if(n(e))return"tag$"+e;var i=t.o;return J(de(i)&&i.g==M,"should have a tag if it's not a default query."),t.path.toString()}function Ce(e,t,n,i){(n=n||{}).format="export",e.Fa&&(n.auth=e.Fa);var r=(e.H.lb?"https://":"http://")+e.H.host+t+"?"+jb(n);e.f("Sending REST request for "+r);var o=new XMLHttpRequest;o.onreadystatechange=function(){if(i&&4===o.readyState){e.f("REST Response for "+r+" received. status:",o.status,"response:",o.responseText);var t=null;if(200<=o.status&&o.status<300){try{t=mb(o.responseText)}catch(t){Q("Failed to parse JSON response for "+r+": "+o.responseText)}i(null,t)}else 401!==o.status&&404!==o.status&&Q("Got unsuccessful REST response for "+r+" Status: "+o.status),i(o.status);i=null}},o.open("GET",r,!0),o.send()}function De(t,e){this.value=t,this.children=e||Ee}ye.prototype.toString=function(){return this.ve?"user":this.af?"server(queryID="+this.Ib+")":"server"},h=Ae.prototype,h.xf=function(t,e,i,r){var o=t.path.toString();this.f("Listen called for "+o+" "+t.wa());var a=Be(t,i),s={};this.aa[a]=s,t=ee(t.o);var h=this;Ce(this,o+".json",t,function(t,e){var n=e;404===t&&(t=n=null),null===t&&h.Gb(o,n,!1,i),w(h.aa,a)===s&&r(t?401==t?"permission_denied":"rest_error:"+t:"ok",null)})},h.Of=function(t,e){var n=Be(t,e);delete this.aa[n]},h.P=function(t,e){var n=(i=ad(this.Fa=t)).data,i=i.Ac&&i.Ac.exp;e&&e("ok",{auth:n,expires:i})},h.ee=function(t){t("ok",this.Fa=null)},h.Le=function(){},h.Bf=function(){},h.Gd=function(){},h.put=function(){},h.yf=function(){},h.Te=function(){};var Ee=new ac(function(t,e){return t===e?0:t<e?-1:1});function Fe(t){var n=Nd;return r(t,function(t,e){n=n.set(new K(e),t)}),n}function Ge(t,e,n){if(null!=t.value&&n(t.value))return{path:F,value:t.value};if(e.e())return null;var i=O(e);return null!==(t=t.children.get(i))?null!=(e=Ge(t,G(e),n))?{path:new K(i).w(e.path),value:e.value}:null:null}function He(t,e){return Ge(t,e,function(){return!0})}function Md(t,e,n){if(e.e())return n;var i=O(e);return i=(e=Md(t.children.get(i)||Nd,G(e),n)).e()?t.children.remove(i):t.children.Na(i,e),new De(t.value,i)}function Ie(t,e){return Je(t,F,e)}function Je(t,n,i){var r={};return t.children.ha(function(t,e){r[t]=Je(e,n.w(t),i)}),i(n,t.value,r)}function Ke(t,e,n){return Le(t,e,F,n)}function Le(t,e,n,i){var r=!!t.value&&i(n,t.value);return r||(e.e()?null:(r=O(e),(t=t.children.get(r))?Le(t,G(e),n.w(r),i):null))}function Me(t,e,n){var i=F;if(!e.e()){var r=!0;t.value&&(r=n(i,t.value)),!0===r&&(r=O(e),(t=t.children.get(r))&&Ne(t,G(e),i.w(r),n))}}function Ne(t,e,n,i){if(e.e())return t;t.value&&i(n,t.value);var r=O(e);return(t=t.children.get(r))?Ne(t,G(e),n.w(r),i):Nd}function Kd(t,e){Oe(t,F,e)}function Oe(t,n,i){t.children.ha(function(t,e){Oe(e,n.w(t),i)}),t.value&&i(n,t.value)}function Pe(t,n){t.children.ha(function(t,e){e.value&&n(t,e.value)})}h=De.prototype,h.e=function(){return null===this.value&&this.children.e()},h.subtree=function(t){if(t.e())return this;var e=this.children.get(O(t));return null!==e?e.subtree(G(t)):Nd},h.set=function(t,e){if(t.e())return new De(e,this.children);var n=O(t),i=(this.children.get(n)||Nd).set(G(t),e);n=this.children.Na(n,i);return new De(this.value,n)},h.remove=function(t){if(t.e())return this.children.e()?Nd:new De(null,this.children);var e=O(t),n=this.children.get(e);return n?(e=(t=n.remove(G(t))).e()?this.children.remove(e):this.children.Na(e,t),null===this.value&&e.e()?Nd:new De(this.value,e)):this},h.get=function(t){if(t.e())return this.value;var e=this.children.get(O(t));return e?e.get(G(t)):null};var Nd=new De(null);function Qe(t){this.W=t}De.prototype.toString=function(){var n={};return Kd(this,function(t,e){n[t.toString()]=e.toString()}),B(n)};var Re=new Qe(new De(null));function Se(t,e,n){if(e.e())return new Qe(new De(n));if(null!=(r=He(t.W,e))){var i=r.path,r=r.value;return e=N(i,e),r=r.G(e,n),new Qe(t.W.set(i,r))}return new Qe(t=Md(t.W,e,new De(n)))}function Te(t,n,e){var i=t;return hb(e,function(t,e){i=Se(i,n.w(t),e)}),i}function Ue(t,e){var n=He(t.W,e);return null!=n?t.W.get(n.path).oa(N(n.path,e)):null}function Ve(t){var n=[],e=t.W.value;return null!=e?e.N()||e.U(M,function(t,e){n.push(new E(t,e))}):t.W.children.ha(function(t,e){null!=e.value&&n.push(new E(t,e.value))}),n}function We(t,e){if(e.e())return t;var n=Ue(t,e);return new Qe(null!=n?new De(n):t.W.subtree(e))}function Xe(n,t,i){if(null!=t.value)return i.G(n,t.value);var r=null;return t.children.ha(function(t,e){".priority"===t?(J(null!==e.value,"Priority writes must always be leaf nodes"),r=e.value):i=Xe(n.w(t),e,i)}),i.oa(n).e()||null===r||(i=i.G(n.w(".priority"),r)),i}function Ye(){this.T=Re,this.za=[],this.Lc=-1}function Ze(n,i){return n.Ia?n.path.contains(i):!!ua(n.children,function(t,e){return n.path.w(e).contains(i)})}function af(t){return t.visible}function $e(t,e,n){for(var i=Re,r=0;r<t.length;++r){var o=t[r];if(e(o)){var a=o.path;if(o.Ia)n.contains(a)?i=Se(i,a=N(n,a),o.Ia):a.contains(n)&&(a=N(a,n),i=Se(i,F,o.Ia.oa(a)));else{if(!o.children)throw Hc("WriteRecord should have .snap or .children");n.contains(a)?i=Te(i,a=N(n,a),o.children):a.contains(n)&&((a=N(a,n)).e()?i=Te(i,F,o.children):(o=w(o.children,O(a)))&&(o=o.oa(G(a)),i=Se(i,F,o)))}}}return i}function bf(t,e){this.Mb=t,this.W=e}function cf(){this.ya={}}function ef(t){return Pa(ra(t.ya),function(t){return!de(t.V.o)})}function ff(t,e){if(de(e.o))return df(t);var n=e.wa();return w(t.ya,n)}function df(t){return va(t.ya,function(t){return de(t.V.o)})||null}function gf(t){this.sa=Nd,this.Hb=new Ye,this.$e={},this.kc={},this.Mc=t}function hf(t,e,i,r,o){var a=t.Hb,s=o;return J(r>a.Lc,"Stacking an older write on top of newer ones"),n(s)||(s=!0),a.za.push({path:e,Ia:i,ie:r,visible:s}),s&&(a.T=Se(a.T,e,i)),a.Lc=r,o?jf(t,new Ub(Yb,e,i)):[]}function kf(t,e,n,i){var r=t.Hb;return J(i>r.Lc,"Stacking an older merge on top of newer ones"),r.za.push({path:e,children:n,ie:i,visible:!0}),r.T=Te(r.T,e,n),r.Lc=i,n=Fe(n),jf(t,new xe(Yb,e,n))}function lf(t,e,n){return n=n||!1,null==(e=t.Hb.Od(e))?[]:jf(t,new Wb(e,n))}function mf(t,e,n){return n=Fe(n),jf(t,new xe(ze,e,n))}function nf(t,e,n,i){if(null!=(i=of(t,i))){var r=pf(i);return i=r.path,r=r.Ib,e=N(i,e),qf(t,i,n=new Ub(new ye(!1,!0,r,!0),e,n))}return[]}function rf(t,e,n,i){if(i=of(t,i)){var r=pf(i);return i=r.path,r=r.Ib,e=N(i,e),n=Fe(n),qf(t,i,n=new xe(new ye(!1,!0,r,!0),e,n))}return[]}function vf(t){return Ie(t,function(t,e,n){if(e&&null!=df(e))return[df(e)];var i=[];return e&&(i=ef(e)),r(n,function(t){i=i.concat(t)}),i})}function yf(t,e){for(var n=0;n<e.length;++n){if(!de((i=e[n]).o)){var i=sf(i),r=t.kc[i];delete t.kc[i],delete t.$e["_"+r]}}}function uf(t,e,n){var i=e.path,o=xf(t,e);if(n=wf(t,n),e=t.Mc.Xe(e,o,n.ud,n.J),i=t.sa.subtree(i),o)J(null==df(i.value),"If we're adding a query, it shouldn't be shadowed");else for(o=Ie(i,function(t,e,n){if(!t.e()&&e&&null!=df(e))return[ue(df(e))];var i=[];return e&&(i=i.concat(Qa(ef(e),function(t){return t.V}))),r(n,function(t){i=i.concat(t)}),i}),i=0;i<o.length;++i)n=o[i],t.Mc.Zd(n,xf(t,n));return e}function wf(i,t){var r=t.V,o=xf(i,r);return{ud:function(){return(t.u()||C).hash()},J:function(t){if("ok"===t){if(o){var e=r.path;if(t=of(i,o)){var n=pf(t);t=n.path,n=n.Ib,e=N(t,e),e=new Zb(new ye(!1,!0,n,!0),e),t=qf(i,t,e)}else t=[]}else t=jf(i,new Zb(ze,r.path));return t}return e="Unknown Error","too_big"===t?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?e="Client doesn't have permission to access the desired data.":"unavailable"==t&&(e="The service is unavailable"),(e=Error(t+": "+e)).code=t.toUpperCase(),i.kb(r,null,e)}}}function sf(t){return t.path.toString()+"$"+t.wa()}function pf(t){var e=t.indexOf("$");return J(-1!==e&&e<t.length-1,"Bad queryKey."),{Ib:t.substr(e+1),path:new K(t.substr(0,e))}}function of(t,e){var n=t.$e,i="_"+e;return i in n?n[i]:void 0}function xf(t,e){var n=sf(e);return w(t.kc,n)}Qe.prototype.Od=function(t){return t.e()?Re:new Qe(t=Md(this.W,t,Nd))},Qe.prototype.e=function(){return this.W.e()},Qe.prototype.apply=function(t){return Xe(F,this.W,t)},h=Ye.prototype,h.Od=function(e){var t=Ua(this.za,function(t){return t.ie===e});J(0<=t,"removeWrite called with nonexistent writeId.");var n=this.za[t];this.za.splice(t,1);for(var i=n.visible,o=!1,a=this.za.length-1;i&&0<=a;){var s=this.za[a];s.visible&&(t<=a&&Ze(s,n.path)?i=!1:n.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)this.T=$e(this.za,af,F),this.Lc=0<this.za.length?this.za[this.za.length-1].ie:-1;else if(n.Ia)this.T=this.T.Od(n.path);else{var h=this;r(n.children,function(t,e){h.T=h.T.Od(n.path.w(e))})}return n.path}return null},h.ua=function(e,t,n,i){if(n||i){var r=We(this.T,e);return!i&&r.e()?t:i||null!=t||null!=Ue(r,F)?(r=$e(this.za,function(t){return(t.visible||i)&&(!n||!(0<=Na(n,t.ie)))&&(t.path.contains(e)||e.contains(t.path))},e),t=t||C,r.apply(t)):null}return null!=(r=Ue(this.T,e))?r:(r=We(this.T,e)).e()?t:null!=t||null!=Ue(r,F)?(t=t||C,r.apply(t)):null},h.xc=function(t,e){var i=C,n=Ue(this.T,t);if(n)n.N()||n.U(M,function(t,e){i=i.Q(t,e)});else if(e){var r=We(this.T,t);e.U(M,function(t,e){var n=We(r,new K(t)).apply(e);i=i.Q(t,n)}),Oa(Ve(r),function(t){i=i.Q(t.name,t.S)})}else r=We(this.T,t),Oa(Ve(r),function(t){i=i.Q(t.name,t.S)});return i},h.hd=function(t,e,n,i){return J(n||i,"Either existingEventSnap or existingServerSnap must exist"),t=t.w(e),null!=Ue(this.T,t)?null:(t=We(this.T,t)).e()?i.oa(e):t.apply(i.oa(e))},h.Xa=function(t,e,n){t=t.w(e);var i=Ue(this.T,t);return null!=i?i:rb(n,e)?We(this.T,t).apply(n.j().M(e)):null},h.sc=function(t){return Ue(this.T,t)},h.me=function(t,e,n,i,r,o){var a;if(null==(a=Ue(t=We(this.T,t),F))){if(null==e)return[];a=t.apply(e)}if((a=a.mb(o)).e()||a.N())return[];for(e=[],t=ud(o),o=H(r=r?a.Zb(n,o):a.Xb(n,o));o&&e.length<i;)0!==t(o,n)&&e.push(o),o=H(r);return e},h=bf.prototype,h.ua=function(t,e,n){return this.W.ua(this.Mb,t,e,n)},h.xc=function(t){return this.W.xc(this.Mb,t)},h.hd=function(t,e,n){return this.W.hd(this.Mb,t,e,n)},h.sc=function(t){return this.W.sc(this.Mb.w(t))},h.me=function(t,e,n,i,r){return this.W.me(this.Mb,t,e,n,i,r)},h.Xa=function(t,e){return this.W.Xa(this.Mb,t,e)},h.w=function(t){return new bf(this.Mb.w(t),this.W)},h=cf.prototype,h.e=function(){return wa(this.ya)},h.bb=function(e,n,i){var t=e.source.Ib;if(null!==t)return J(null!=(t=w(this.ya,t)),"SyncTree gave us an op for an invalid query."),t.bb(e,n,i);var o=[];return r(this.ya,function(t){o=o.concat(t.bb(e,n,i))}),o},h.Ob=function(t,e,n,i,r){var o=t.wa();if(!(a=w(this.ya,o))){var a,s=!1;(a=n.ua(r?i:null))?s=!0:(a=i instanceof T?n.xc(i):C,s=!1),a=new te(t,new Id(new sb(a,s,!1),new sb(i,r,!1))),this.ya[o]=a}return a.Ob(e),we(a,e)},h.kb=function(t,n,i){var e=t.wa(),o=[],a=[],s=null!=df(this);if("default"===e){var h=this;r(this.ya,function(t,e){a=a.concat(t.kb(n,i)),t.e()&&(delete h.ya[e],de(t.V.o)||o.push(t.V))})}else{var u=w(this.ya,e);u&&(a=a.concat(u.kb(n,i)),u.e()&&(delete this.ya[e],de(u.V.o)||o.push(u.V)))}return s&&null==df(this)&&o.push(new U(t.k,t.path)),{Hg:o,jg:a}},h.hb=function(e){var n=null;return r(this.ya,function(t){n=n||t.hb(e)}),n},gf.prototype.Ob=function(t,e){var i=t.path,r=null,o=!1;Me(this.sa,i,function(t,e){var n=N(t,i);return r=e.hb(n),o=o||null!=df(e),!r});var n,a=this.sa.get(i);a?(o=o||null!=df(a),r=r||a.hb(F)):(a=new cf,this.sa=this.sa.set(i,a)),null!=r?n=!0:(n=!1,r=C,Pe(this.sa.subtree(i),function(t,e){var n=e.hb(F);n&&(r=r.Q(t,n))}));var s=null!=ff(a,t);if(!s&&!de(t.o)){var h=sf(t);J(!(h in this.kc),"View does not exist, but we have a tag");var u=tf++;this.kc[h]=u,this.$e["_"+u]=h}return n=a.Ob(t,e,new bf(i,this.Hb),r,n),s||o||(a=ff(a,t),n=n.concat(uf(this,t,a))),n},gf.prototype.kb=function(t,e,n){var i=t.path,r=this.sa.get(i),o=[];if(r&&("default"===t.wa()||null!=ff(r,t))){o=r.kb(t,e,n),r.e()&&(this.sa=this.sa.remove(i)),r=o.Hg,o=o.jg,e=-1!==Ua(r,function(t){return de(t.o)});var a=Ke(this.sa,i,function(t,e){return null!=df(e)});if(e&&!a&&!(i=this.sa.subtree(i)).e()){i=vf(i);for(var s=0;s<i.length;++s){var h=(u=i[s]).V,u=wf(this,u);this.Mc.Xe(h,xf(this,h),u.ud,u.J)}}if(!a&&0<r.length&&!n)if(e)this.Mc.Zd(t,null);else{var c=this;Oa(r,function(t){t.wa();var e=c.kc[sf(t)];c.Mc.Zd(t,e)})}yf(this,r)}return o},gf.prototype.ua=function(i,t){var e=this.Hb,n=Ke(this.sa,i,function(t,e){var n=N(t,i);if(n=e.hb(n))return n});return e.ua(i,n,t,!0)};var tf=1;function qf(t,e,n){var i=t.sa.get(e);return J(i,"Missing sync point for query tag that we're tracking"),i.bb(n,new bf(e,t.Hb),null)}function jf(t,e){return zf(t,e,t.sa,null,new bf(F,t.Hb))}function zf(t,e,n,i,r){if(e.path.e())return Af(t,e,n,i,r);var o=n.get(F);null==i&&null!=o&&(i=o.hb(F));var a=[],s=O(e.path),h=e.Wc(s);if((n=n.children.get(s))&&h){var u=i?i.M(s):null;s=r.w(s),a=a.concat(zf(t,h,n,u,s))}return o&&(a=a.concat(o.bb(e,r,i))),a}function Af(o,a,t,s,h){var e=t.get(F);null==s&&null!=e&&(s=e.hb(F));var u=[];return t.children.ha(function(t,e){var n=s?s.M(t):null,i=h.w(t),r=a.Wc(t);r&&(u=u.concat(Af(o,r,e,n,i)))}),e&&(u=u.concat(e.bb(a,h,s))),u}function Bf(){this.children={},this.kd=0,this.value=null}function Cf(t,e,n){this.Dd=t||"",this.Yc=e||null,this.B=n||new Bf}function Df(t,e){for(var n,i=e instanceof K?e:new K(e),r=t;null!==(n=O(i));)r=new Cf(n,r,w(r.B.children,n)||new Bf),i=G(i);return r}function Ef(t,e){J(void 0!==e,"Cannot set value to undefined"),t.B.value=e,Ff(t)}function Gf(t,e,n,i){n&&!i&&e(t),t.U(function(t){Gf(t,e,!0,i)}),n&&i&&e(t)}function Hf(t,e){for(var n=t.parent();null!==n&&!e(n);)n=n.parent()}function Ff(t){if(null!==t.Yc){var e=t.Yc,n=t.Dd,i=t.e(),r=u(e.B.children,n);i&&r?(delete e.B.children[n],e.B.kd--,Ff(e)):i||r||(e.B.children[n]=t.B,e.B.kd++,Ff(e))}}function If(t){J(ea(t)&&0<t.length,"Requires a non-empty array"),this.Uf=t,this.Nc={}}function Jf(t,e){J(Ta(t.Uf,function(t){return t===e}),"Unknown event: "+e)}h=Cf.prototype,h.Ba=function(){return this.B.value},h.clear=function(){this.B.value=null,this.B.children={},this.B.kd=0,Ff(this)},h.td=function(){return 0<this.B.kd},h.e=function(){return null===this.Ba()&&!this.td()},h.U=function(n){var i=this;r(this.B.children,function(t,e){n(new Cf(e,i,t))})},h.path=function(){return new K(null===this.Yc?this.Dd:this.Yc.path()+"/"+this.Dd)},h.name=function(){return this.Dd},h.parent=function(){return this.Yc},If.prototype.de=function(t,e){for(var n=this.Nc[t]||[],i=0;i<n.length;i++)n[i].yc.apply(n[i].Ma,Array.prototype.slice.call(arguments,1))},If.prototype.Eb=function(t,e,n){Jf(this,t),this.Nc[t]=this.Nc[t]||[],this.Nc[t].push({yc:e,Ma:n}),(t=this.ze(t))&&e.apply(n,t)},If.prototype.gc=function(t,e,n){Jf(this,t),t=this.Nc[t]||[];for(var i=0;i<t.length;i++)if(t[i].yc===e&&(!n||n===t[i].Ma)){t.splice(i,1);break}};var Kf=(EI=0,FI=[],function(t){var e=t===EI;EI=t;for(var n=Array(8),i=7;0<=i;i--)n[i]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(t%64),t=Math.floor(t/64);if(J(0===t,"Cannot push at time == 0"),t=n.join(""),e){for(i=11;0<=i&&63===FI[i];i--)FI[i]=0;FI[i]++}else for(i=0;i<12;i++)FI[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)t+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(FI[i]);return J(20===t.length,"nextPushId: Length should be 20."),t}),EI,FI;function Lf(){if(If.call(this,["online"]),this.ic=!0,"undefined"!=typeof window&&void 0!==window.addEventListener){var t=this;window.addEventListener("online",function(){t.ic||(t.ic=!0,t.de("online",!0))},!1),window.addEventListener("offline",function(){t.ic&&(t.ic=!1,t.de("online",!1))},!1)}}function Mf(){var e,t;if(If.call(this,["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.uc=!0,t){var n=this;document.addEventListener(t,function(){var t=!document[e];t!==n.uc&&(n.uc=t,n.de("visible",t))},!1)}}ma(Lf,If),Lf.prototype.ze=function(t){return J("online"===t,"Unknown event type: "+t),[this.ic]},ca(Lf),ma(Mf,If),Mf.prototype.ze=function(t){return J("visible"===t,"Unknown event type: "+t),[this.uc]},ca(Mf);var Nf=/[\[\].#$\/\u0000-\u001F\u007F]/,Of=/[\[\].#$\u0000-\u001F\u007F]/;function Pf(t){return p(t)&&0!==t.length&&!Nf.test(t)}function Qf(t){return null===t||p(t)||ga(t)&&!Sc(t)||ia(t)&&u(t,".sv")}function Rf(t,e,i,r){r&&!n(e)||Sf(z(t,1,r),e,i)}function Sf(i,t,r){if(r instanceof K&&(r=new wc(r,i)),!n(t))throw Error(i+"contains undefined "+zc(r));if(ha(t))throw Error(i+"contains a function "+zc(r)+" with contents: "+t.toString());if(Sc(t))throw Error(i+"contains "+t.toString()+" "+zc(r));if(p(t)&&t.length>10485760/3&&10485760<xc(t))throw Error(i+"contains a string greater than 10485760 utf8 bytes "+zc(r)+" ('"+t.substring(0,50)+"...')");if(ia(t)){var o=!1,a=!1;if(hb(t,function(t,e){if(".value"===t)o=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Pf(t)))throw Error(i+" contains an invalid key ("+t+") "+zc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),Sf(i,e,r),r.pop()}),o&&a)throw Error(i+' contains ".value" child '+zc(r)+" in addition to actual children.")}}function Tf(t,e,n){if(!ia(e)||ea(e))throw Error(z(t,1,!1)+" must be an Object containing the children to replace.");if(u(e,".value"))throw Error(z(t,1,!1)+' must not contain ".value".  To overwrite with a leaf value, just use .set() instead.');Rf(t,e,n,!1)}function Uf(t,e,n){if(Sc(n))throw Error(z(t,e,!1)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qf(n))throw Error(z(t,e,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}function Vf(t,e,i){if(!i||n(e))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw Error(z(t,1,i)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}function Wf(t,e,i,r){if((!r||n(i))&&!Pf(i))throw Error(z(t,e,r)+'was an invalid key: "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')}function Xf(t,e){if(!p(e)||0===e.length||Of.test(e))throw Error(z(t,1,!1)+'was an invalid path: "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')}function Yf(t,e){if(".info"===O(e))throw Error(t+" failed: Can't modify data under /.info/")}function Zf(t,e){if(!p(e))throw Error(z(t,1,!1)+"must be a valid credential (a string).")}function $f(t,e,n){if(!p(n))throw Error(z(t,e,!1)+"must be a valid string.")}function ag(t,e,i,r){if((!r||n(i))&&(!ia(i)||null===i))throw Error(z(t,e,r)+"must be a valid object.")}function bg(t,e,n){if(!ia(e)||null===e||!u(e,n))throw Error(z(t,1,!1)+'must contain the key "'+n+'"');if(!p(w(e,n)))throw Error(z(t,1,!1)+'must contain the key "'+n+'" with type "string"')}function cg(){this.set={}}function dg(t,n){r(t.set,function(t,e){n(e,t)})}function qc(){this.m=this.C=null}function eg(n,t){if(t.e())return n.C=null,!(n.m=null);if(null!==n.C){if(n.C.N())return!1;var e=n.C;return n.C=null,e.U(M,function(t,e){n.mc(new K(t),e)}),eg(n,t)}return null===n.m||(e=O(t),t=G(t),n.m.contains(e)&&eg(n.m.get(e),t)&&n.m.remove(e),!!n.m.e()&&!(n.m=null))}function rc(t,n,i){null!==t.C?i(n,t.C):t.U(function(t,e){rc(e,new K(n.toString()+"/"+t),i)})}h=cg.prototype,h.add=function(t,e){this.set[t]=null===e||e},h.contains=function(t){return u(this.set,t)},h.get=function(t){return this.contains(t)?this.set[t]:void 0},h.remove=function(t){delete this.set[t]},h.clear=function(){this.set={}},h.e=function(){return wa(this.set)},h.count=function(){return pa(this.set)},h.keys=function(){var n=[];return r(this.set,function(t,e){n.push(e)}),n},qc.prototype.find=function(t){if(null!=this.C)return this.C.oa(t);if(t.e()||null==this.m)return null;var e=O(t);return t=G(t),this.m.contains(e)?this.m.get(e).find(t):null},qc.prototype.mc=function(t,e){if(t.e())this.C=e,this.m=null;else if(null!==this.C)this.C=this.C.G(t,e);else{null==this.m&&(this.m=new cg);var n=O(t);this.m.contains(n)||this.m.add(n,new qc),n=this.m.get(n),t=G(t),n.mc(t,e)}},qc.prototype.U=function(n){null!==this.m&&dg(this.m,function(t,e){n(t,e)})};var fg="auth.firebase.com";function gg(t,e,n){this.ld=t||{},this.ce=e||{},this.ab=n||{},this.ld.remember||(this.ld.remember="default")}var hg=["remember","redirectTo"];function ig(t){var n={},i={};return hb(t||{},function(t,e){0<=Na(hg,t)?n[t]=e:i[t]=e}),new gg(n,{},i)}function jg(t,e){this.Pe=["session",t.Ld,t.Cb].join(":"),this.$d=e}function kg(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function lg(){return"undefined"!=typeof location&&/^file:\//.test(location.href)}function mg(){if("undefined"==typeof navigator)return!1;var t=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((t=t.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<t.length)return 8<=parseFloat(t[1])}else if(-1<t.indexOf("Trident")&&(t=t.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<t.length)return 8<=parseFloat(t[1]);return!1}function ng(){var t,e=window.opener.frames;for(t=e.length-1;0<=t;t--)try{if(e[t].location.protocol===window.location.protocol&&e[t].location.host===window.location.host&&"__winchan_relay_frame"===e[t].name)return e[t]}catch(t){}return null}function og(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function pg(t,e,n){t.detachEvent?t.detachEvent("on"+e,n):t.removeEventListener&&t.removeEventListener(e,n,!1)}function qg(t){/^https?:\/\//.test(t)||(t=window.location.href);var e=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(t);return e?e[1]:t}function rg(t){var e="";try{var n=kb(t=t.replace("#",""));n&&u(n,"__firebase_request_key")&&(e=w(n,"__firebase_request_key"))}catch(t){}return e}function sg(){var t=Rc(fg);return t.scheme+"://"+t.host+"/v2"}function tg(t){return sg()+"/"+t+"/auth/channel"}function ug(t){var e=this;if(this.zc=t,this.ae="*",mg()?this.Qc=this.wd=ng():(this.Qc=window.opener,this.wd=window),!e.Qc)throw"Unable to find relay frame";og(this.wd,"message",q(this.hc,this)),og(this.wd,"message",q(this.Af,this));try{vg(this,{a:"ready"})}catch(t){og(this.Qc,"load",function(){vg(e,{a:"ready"})})}og(window,"unload",q(this.yg,this))}function vg(t,e){e=B(e),mg()?t.Qc.doPost(e,t.ae):t.Qc.postMessage(e,t.ae)}function wg(t){this.oc=Ga()+Ga()+Ga(),this.Df=t}jg.prototype.set=function(t,e){if(!e){if(!this.$d.length)throw Error("fb.login.SessionManager : No storage options available!");e=this.$d[0]}e.set(this.Pe,t)},jg.prototype.get=function(){var t=Qa(this.$d,q(this.ng,this));return Xa(t=Pa(t,function(t){return null!==t}),function(t,e){return bd(e.token)-bd(t.token)}),0<t.length?t.shift():null},jg.prototype.ng=function(t){try{var e=t.get(this.Pe);if(e&&e.token)return e}catch(t){}return null},jg.prototype.clear=function(){var e=this;Oa(this.$d,function(t){t.remove(e.Pe)})},ug.prototype.hc=function(t){var e,n=this;try{e=mb(t.data)}catch(t){}e&&"request"===e.a&&(pg(window,"message",this.hc),this.ae=t.origin,this.zc&&setTimeout(function(){n.zc(n.ae,e.d,function(t,e){n.ag=!e,n.zc=void 0,vg(n,{a:"response",d:t,forceKeepWindowOpen:e})})},0))},ug.prototype.yg=function(){try{pg(this.wd,"message",this.Af)}catch(t){}this.zc&&(vg(this,{a:"error",d:"unknown closed window"}),this.zc=void 0);try{window.close()}catch(t){}},ug.prototype.Af=function(t){if(this.ag&&"die"===t.data)try{window.close()}catch(t){}},wg.prototype.open=function(t,e){P.set("redirect_request_id",this.oc),P.set("redirect_request_id",this.oc),e.requestId=this.oc,e.redirectTo=e.redirectTo||window.location.href,t+=(/\?/.test(t)?"":"?")+jb(e),window.location=t},wg.isAvailable=function(){return!lg()&&!kg()},wg.prototype.Bc=function(){return"redirect"};var xg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."},Vg,Wg;function yg(t){var e=Error(w(xg,t),t);return e.code=t,e}function zg(t){(!t.window_features||"undefined"!=typeof navigator&&(-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android")))&&(t.window_features=void 0),t.window_name||(t.window_name="_blank"),this.options=t}function Ag(t){t.method||(t.method="GET"),t.headers||(t.headers={}),t.headers.content_type||(t.headers.content_type="application/json"),t.headers.content_type=t.headers.content_type.toLowerCase(),this.options=t}function Bg(t){this.oc=Ga()+Ga()+Ga(),this.Df=t}function Cg(t){t.callback_parameter||(t.callback_parameter="callback"),this.options=t,window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}function Dg(n,i,r){setTimeout(function(){try{var t=document.createElement("script");t.type="text/javascript",t.id=n,t.async=!0,t.src=i,t.onerror=function(){var t=document.getElementById(n);null!==t&&t.parentNode.removeChild(t),r&&r(yg("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(t)}catch(t){r&&r(yg("NETWORK_ERROR"))}},0)}function Eg(t,e,n,i){If.call(this,["auth_status"]),this.H=t,this.df=e,this.Sg=n,this.Ke=i,this.rc=new jg(t,[Dc,P]),this.nb=null,this.Re=!1,Fg(this)}function Fg(n){P.get("redirect_request_id")&&Gg(n);var i=n.rc.get();i&&i.token?(Hg(n,i),n.df(i.token,function(t,e){Ig(n,t,e,!1,i.token,i)},function(t,e){Jg(n,"resumeSession()",t,e)})):Hg(n,null)}function Kg(n,i,r,o,a,s){"firebaseio-demo.com"===n.H.domain&&Q("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com."),n.df(i,function(t,e){Ig(n,t,e,!0,i,r,o||{},a)},function(t,e){Jg(n,"auth()",t,e,s)})}function Lg(t,r){t.rc.clear(),Hg(t,null),t.Sg(function(t,e){if("ok"===t)R(r,null);else{var n=(t||"error").toUpperCase(),i=n;e&&(i+=": "+e),(i=Error(i)).code=n,R(r,i)}})}function Ig(t,e,n,i,r,o,a,s){"ok"===e?(i&&(e=n.auth,o.auth=e,o.expires=n.expires,o.token=cd(r)?r:"",n=null,e&&u(e,"uid")?n=w(e,"uid"):u(o,"uid")&&(n=w(o,"uid")),o.uid=n,n="custom",e&&u(e,"provider")?n=w(e,"provider"):u(o,"provider")&&(n=w(o,"provider")),o.provider=n,t.rc.clear(),cd(r)&&(n=Dc,"sessionOnly"===(a=a||{}).remember&&(n=P),"none"!==a.remember&&t.rc.set(o,n)),Hg(t,o)),R(s,null,o)):(t.rc.clear(),Hg(t,null),o=t=(e||"error").toUpperCase(),n&&(o+=": "+n),(o=Error(o)).code=t,R(s,o))}function Jg(t,e,n,i,r){Q(e+" was canceled: "+i),t.rc.clear(),Hg(t,null),(t=Error(i)).code=n.toUpperCase(),R(r,t)}function Mg(t,e,n,i,r){Ng(t),Og(t,[Ag,Cg],"/auth/"+e,n=new gg(i||{},{},n||{}),r)}function Pg(t,e,n,i){Ng(t);var r=[zg,Bg];n=ig(n),"anonymous"===e||"password"===e?setTimeout(function(){R(i,yg("TRANSPORT_UNAVAILABLE"))},0):(n.ce.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"==typeof screen?.5*(screen.height-625):0)+",left="+("object"==typeof screen?.5*(screen.width-625):0),n.ce.relay_url=tg(t.H.Cb),n.ce.requestWithCredential=q(t.pc,t),Og(t,r,"/auth/"+e,n,i))}function Gg(t){if(n=P.get("redirect_request_id")){var e=P.get("redirect_client_options");P.remove("redirect_request_id"),P.remove("redirect_client_options");var n,i=[Ag,Cg];e=new gg(e,{},n={requestId:n,requestKey:rg(document.location.hash)});t.Re=!0;try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(t){}Og(t,i,"/auth/session",e,function(){this.Re=!1}.bind(t))}}function Og(n,t,e,i,r){Qg(n,t,e,i,function(t,e){!t&&e&&e.token&&e.uid?Kg(n,e.token,e,i.ld,function(t,e){t?R(r,t):R(r,null,e)}):R(r,t||yg("UNKNOWN_ERROR"))})}function Qg(t,e,n,i,r){0===(e=Pa(e,function(t){return"function"==typeof t.isAvailable&&t.isAvailable()})).length?setTimeout(function(){R(r,yg("TRANSPORT_UNAVAILABLE"))},0):(e=new(e.shift())(i.ce),(i=ib(i.ab)).v="js-2.2.5",i.transport=e.Bc(),i.suppress_status_codes=!0,t=sg()+"/"+t.H.Cb+n,e.open(t,i,function(t,e){if(t)R(r,t);else if(e&&e.error){var n=Error(e.error.message);n.code=e.error.code,n.details=e.error.details,R(r,n)}else R(r,null,e)}))}function Hg(t,e){var n=null!==t.nb||null!==e;t.nb=e,n&&t.de("auth_status",e),t.Ke(null!==e)}function Ng(t){var e=t.H;if("firebaseio.com"!==e.domain&&"firebaseio-demo.com"!==e.domain&&"auth.firebase.com"===fg)throw Error("This custom Firebase server ('"+t.H.domain+"') does not support delegated login.")}function Rg(t){this.hc=t,this.Kd=[],this.Qb=0,this.pe=-1,this.Fb=null}function Sg(t,e,n){t.pe=e,t.Fb=n,t.pe<t.Qb&&(t.Fb(),t.Fb=null)}function Tg(t,e,n){for(t.Kd[e]=n;t.Kd[t.Qb];){var i=t.Kd[t.Qb];delete t.Kd[t.Qb];for(var r=0;r<i.length;++r)if(i[r]){var o=t;Cb(function(){o.hc(i[r])})}if(t.Qb===t.pe){t.Fb&&(clearTimeout(t.Fb),t.Fb(),t.Fb=null);break}t.Qb++}}function Ug(t,i,e){this.qe=t,this.f=Oc(t),this.ob=this.pb=0,this.Va=Ob(i),this.Vd=e,this.Gc=!1,this.gd=function(t){i.host!==i.Oa&&(t.ns=i.Cb);var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e+"="+t[e]);return(i.lb?"https://":"http://")+i.Oa+"/.lp?"+n.join("&")}}function Yg(t,e){var n=B(e).length;t.ob+=n,Lb(t.Va,"bytes_received",n)}function Xg(e,t,n,i){if(this.gd=i,this.jb=n,this.Oe=new cg,this.$c=[],this.se=Math.floor(1e8*Math.random()),this.Td=!0,this.fe=Gc(),window["pLPCommand"+this.fe]=e,window["pRTLPCB"+this.fe]=t,(e=document.createElement("iframe")).style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Bb("No IE domain setting required")}catch(t){e.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}e.contentDocument?e.gb=e.contentDocument:e.contentWindow?e.gb=e.contentWindow.document:e.document&&(e.gb=e.document),this.Ca=e,e="",this.Ca.src&&"javascript:"===this.Ca.src.substr(0,11)&&(e='<script>document.domain="'+document.domain+'";<\/script>'),e="<html><body>"+e+"</body></html>";try{this.Ca.gb.open(),this.Ca.gb.write(e),this.Ca.gb.close()}catch(t){Bb("frame writing exception"),t.stack&&Bb(t.stack),Bb(t)}}function $g(t){if(t.ke&&t.Td&&t.Oe.count()<(0<t.$c.length?2:1)){t.se++,(e={}).id=t.rg,e.pw=t.sg,e.ser=t.se;for(var e=t.gd(e),n="",i=0;0<t.$c.length&&t.$c[0].jf.length+30+n.length<=1870;){var r=t.$c.shift();n=n+"&seg"+i+"="+r.Jg+"&ts"+i+"="+r.Rg+"&d"+i+"="+r.jf;i++}return ah(t,e+n,t.se),!0}return!1}function ah(t,e,n){function i(){t.Oe.remove(n),$g(t)}t.Oe.add(n,1);var r=setTimeout(i,Math.floor(25e3));Zg(t,e,function(){clearTimeout(r),i()})}function Zg(t,n,i){setTimeout(function(){try{if(t.Td){var e=t.Ca.gb.createElement("script");e.type="text/javascript",e.async=!0,e.src=n,e.onload=e.onreadystatechange=function(){var t=e.readyState;t&&"loaded"!==t&&"complete"!==t||(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),i())},e.onerror=function(){Bb("Long-poll script failed to load: "+n),t.Td=!1,t.close()},t.Ca.gb.body.appendChild(e)}}catch(t){}},Math.floor(1))}zg.prototype.open=function(t,e,n){function i(t){if(o&&(document.body.removeChild(o),o=void 0),c&&(c=clearInterval(c)),pg(window,"message",r),pg(window,"unload",i),u&&!t)try{u.close()}catch(t){a.postMessage("die",h)}u=a=void 0}function r(t){if(t.origin===h)try{var e=mb(t.data);"ready"===e.a?a.postMessage(f,h):"error"===e.a?(i(!1),n&&(n(e.d),n=null)):"response"===e.a&&(i(e.forceKeepWindowOpen),n&&(n(null,e.d),n=null))}catch(t){}}var o,a,s=mg();if(!this.options.relay_url)return n(Error("invalid arguments: origin of url and relay_url must match"));var h=qg(t);if(h!==qg(this.options.relay_url))n&&setTimeout(function(){n(Error("invalid arguments: origin of url and relay_url must match"))},0);else{s&&((o=document.createElement("iframe")).setAttribute("src",this.options.relay_url),o.style.display="none",o.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(o),a=o.contentWindow),t+=(/\?/.test(t)?"":"?")+jb(e);var u=window.open(t,this.options.window_name,this.options.window_features);a||(a=u);var c=setInterval(function(){u&&u.closed&&(i(!1),n&&(n(yg("USER_CANCELLED")),n=null))},500),f=B({a:"request",d:e});og(window,"unload",i),og(window,"message",r)}},zg.isAvailable=function(){return"postMessage"in window&&!lg()&&!(kg()||"undefined"!=typeof navigator&&(navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href))||"undefined"!=typeof navigator&&"undefined"!=typeof window&&(navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone))&&!("undefined"!=typeof navigator&&navigator.userAgent.match(/PhantomJS/))},zg.prototype.Bc=function(){return"popup"},Ag.prototype.open=function(t,e,n){function i(){n&&(n(yg("REQUEST_INTERRUPTED")),n=null)}var r,o=new XMLHttpRequest,a=this.options.method.toUpperCase();if(og(window,"beforeunload",i),o.onreadystatechange=function(){if(n&&4===o.readyState){var t;if(200<=o.status&&o.status<300){try{t=mb(o.responseText)}catch(t){}n(null,t)}else 500<=o.status&&o.status<600?n(yg("SERVER_ERROR")):n(yg("NETWORK_ERROR"));n=null,pg(window,"beforeunload",i)}},"GET"===a)t+=(/\?/.test(t)?"":"?")+jb(e),r=null;else{var s=this.options.headers.content_type;"application/json"===s&&(r=B(e)),"application/x-www-form-urlencoded"===s&&(r=jb(e))}for(var h in o.open(a,t,!0),za(t={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"},this.options.headers),t)o.setRequestHeader(h,t[h]);o.send(r)},Ag.isAvailable=function(){return!!window.XMLHttpRequest&&"string"==typeof(new XMLHttpRequest).responseType&&(!("undefined"!=typeof navigator&&(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/)))||mg())},Ag.prototype.Bc=function(){return"json"},Bg.prototype.open=function(t,e,i){function r(){i&&(i(yg("USER_CANCELLED")),i=null)}var o,a=this,s=Rc(fg);e.requestId=this.oc,e.redirectTo=s.scheme+"://"+s.host+"/blank/page.html",t+=/\?/.test(t)?"":"?",t+=jb(e),(o=window.open(t,"_blank","location=no"))&&ha(o.addEventListener)?(o.addEventListener("loadstart",function(t){var e;if(e=t&&t.url)t:{try{var n=document.createElement("a");n.href=t.url,e=n.host===s.host&&"/blank/page.html"===n.pathname;break t}catch(t){}e=!1}e&&(t=rg(t.url),o.removeEventListener("exit",r),o.close(),t=new gg(null,null,{requestId:a.oc,requestKey:t}),a.Df.requestWithCredential("/auth/session",t,i),i=null)}),o.addEventListener("exit",r)):i(yg("TRANSPORT_UNAVAILABLE"))},Bg.isAvailable=function(){return kg()},Bg.prototype.Bc=function(){return"redirect"},Cg.prototype.open=function(t,e,n){function i(){n&&(n(yg("REQUEST_INTERRUPTED")),n=null)}var r="fn"+(new Date).getTime()+Math.floor(99999*Math.random());e[this.options.callback_parameter]="__firebase_auth_jsonp."+r,t+=(/\?/.test(t)?"":"?")+jb(e),og(window,"beforeunload",i),window.__firebase_auth_jsonp[r]=function(t){n&&(n(null,t),n=null),setTimeout(function(){window.__firebase_auth_jsonp[r]=void 0,wa(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var t=document.getElementById(r);t&&t.parentNode.removeChild(t)}catch(t){}},1),pg(window,"beforeunload",i)},Dg(r,t,n)},Cg.isAvailable=function(){return!0},Cg.prototype.Bc=function(){return"json"},ma(Eg,If),h=Eg.prototype,h.we=function(){return this.nb||null},h.re=function(t,n){Ng(this);var e=ig(t);e.ab._method="POST",this.pc("/users",e,function(t,e){t?R(n,t):R(n,t,e)})},h.Se=function(t,n){var i=this;Ng(this);var e="/users/"+encodeURIComponent(t.email),r=ig(t);r.ab._method="DELETE",this.pc(e,r,function(t,e){!t&&e&&e.uid&&i.nb&&i.nb.uid&&i.nb.uid===e.uid&&Lg(i),R(n,t)})},h.oe=function(t,e){Ng(this);var n="/users/"+encodeURIComponent(t.email)+"/password",i=ig(t);i.ab._method="PUT",i.ab.password=t.newPassword,this.pc(n,i,function(t){R(e,t)})},h.ne=function(t,e){Ng(this);var n="/users/"+encodeURIComponent(t.oldEmail)+"/email",i=ig(t);i.ab._method="PUT",i.ab.email=t.newEmail,i.ab.password=t.password,this.pc(n,i,function(t){R(e,t)})},h.Ue=function(t,e){Ng(this);var n="/users/"+encodeURIComponent(t.email)+"/password",i=ig(t);i.ab._method="POST",this.pc(n,i,function(t){R(e,t)})},h.pc=function(t,e,n){Qg(this,[Ag,Cg],t,e,n)},h.ze=function(t){return J("auth_status"===t,'initial event must be of type "auth_status"'),this.Re?null:[this.nb]},Ug.prototype.open=function(t,e){this.gf=0,this.ka=e,this.zf=new Rg(t),this.zb=!1;var o=this;this.rb=setTimeout(function(){o.f("Timed out trying to connect."),o.ib(),o.rb=null},Math.floor(3e4)),Tc(function(){if(!o.zb){o.Ta=new Xg(function(t,e,n,i,r){if(Yg(o,arguments),o.Ta)if(o.rb&&(clearTimeout(o.rb),o.rb=null),o.Gc=!0,"start"==t)o.id=e,o.Ff=n;else{if("close"!==t)throw Error("Unrecognized command received: "+t);e?(o.Ta.Td=!1,Sg(o.zf,e,function(){o.ib()})):o.ib()}},function(t,e){Yg(o,arguments),Tg(o.zf,t,e)},function(){o.ib()},o.gd);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),o.Ta.fe&&(t.cb=o.Ta.fe),t.v="5",o.Vd&&(t.s=o.Vd),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f"),t=o.gd(t),o.f("Connecting via long-poll to "+t),Zg(o.Ta,t,function(){})}})},Ug.prototype.start=function(){var t=this.Ta,e=this.Ff;for(t.rg=this.id,t.sg=e,t.ke=!0;$g(t););t=this.id,e=this.Ff,this.fc=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.fc.src=this.gd(n),this.fc.style.display="none",document.body.appendChild(this.fc)},Ug.isAvailable=function(){return Vg||!Wg&&"undefined"!=typeof document&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.Ug)},h=Ug.prototype,h.Bd=function(){},h.cd=function(){this.zb=!0,this.Ta&&(this.Ta.close(),this.Ta=null),this.fc&&(document.body.removeChild(this.fc),this.fc=null),this.rb&&(clearTimeout(this.rb),this.rb=null)},h.ib=function(){this.zb||(this.f("Longpoll is closing itself"),this.cd(),this.ka&&(this.ka(this.Gc),this.ka=null))},h.close=function(){this.zb||(this.f("Longpoll is being closed."),this.cd())},h.send=function(t){t=B(t),this.pb+=t.length,Lb(this.Va,"bytes_sent",t.length),t=Xc(t=fb(t=Kc(t),!0),1840);for(var e=0;e<t.length;e++){var n=this.Ta;n.$c.push({Jg:this.gf,Rg:t.length,jf:t[e]}),n.ke&&$g(n),this.gf++}},Xg.prototype.close=function(){if(this.ke=!1,this.Ca){this.Ca.gb.body.innerHTML="";var t=this;setTimeout(function(){null!==t.Ca&&(document.body.removeChild(t.Ca),t.Ca=null)},Math.floor(0))}var e=this.jb;e&&(this.jb=null,e())};var bh=null,dh;function ch(t,e,n){this.qe=t,this.f=Oc(this.qe),this.frames=this.Jc=null,this.ob=this.pb=this.bf=0,this.Va=Ob(e),this.fb=(e.lb?"wss://":"ws://")+e.Oa+"/.ws?v=5","undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.fb+="&r=f"),e.host!==e.Oa&&(this.fb=this.fb+"&ns="+e.Cb),n&&(this.fb=this.fb+"&s="+n)}function fh(t,e){if(t.frames.push(e),t.frames.length==t.bf){var n=t.frames.join("");t.frames=null,n=mb(n),t.wg(n)}}function eh(t){clearInterval(t.Jc),t.Jc=setInterval(function(){t.va&&t.va.send("0"),eh(t)},Math.floor(45e3))}function gh(t){hh(this,t)}"undefined"!=typeof MozWebSocket?bh=MozWebSocket:"undefined"!=typeof WebSocket&&(bh=WebSocket),ch.prototype.open=function(t,e){this.jb=e,this.wg=t,this.f("Websocket connecting to "+this.fb),this.Gc=!1,Dc.set("previous_websocket_failure",!0);try{this.va=new bh(this.fb)}catch(t){this.f("Error instantiating WebSocket.");var n=t.message||t.data;return n&&this.f(n),void this.ib()}var i=this;this.va.onopen=function(){i.f("Websocket connected."),i.Gc=!0},this.va.onclose=function(){i.f("Websocket connection was disconnected."),i.va=null,i.ib()},this.va.onmessage=function(t){if(null!==i.va)if(t=t.data,i.ob+=t.length,Lb(i.Va,"bytes_received",t.length),eh(i),null!==i.frames)fh(i,t);else{t:{if(J(null===i.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e)){i.bf=e,i.frames=[],t=null;break t}}i.bf=1,i.frames=[]}null!==t&&fh(i,t)}},this.va.onerror=function(t){i.f("WebSocket error.  Closing connection."),(t=t.message||t.data)&&i.f(t),i.ib()}},ch.prototype.start=function(){},ch.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&1<e.length&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&null!==bh&&!dh},ch.responsesRequiredToBeHealthy=2,ch.healthyTimeout=3e4,h=ch.prototype,h.Bd=function(){Dc.remove("previous_websocket_failure")},h.send=function(t){eh(this),t=B(t),this.pb+=t.length,Lb(this.Va,"bytes_sent",t.length),1<(t=Xc(t,16384)).length&&this.va.send(String(t.length));for(var e=0;e<t.length;e++)this.va.send(t[e])},h.cd=function(){this.zb=!0,this.Jc&&(clearInterval(this.Jc),this.Jc=null),this.va&&(this.va.close(),this.va=null)},h.ib=function(){this.zb||(this.f("WebSocket is closing itself"),this.cd(),this.jb&&(this.jb(this.Gc),this.jb=null))},h.close=function(){this.zb||(this.f("WebSocket is being closed"),this.cd())};var ih=[Ug,ch];function hh(t,e){var n=ch&&ch.isAvailable(),i=n&&!(Dc.uf||!0===Dc.get("previous_websocket_failure"));if(e.Tg&&(n||Q("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)t.ed=[ch];else{var r=t.ed=[];Yc(ih,function(t,e){e&&e.isAvailable()&&r.push(e)})}}function jh(t){if(0<t.ed.length)return t.ed[0];throw Error("No transports available")}function kh(t,e,n,i,r,o){this.id=t,this.f=Oc("c:"+this.id+":"),this.hc=n,this.Vc=i,this.ka=r,this.Me=o,this.H=e,this.Jd=[],this.ef=0,this.Nf=new gh(e),this.Ua=0,this.f("Connection created"),lh(this)}function lh(t){var e=jh(t.Nf);t.L=new e("c:"+t.id+":"+t.ef++,t.H),t.Qe=e.responsesRequiredToBeHealthy||0;var n=mh(t,t.L),i=nh(t,t.L);t.fd=t.L,t.bd=t.L,t.F=null,t.Ab=!1,setTimeout(function(){t.L&&t.L.open(n,i)},Math.floor(0)),0<(e=e.healthyTimeout||0)&&(t.vd=setTimeout(function(){t.vd=null,t.Ab||(t.L&&102400<t.L.ob?(t.f("Connection exceeded healthy timeout but has received "+t.L.ob+" bytes.  Marking connection healthy."),t.Ab=!0,t.L.Bd()):t.L&&10240<t.L.pb?t.f("Connection exceeded healthy timeout but has sent "+t.L.pb+" bytes.  Leaving connection alive."):(t.f("Closing unhealthy connection after timeout."),t.close()))},Math.floor(e)))}function nh(e,n){return function(t){n===e.L?(e.L=null,t||0!==e.Ua?1===e.Ua&&e.f("Realtime connection lost."):(e.f("Realtime connection failed."),"s-"===e.H.Oa.substr(0,2)&&(Dc.remove("host:"+e.H.host),e.H.Oa=e.H.host)),e.close()):n===e.F?(e.f("Secondary connection lost."),t=e.F,e.F=null,e.fd!==t&&e.bd!==t||e.close()):e.f("closing an old connection")}}function mh(r,o){return function(t){if(2!=r.Ua)if(o===r.bd){var e=Vc("t",t);if(t=Vc("d",t),"c"==e){if(e=Vc("t",t),"d"in t)if(t=t.d,"h"===e){e=t.ts;var n=t.v,i=t.h;r.Vd=t.s,Fc(r.H,i),0==r.Ua&&(r.L.start(),oh(r,r.L,e),"5"!==n&&Q("Protocol version mismatch detected"),(t=1<(t=r.Nf).ed.length?t.ed[1]:null)&&ph(r,t))}else if("n"===e){for(r.f("recvd end transmission on primary"),r.bd=r.F,t=0;t<r.Jd.length;++t)r.Fd(r.Jd[t]);r.Jd=[],qh(r)}else"s"===e?(r.f("Connection shutdown command received. Shutting down..."),r.Me&&(r.Me(t),r.Me=null),r.ka=null,r.close()):"r"===e?(r.f("Reset packet received.  New host: "+t),Fc(r.H,t),1===r.Ua?r.close():(rh(r),lh(r))):"e"===e?Pc("Server Error: "+t):"o"===e?(r.f("got pong on primary."),sh(r),th(r)):Pc("Unknown control packet command: "+e)}else"d"==e&&r.Fd(t)}else if(o===r.F)if(e=Vc("t",t),t=Vc("d",t),"c"==e)"t"in t&&("a"===(t=t.t)?uh(r):"r"===t?(r.f("Got a reset on secondary, closing it"),r.F.close(),r.fd!==r.F&&r.bd!==r.F||r.close()):"o"===t&&(r.f("got pong on secondary."),r.Lf--,uh(r)));else{if("d"!=e)throw Error("Unknown protocol layer: "+e);r.Jd.push(t)}else r.f("message on old connection")}}function qh(t){t.fd===t.F&&t.bd===t.F&&(t.f("cleaning up and promoting a connection: "+t.F.qe),t.L=t.F,t.F=null)}function uh(t){t.Lf<=0?(t.f("Secondary connection is healthy."),t.Ab=!0,t.F.Bd(),t.F.start(),t.f("sending client ack on secondary"),t.F.send({t:"c",d:{t:"a",d:{}}}),t.f("Ending transmission on primary"),t.L.send({t:"c",d:{t:"n",d:{}}}),t.fd=t.F,qh(t)):(t.f("sending ping on secondary."),t.F.send({t:"c",d:{t:"p",d:{}}}))}function sh(t){t.Ab||(t.Qe--,t.Qe<=0&&(t.f("Primary connection is healthy."),t.Ab=!0,t.L.Bd()))}function ph(t,e){t.F=new e("c:"+t.id+":"+t.ef++,t.H,t.Vd),t.Lf=e.responsesRequiredToBeHealthy||0,t.F.open(mh(t,t.F),nh(t,t.F)),setTimeout(function(){t.F&&(t.f("Timed out trying to upgrade."),t.F.close())},Math.floor(6e4))}function oh(t,e,n){t.f("Realtime connection established."),t.L=e,t.Ua=1,t.Vc&&(t.Vc(n),t.Vc=null),0===t.Qe?(t.f("Primary connection is healthy."),t.Ab=!0):setTimeout(function(){th(t)},Math.floor(5e3))}function th(t){t.Ab||1!==t.Ua||(t.f("sending ping on primary."),vh(t,{t:"c",d:{t:"p",d:{}}}))}function vh(t,e){if(1!==t.Ua)throw"Connection is not connected";t.fd.send(e)}function rh(t){t.f("Shutting down all connections"),t.L&&(t.L.close(),t.L=null),t.F&&(t.F.close(),t.F=null),t.vd&&(clearTimeout(t.vd),t.vd=null)}function wh(t,e,n,i){this.id=xh++,this.f=Oc("p:"+this.id+":"),this.wf=this.De=!1,this.aa={},this.pa=[],this.Xc=0,this.Uc=[],this.ma=!1,this.$a=1e3,this.Cd=3e5,this.Gb=e,this.Tc=n,this.Ne=i,this.H=t,this.We=null,this.Qd={},this.Ig=0,this.mf=!0,this.Kc=this.Fe=null,yh(this,0),Mf.ub().Eb("visible",this.zg,this),-1===t.host.indexOf("fblocal")&&Lf.ub().Eb("online",this.xg,this)}kh.prototype.Da=function(t){vh(this,{t:"d",d:t})},kh.prototype.Fd=function(t){sh(this),this.hc(t)},kh.prototype.close=function(){2!==this.Ua&&(this.f("Closing realtime connection."),this.Ua=2,rh(this),this.ka&&(this.ka(),this.ka=null))};var xh=0,zh=0;function Ah(r,o){var a=o.Fg,s=a.path.toString(),h=a.wa();r.f("Listen on "+s+" for "+h);var t={p:s};o.tag&&(t.q=ce(a.o),t.t=o.tag),t.h=o.ud(),r.Da("q",t,function(t){var e=t.d,n=t.s;if(e&&"object"==typeof e&&u(e,"w")){var i=w(e,"w");ea(i)&&0<=Na(i,"no_index")&&Q('Using an unspecified index. Consider adding ".indexOn": "'+a.o.g.toString()+'" at '+a.path.toString()+" to your security rules for better performance")}(r.aa[s]&&r.aa[s][h])===o&&(r.f("listen response",t),"ok"!==n&&Bh(r,s,h),o.J&&o.J(n,e))})}function Ch(n){var i=n.Fa;n.ma&&i&&n.Da("auth",{cred:i.fg},function(t){var e=t.s;t=t.d||"error","ok"!==e&&n.Fa===i&&delete n.Fa,i.nf?"ok"!==e&&i.jd&&i.jd(e,t):(i.nf=!0,i.yc&&i.yc(e,t))})}function Dh(t,e,n,i,r){n={p:n,d:i},t.f("onDisconnect "+e,n),t.Da(e,n,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})}function Eh(t,e,i,r,o,a){r={p:i,d:r},n(a)&&(r.h=a),t.pa.push({action:e,If:r,J:o}),t.Xc++,e=t.pa.length-1,t.ma?Fh(t,e):t.f("Buffering put: "+i)}function Fh(e,n){var i=e.pa[n].action,t=e.pa[n].If,r=e.pa[n].J;e.pa[n].Gg=e.ma,e.Da(i,t,function(t){e.f(i+" response",t),delete e.pa[n],e.Xc--,0===e.Xc&&(e.pa=[]),r&&r(t.s,t.d)})}function yh(t,e){J(!t.Sa,"Scheduling a connect when we're already connected/ing?"),t.Sb&&clearTimeout(t.Sb),t.Sb=setTimeout(function(){t.Sb=null,Ih(t)},Math.floor(e))}function Ih(e){if(Jh(e)){e.f("Making a connection attempt"),e.Fe=(new Date).getTime(),e.Kc=null;var t=q(e.Fd,e),n=q(e.Vc,e),i=q(e.Cf,e),r=e.id+":"+zh++;e.Sa=new kh(r,e.H,t,n,i,function(t){Q(t+" ("+e.H.toString()+")"),e.wf=!0})}}function Gh(t,e,n){(t=Bh(t,e,n=n?Qa(n,function(t){return Wc(t)}).join("$"):"default"))&&t.J&&t.J("permission_denied")}function Bh(t,e,i){var r;return e=new K(e).toString(),n(t.aa[e])?(r=t.aa[e][i],delete t.aa[e][i],0===pa(t.aa[e])&&delete t.aa[e]):r=void 0,r}function Hh(e){Ch(e),r(e.aa,function(t){r(t,function(t){Ah(e,t)})});for(var t=0;t<e.pa.length;t++)e.pa[t]&&Fh(e,t);for(;e.Uc.length;)t=e.Uc.shift(),Dh(e,t.action,t.Zc,t.data,t.J)}function Jh(t){var e;return e=Lf.ub().ic,!t.wf&&!t.De&&e}h=wh.prototype,h.Da=function(t,e,n){var i=++this.Ig;t={r:i,a:t,b:e},this.f(B(t)),J(this.ma,"sendRequest call when we're not connected not allowed."),this.Sa.Da(t),n&&(this.Qd[i]=n)},h.xf=function(t,e,n,i){var r=t.wa(),o=t.path.toString();this.f("Listen called for "+o+" "+r),this.aa[o]=this.aa[o]||{},J(!this.aa[o][r],"listen() called twice for same path/queryId."),t={J:i,ud:e,Fg:t,tag:n},this.aa[o][r]=t,this.ma&&Ah(this,t)},h.P=function(t,e,n){this.Fa={fg:t,nf:!1,yc:e,jd:n},this.f("Authenticating using credential: "+t),Ch(this),(e=40==t.length)||(e="object"==typeof(t=ad(t).Ac)&&!0===w(t,"admin")),e&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Cd=3e4)},h.ee=function(e){delete this.Fa,this.ma&&this.Da("unauth",{},function(t){e(t.s,t.d)})},h.Of=function(t,e){var n=t.path.toString(),i=t.wa();if(this.f("Unlisten called for "+n+" "+i),Bh(this,n,i)&&this.ma){var r=ce(t.o);this.f("Unlisten on "+n+" for "+i),n={p:n},e&&(n.q=r,n.t=e),this.Da("n",n)}},h.Le=function(t,e,n){this.ma?Dh(this,"o",t,e,n):this.Uc.push({Zc:t,action:"o",data:e,J:n})},h.Bf=function(t,e,n){this.ma?Dh(this,"om",t,e,n):this.Uc.push({Zc:t,action:"om",data:e,J:n})},h.Gd=function(t,e){this.ma?Dh(this,"oc",t,null,e):this.Uc.push({Zc:t,action:"oc",data:null,J:e})},h.put=function(t,e,n,i){Eh(this,"p",t,e,n,i)},h.yf=function(t,e,n,i){Eh(this,"m",t,e,n,i)},h.Te=function(t){this.ma&&(t={c:t},this.f("reportStats",t),this.Da("s",t,function(t){"ok"!==t.s&&this.f("reportStats","Error sending stats: "+t.d)}))},h.Fd=function(t){if("r"in t){this.f("from server: "+B(t));var e=t.r,n=this.Qd[e];n&&(delete this.Qd[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&(e=t.a,n=t.b,this.f("handleServerMessage",e,n),"d"===e?this.Gb(n.p,n.d,!1,n.t):"m"===e?this.Gb(n.p,n.d,!0,n.t):"c"===e?Gh(this,n.p,n.q):"ac"===e?(t=n.s,e=n.d,n=this.Fa,delete this.Fa,n&&n.jd&&n.jd(t,e)):"sd"===e?this.We?this.We(n):"msg"in n&&"undefined"!=typeof console&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: ")):Pc("Unrecognized action received from server: "+B(e)+"\nAre you using the latest client?"))}},h.Vc=function(t){this.f("connection ready"),this.ma=!0,this.Kc=(new Date).getTime(),this.Ne({serverTimeOffset:t-(new Date).getTime()}),this.mf&&((t={})["sdk.js."+"2.2.5".replace(/\./g,"-")]=1,kg()&&(t["framework.cordova"]=1),this.Te(t)),Hh(this),this.mf=!1,this.Tc(!0)},h.zg=function(t){t&&!this.uc&&this.$a===this.Cd&&(this.f("Window became visible.  Reducing delay."),this.$a=1e3,this.Sa||yh(this,0)),this.uc=t},h.xg=function(t){t?(this.f("Browser went online."),this.$a=1e3,this.Sa||yh(this,0)):(this.f("Browser went offline.  Killing connection."),this.Sa&&this.Sa.close())},h.Cf=function(){this.f("data client disconnected"),this.ma=!1,this.Sa=null;for(var t=0;t<this.pa.length;t++){var e=this.pa[t];e&&"h"in e.If&&e.Gg&&(e.J&&e.J("disconnect"),delete this.pa[t],this.Xc--)}0===this.Xc&&(this.pa=[]),this.Qd={},Jh(this)&&(this.uc?this.Kc&&(3e4<(new Date).getTime()-this.Kc&&(this.$a=1e3),this.Kc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.$a=this.Cd,this.Fe=(new Date).getTime()),t=Math.max(0,this.$a-((new Date).getTime()-this.Fe)),t*=Math.random(),this.f("Trying to reconnect in "+t+"ms"),yh(this,t),this.$a=Math.min(this.Cd,1.3*this.$a)),this.Tc(!1)},h.yb=function(){this.De=!0,this.Sa?this.Sa.close():(this.Sb&&(clearTimeout(this.Sb),this.Sb=null),this.ma&&this.Cf())},h.qc=function(){this.De=!1,this.$a=1e3,this.Sa||yh(this,0)};var V={lg:function(){Vg=dh=!0}};function S(t,e,n){this.B=t,this.V=e,this.g=n}function Kh(t,e){this.H=t,this.Va=Ob(t),this.ea=new ub,this.Ed=1,this.Ra=null,e||0<=("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.ca=new Ae(this.H,q(this.Gb,this)),setTimeout(q(this.Tc,this,!0),0)):this.ca=this.Ra=new wh(this.H,q(this.Gb,this),q(this.Tc,this),q(this.Ne,this)),this.Pg=Pb(t,q(function(){return new Jb(this.Va,this.ca)},this)),this.tc=new Cf,this.Be=new nb;var o=this;this.zd=new gf({Xe:function(t,e,n,i){return e=[],(n=o.Be.j(t.path)).e()||(e=jf(o.zd,new Ub(ze,t.path,n)),setTimeout(function(){i("ok")},0)),e},Zd:ba}),Lh(this,"connected",!1),this.ka=new qc,this.P=new Eg(t,q(this.ca.P,this.ca),q(this.ca.ee,this.ca),q(this.Ke,this)),this.pd=0,this.Ce=null,this.O=new gf({Xe:function(i,t,e,r){return o.ca.xf(i,e,t,function(t,e){var n=r(t,e);zb(o.ea,i.path,n)}),[]},Zd:function(t,e){o.ca.Of(t,e)}})}function Mh(t){return t=t.Be.j(new K(".info/serverTimeOffset")).K()||0,(new Date).getTime()+t}function Nh(t){return(t=t={timestamp:Mh(t)}).timestamp=t.timestamp||(new Date).getTime(),t}function Lh(t,e,n){e=new K("/.info/"+e),n=L(n);var i=t.Be;i.Sd=i.Sd.G(e,n),n=jf(t.zd,new Ub(ze,e,n)),zb(t.ea,e,n)}function Ph(i){i.f("onDisconnectEvents");var t=Nh(i),r=[];rc(pc(i.ka,t),F,function(t,e){r=r.concat(jf(i.O,new Ub(ze,t,e)));var n=Rh(i,t);Oh(i,n)}),i.ka=new qc,zb(i.ea,F,r)}function Sh(n,i,t,r){var o=L(t);n.ca.Le(i.toString(),o.K(!0),function(t,e){"ok"===t&&n.ka.mc(i,o),Qh(r,t,e)})}function Th(n,i,t,e,r){var o=L(t,e);n.ca.Le(i.toString(),o.K(!0),function(t,e){"ok"===t&&n.ka.mc(i,o),Qh(r,t,e)})}function Uh(r,o,a,s){var t,e=!0;for(t in a)e=!1;e?(Bb("onDisconnect().update() called with empty data.  Don't do anything."),Qh(s,"ok")):r.ca.Bf(o.toString(),a,function(t,e){if("ok"===t)for(var n in a){var i=L(a[n]);r.ka.mc(o.w(n),i)}Qh(s,t,e)})}function Vh(t,e,n){n=".info"===O(e.path)?t.zd.Ob(e,n):t.O.Ob(e,n),xb(t.ea,e.path,n)}function Qh(n,i,r){n&&Cb(function(){if("ok"==i)n(null);else{var t=(i||"error").toUpperCase(),e=t;r&&(e+=": "+r),(e=Error(e)).code=t,n(e)}})}function Wh(t,e,i,r,o){function a(){}t.f("transaction on "+e);var s=new U(t,e);if(s.Eb("value",a),i={path:e,update:i,J:r,status:null,Ef:Gc(),cf:o,Kf:0,ge:function(){s.gc("value",a)},je:null,Aa:null,md:null,nd:null,od:null},r=t.O.ua(e,void 0)||C,i.md=r,n(r=i.update(r.K()))){Sf("transaction failed: Data returned ",r,i.path),i.status=1;var h=(o=Df(t.tc,e)).Ba()||[];h.push(i),Ef(o,h),"object"==typeof r&&null!==r&&u(r,".priority")?J(Qf(h=w(r,".priority")),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null."):h=(t.O.ua(e)||C).A().K(),o=Nh(t),o=sc(r=L(r,h),o),i.nd=r,i.od=o,i.Aa=t.Ed++,i=hf(t.O,e,o,i.Aa,i.cf),zb(t.ea,e,i),Xh(t)}else i.ge(),i.nd=null,i.od=null,i.J&&(t=new S(i.md,new U(t,i.path),M),i.J(null,!1,t))}function Xh(e,t){var n=t||e.tc;if(t||Yh(e,n),null!==n.Ba()){var i=Zh(e,n);J(0<i.length,"Sending zero length transaction queue"),Sa(i,function(t){return 1===t.status})&&$h(e,n.path(),i)}else n.td()&&n.U(function(t){Xh(e,t)})}function $h(r,o,a){for(var t=Qa(a,function(t){return t.Aa}),e=(t=e=r.O.ua(o,t)||C,e.hash()),s=0;s<a.length;s++){var n=a[s];J(1===n.status,"tryToSendTransactionQueue_: items in queue should all be run."),n.status=2,n.Kf++;var i=N(o,n.path);t=t.G(i,n.nd)}t=t.K(!0),r.ca.put(o.toString(),t,function(t){r.f("transaction put response",{path:o.toString(),status:t});var e=[];if("ok"===t){for(t=[],s=0;s<a.length;s++){if(a[s].status=3,e=e.concat(lf(r.O,a[s].Aa)),a[s].J){var n=a[s].od,i=new U(r,a[s].path);t.push(q(a[s].J,null,null,!0,new S(n,i,M)))}a[s].ge()}for(Yh(r,Df(r.tc,o)),Xh(r),zb(r.ea,o,e),s=0;s<t.length;s++)Cb(t[s])}else{if("datastale"===t)for(s=0;s<a.length;s++)a[s].status=4===a[s].status?5:1;else for(Q("transaction at "+o.toString()+" failed: "+t),s=0;s<a.length;s++)a[s].status=5,a[s].je=t;Oh(r,o)}},e)}function Oh(t,e){var n,i=(n=ai(t,e)).path();return bi(t,n=Zh(t,n),i),i}function bi(t,e,i){if(0!==e.length){for(var r=[],o=[],a=Qa(e,function(t){return t.Aa}),s=0;s<e.length;s++){var h,c=e[s],f=N(i,c.path),l=!1;if(J(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c.status)l=!0,h=c.je,o=o.concat(lf(t.O,c.Aa,!0));else if(1===c.status)if(25<=c.Kf)l=!0,h="maxretry",o=o.concat(lf(t.O,c.Aa,!0));else{var d=t.O.ua(c.path,a)||C;c.md=d;var p=e[s].update(d.K());n(p)?(Sf("transaction failed: Data returned ",p,c.path),f=L(p),"object"==typeof p&&null!=p&&u(p,".priority")||(f=f.da(d.A())),d=c.Aa,p=sc(f,p=Nh(t)),c.nd=f,c.od=p,c.Aa=t.Ed++,Va(a,d),o=(o=o.concat(hf(t.O,c.path,p,c.Aa,c.cf))).concat(lf(t.O,d,!0))):(l=!0,h="nodata",o=o.concat(lf(t.O,c.Aa,!0)))}zb(t.ea,i,o),o=[],l&&(e[s].status=3,setTimeout(e[s].ge,Math.floor(0)),e[s].J&&("nodata"===h?(c=new U(t,e[s].path),r.push(q(e[s].J,null,null,!1,new S(e[s].md,c,M)))):r.push(q(e[s].J,null,Error(h),!1,null))))}for(Yh(t,t.tc),s=0;s<r.length;s++)Cb(r[s]);Xh(t)}}function ai(t,e){for(var n,i=t.tc;null!==(n=O(e))&&null===i.Ba();)i=Df(i,n),e=G(e);return i}function Zh(t,e){var n=[];return ci(t,e,n),n.sort(function(t,e){return t.Ef-e.Ef}),n}function ci(e,t,n){var i=t.Ba();if(null!==i)for(var r=0;r<i.length;r++)n.push(i[r]);t.U(function(t){ci(e,t,n)})}function Yh(e,t){var n=t.Ba();if(n){for(var i=0,r=0;r<n.length;r++)3!==n[r].status&&(n[i]=n[r],i++);n.length=i,Ef(t,0<n.length?n:null)}t.U(function(t){Yh(e,t)})}function Rh(e,t){var n=ai(e,t).path(),i=Df(e.tc,t);return Hf(i,function(t){di(e,t)}),di(e,i),Gf(i,function(t){di(e,t)}),n}function di(t,e){var n=e.Ba();if(null!==n){for(var i=[],r=[],o=-1,a=0;a<n.length;a++)4!==n[a].status&&(2===n[a].status?(J(o===a-1,"All SENT items should be at beginning of queue."),n[o=a].status=4,n[a].je="set"):(J(1===n[a].status,"Unexpected transaction status in abort"),n[a].ge(),r=r.concat(lf(t.O,n[a].Aa,!0)),n[a].J&&i.push(q(n[a].J,null,Error("set"),!1,null))));for(-1===o?Ef(e,null):n.length=o+1,zb(t.ea,e.path(),r),a=0;a<i.length;a++)Cb(i[a])}}function W(){this.nc={},this.Pf=!1}function X(t,e){this.ad=t,this.qa=e}function Y(t,e,n,i){this.k=t,this.path=e,this.o=n,this.jc=i}function ei(t){var e=null,n=null;if(t.la&&(e=od(t)),t.na&&(n=qd(t)),t.g===Vd){if(t.la){if("[MIN_NAME]"!=nd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof e)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}if(t.na){if("[MAX_NAME]"!=pd(t))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!=typeof n)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.")}}else if(t.g===M){if(null!=e&&!Qf(e)||null!=n&&!Qf(n))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(J(t.g instanceof Rd||t.g===Yd,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")}function fi(t){if(t.la&&t.na&&t.ia&&(!t.ia||""===t.Nb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")}function gi(t,e){if(!0===t.jc)throw Error(e+": You can't combine multiple orderBy calls.")}function hi(t,e,n){var i={cancel:null,Ma:null};if(e&&n)i.cancel=e,A(t,3,i.cancel,!0),i.Ma=n,lb(t,4,i.Ma);else if(e)if("object"==typeof e&&null!==e)i.Ma=e;else{if("function"!=typeof e)throw Error(z(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i}V.forceLongPolling=V.lg,V.mg=function(){Wg=!0},V.forceWebSockets=V.mg,V.Mg=function(t,e){t.k.Ra.We=e},V.setSecurityDebugCallback=V.Mg,V.Ye=function(t,e){t.k.Ye(e)},V.stats=V.Ye,V.Ze=function(t,e){t.k.Ze(e)},V.statsIncrementCounter=V.Ze,V.pd=function(t){return t.k.pd},V.dataUpdateCount=V.pd,V.pg=function(t,e){t.k.Ce=e},V.interceptServerData=V.pg,V.vg=function(t){new ug(t)},V.onPopupOpen=V.vg,V.Kg=function(t){fg=t},V.setAuthenticationServer=V.Kg,S.prototype.K=function(){return x("Firebase.DataSnapshot.val",0,0,arguments.length),this.B.K()},S.prototype.val=S.prototype.K,S.prototype.lf=function(){return x("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.B.K(!0)},S.prototype.exportVal=S.prototype.lf,S.prototype.kg=function(){return x("Firebase.DataSnapshot.exists",0,0,arguments.length),!this.B.e()},S.prototype.exists=S.prototype.kg,S.prototype.w=function(t){x("Firebase.DataSnapshot.child",0,1,arguments.length),ga(t)&&(t=String(t)),Xf("Firebase.DataSnapshot.child",t);var e=new K(t),n=this.V.w(e);return new S(this.B.oa(e),n,M)},S.prototype.child=S.prototype.w,S.prototype.Ha=function(t){x("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Xf("Firebase.DataSnapshot.hasChild",t);var e=new K(t);return!this.B.oa(e).e()},S.prototype.hasChild=S.prototype.Ha,S.prototype.A=function(){return x("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.B.A().K()},S.prototype.getPriority=S.prototype.A,S.prototype.forEach=function(n){if(x("Firebase.DataSnapshot.forEach",1,1,arguments.length),A("Firebase.DataSnapshot.forEach",1,n,!1),this.B.N())return!1;var i=this;return!!this.B.U(this.g,function(t,e){return n(new S(e,i.V.w(t),M))})},S.prototype.forEach=S.prototype.forEach,S.prototype.td=function(){return x("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),!this.B.N()&&!this.B.e()},S.prototype.hasChildren=S.prototype.td,S.prototype.name=function(){return Q("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead."),x("Firebase.DataSnapshot.name",0,0,arguments.length),this.key()},S.prototype.name=S.prototype.name,S.prototype.key=function(){return x("Firebase.DataSnapshot.key",0,0,arguments.length),this.V.key()},S.prototype.key=S.prototype.key,S.prototype.Db=function(){return x("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.B.Db()},S.prototype.numChildren=S.prototype.Db,S.prototype.lc=function(){return x("Firebase.DataSnapshot.ref",0,0,arguments.length),this.V},S.prototype.ref=S.prototype.lc,h=Kh.prototype,h.toString=function(){return(this.H.lb?"https://":"http://")+this.H.host},h.name=function(){return this.H.Cb},h.Gb=function(t,e,n,i){this.pd++;var r=new K(t);e=this.Ce?this.Ce(t,e):e,t=[],i?n?(e=na(e,function(t){return L(t)}),t=rf(this.O,r,e,i)):(e=L(e),t=nf(this.O,r,e,i)):n?(i=na(e,function(t){return L(t)}),t=mf(this.O,r,i)):(i=L(e),t=jf(this.O,new Ub(ze,r,i))),i=r,0<t.length&&(i=Oh(this,r)),zb(this.ea,i,t)},h.Tc=function(t){Lh(this,"connected",t),!1===t&&Ph(this)},h.Ne=function(t){var n=this;Yc(t,function(t,e){Lh(n,e,t)})},h.Ke=function(t){Lh(this,"authenticated",t)},h.Kb=function(i,t,e,r){this.f("set",{path:i.toString(),value:t,Xg:e});var n=Nh(this),o=(n=sc(t=L(t,e),n),this.Ed++);n=hf(this.O,i,n,o,!0);vb(this.ea,n);var a=this;this.ca.put(i.toString(),t.K(!0),function(t,e){var n="ok"===t;n||Q("set at "+i+" failed: "+t),n=lf(a.O,o,!n),zb(a.ea,i,n),Qh(r,t,e)}),Oh(this,n=Rh(this,i)),zb(this.ea,n,[])},h.update=function(o,t,a){this.f("update",{path:o.toString(),value:t});var i=!0,s=Nh(this),h={};if(r(t,function(t,e){i=!1;var n=L(t);h[e]=sc(n,s)}),i)Bb("update() called with empty data.  Don't do anything."),Qh(a,"ok");else{var u=this.Ed++,e=kf(this.O,o,h,u);vb(this.ea,e);var c=this;this.ca.yf(o.toString(),t,function(t,e){(n="ok"===t)||Q("update at "+o+" failed: "+t);var n=lf(c.O,u,!n),i=o;0<n.length&&(i=Oh(c,o)),zb(c.ea,i,n),Qh(a,t,e)}),Oh(this,t=Rh(this,o)),zb(this.ea,o,[])}},h.Gd=function(n,i){var r=this;this.ca.Gd(n.toString(),function(t,e){"ok"===t&&eg(r.ka,n),Qh(i,t,e)})},h.yb=function(){this.Ra&&this.Ra.yb()},h.qc=function(){this.Ra&&this.Ra.qc()},h.Ye=function(t){if("undefined"!=typeof console){t?(this.Yd||(this.Yd=new Ib(this.Va)),t=this.Yd.get()):t=this.Va.get();var e,n=Ra(sa(t),function(t,e){return Math.max(e.length,t)},0);for(e in t){for(var i=t[e],r=e.length;r<n+2;r++)e+=" ";console.log(e+i)}}},h.Ze=function(t){Lb(this.Va,t),this.Pg.Mf[t]=!0},h.f=function(t){var e="";this.Ra&&(e=this.Ra.id+":"),Bb(e,arguments)},ca(W),W.prototype.yb=function(){for(var t in this.nc)this.nc[t].yb()},W.prototype.interrupt=W.prototype.yb,W.prototype.qc=function(){for(var t in this.nc)this.nc[t].qc()},W.prototype.resume=W.prototype.qc,W.prototype.ue=function(){this.Pf=!0},X.prototype.cancel=function(t){x("Firebase.onDisconnect().cancel",0,1,arguments.length),A("Firebase.onDisconnect().cancel",1,t,!0),this.ad.Gd(this.qa,t||null)},X.prototype.cancel=X.prototype.cancel,X.prototype.remove=function(t){x("Firebase.onDisconnect().remove",0,1,arguments.length),Yf("Firebase.onDisconnect().remove",this.qa),A("Firebase.onDisconnect().remove",1,t,!0),Sh(this.ad,this.qa,null,t)},X.prototype.remove=X.prototype.remove,X.prototype.set=function(t,e){x("Firebase.onDisconnect().set",1,2,arguments.length),Yf("Firebase.onDisconnect().set",this.qa),Rf("Firebase.onDisconnect().set",t,this.qa,!1),A("Firebase.onDisconnect().set",2,e,!0),Sh(this.ad,this.qa,t,e)},X.prototype.set=X.prototype.set,X.prototype.Kb=function(t,e,n){x("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),Yf("Firebase.onDisconnect().setWithPriority",this.qa),Rf("Firebase.onDisconnect().setWithPriority",t,this.qa,!1),Uf("Firebase.onDisconnect().setWithPriority",2,e),A("Firebase.onDisconnect().setWithPriority",3,n,!0),Th(this.ad,this.qa,t,e,n)},X.prototype.setWithPriority=X.prototype.Kb,X.prototype.update=function(t,e){if(x("Firebase.onDisconnect().update",1,2,arguments.length),Yf("Firebase.onDisconnect().update",this.qa),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,Q("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.onDisconnect().update",t,this.qa),A("Firebase.onDisconnect().update",2,e,!0),Uh(this.ad,this.qa,t,e)},X.prototype.update=X.prototype.update,Y.prototype.lc=function(){return x("Query.ref",0,0,arguments.length),new U(this.k,this.path)},Y.prototype.ref=Y.prototype.lc,Y.prototype.Eb=function(t,e,n,i){x("Query.on",2,4,arguments.length),Vf("Query.on",t,!1),A("Query.on",2,e,!1);var r=hi("Query.on",n,i);if("value"===t)Vh(this.k,this,new jd(e,r.cancel||null,r.Ma||null));else{var o={};o[t]=e,Vh(this.k,this,new kd(o,r.cancel,r.Ma))}return e},Y.prototype.on=Y.prototype.Eb,Y.prototype.gc=function(t,e,n){x("Query.off",0,3,arguments.length),Vf("Query.off",t,!0),A("Query.off",2,e,!0),lb("Query.off",3,n);var i=null,r=null;"value"===t?i=new jd(e||null,null,n||null):t&&(e&&((r={})[t]=e),i=new kd(r,null,n||null)),r=this.k,i=".info"===O(this.path)?r.zd.kb(this,i):r.O.kb(this,i),xb(r.ea,this.path,i)},Y.prototype.off=Y.prototype.gc,Y.prototype.Ag=function(e,n){function i(t){a&&(a=!1,o.gc(e,i),n.call(r.Ma,t))}x("Query.once",2,4,arguments.length),Vf("Query.once",e,!1),A("Query.once",2,n,!1);var r=hi("Query.once",arguments[2],arguments[3]),o=this,a=!0;this.Eb(e,i,function(t){o.gc(e,i),r.cancel&&r.cancel.call(r.Ma,t)})},Y.prototype.once=Y.prototype.Ag,Y.prototype.Ge=function(t){if(Q("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead."),x("Query.limit",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||t<=0)throw Error("Query.limit: First argument must be a positive integer.");if(this.o.ia)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var e=this.o.Ge(t);return fi(e),new Y(this.k,this.path,e,this.jc)},Y.prototype.limit=Y.prototype.Ge,Y.prototype.He=function(t){if(x("Query.limitToFirst",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||t<=0)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.o.ia)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.He(t),this.jc)},Y.prototype.limitToFirst=Y.prototype.He,Y.prototype.Ie=function(t){if(x("Query.limitToLast",1,1,arguments.length),!ga(t)||Math.floor(t)!==t||t<=0)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.o.ia)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.o.Ie(t),this.jc)},Y.prototype.limitToLast=Y.prototype.Ie,Y.prototype.Bg=function(t){if(x("Query.orderByChild",1,1,arguments.length),"$key"===t)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Wf("Query.orderByChild",1,t,!1),gi(this,"Query.orderByChild");var e=be(this.o,new Rd(t));return ei(e),new Y(this.k,this.path,e,!0)},Y.prototype.orderByChild=Y.prototype.Bg,Y.prototype.Cg=function(){x("Query.orderByKey",0,0,arguments.length),gi(this,"Query.orderByKey");var t=be(this.o,Vd);return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByKey=Y.prototype.Cg,Y.prototype.Dg=function(){x("Query.orderByPriority",0,0,arguments.length),gi(this,"Query.orderByPriority");var t=be(this.o,M);return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByPriority=Y.prototype.Dg,Y.prototype.Eg=function(){x("Query.orderByValue",0,0,arguments.length),gi(this,"Query.orderByValue");var t=be(this.o,Yd);return ei(t),new Y(this.k,this.path,t,!0)},Y.prototype.orderByValue=Y.prototype.Eg,Y.prototype.Xd=function(t,e){x("Query.startAt",0,2,arguments.length),Rf("Query.startAt",t,this.path,!0),Wf("Query.startAt",2,e,!0);var i=this.o.Xd(t,e);if(fi(i),ei(i),this.o.la)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return n(t)||(e=t=null),new Y(this.k,this.path,i,this.jc)},Y.prototype.startAt=Y.prototype.Xd,Y.prototype.qd=function(t,e){x("Query.endAt",0,2,arguments.length),Rf("Query.endAt",t,this.path,!0),Wf("Query.endAt",2,e,!0);var n=this.o.qd(t,e);if(fi(n),ei(n),this.o.na)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,n,this.jc)},Y.prototype.endAt=Y.prototype.qd,Y.prototype.hg=function(t,e){if(x("Query.equalTo",1,2,arguments.length),Rf("Query.equalTo",t,this.path,!1),Wf("Query.equalTo",2,e,!0),this.o.la)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.o.na)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.Xd(t,e).qd(t,e)},Y.prototype.equalTo=Y.prototype.hg,Y.prototype.toString=function(){x("Query.toString",0,0,arguments.length);for(var t=this.path,e="",n=t.Y;n<t.n.length;n++)""!==t.n[n]&&(e+="/"+encodeURIComponent(String(t.n[n])));return this.k.toString()+(e||"/")},Y.prototype.toString=Y.prototype.toString,Y.prototype.wa=function(){var t=Wc(ce(this.o));return"{}"===t?"default":t};var Z={};function U(t,e){var n,i,r;if(t instanceof Kh)n=t,i=e;else{var o;if(x("new Firebase",1,2,arguments.length),n=(i=Rc(t)).Qg,"firebase"===i.domain&&Qc(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n||Qc("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.lb||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Q("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),n=new Ec(i.host,i.lb,n,"ws"===i.scheme||"wss"===i.scheme),r=(i=new K(i.Zc)).toString(),!(o=!p(n.host)||0===n.host.length||!Pf(n.Cb))&&(o=0!==r.length)&&(r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),o=!(p(r)&&0!==r.length&&!Of.test(r))),o)throw Error(z("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(e)if(e instanceof W)r=e;else{if(!p(e))throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");r=W.ub(),n.Ld=e}else r=W.ub();o=n.toString();var a=w(r.nc,o);a||(a=new Kh(n,r.Pf),r.nc[o]=a),n=a}Y.call(this,n,i,$d,!1)}Z.vc=wh,Z.DataConnection=Z.vc,wh.prototype.Og=function(t,e){this.Da("q",{p:t},e)},Z.vc.prototype.simpleListen=Z.vc.prototype.Og,wh.prototype.gg=function(t,e){this.Da("echo",{d:t},e)},Z.vc.prototype.echo=Z.vc.prototype.gg,wh.prototype.interrupt=wh.prototype.yb,Z.Sf=kh,Z.RealTimeConnection=Z.Sf,kh.prototype.sendRequest=kh.prototype.Da,kh.prototype.close=kh.prototype.close,Z.og=function(o){var a=wh.prototype.put;return wh.prototype.put=function(t,e,i,r){n(r)&&(r=o()),a.call(this,t,e,i,r)},function(){wh.prototype.put=a}},Z.hijackHash=Z.og,Z.Rf=Ec,Z.ConnectionTarget=Z.Rf,Z.wa=function(t){return t.wa()},Z.queryIdentifier=Z.wa,Z.qg=function(t){return t.k.Ra.aa},Z.listens=Z.qg,Z.ue=function(t){t.ue()},Z.forceRestClient=Z.ue,ma(U,Y);var ii=U,ji=["Firebase"],ki=aa,li;ji[0]in ki||!ki.execScript||ki.execScript("var "+ji[0]);for(;ji.length&&(li=ji.shift());)!ji.length&&n(ii)?ki[li]=ii:ki=ki[li]?ki[li]:ki[li]={};function Nc(t,e){J(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?("undefined"!=typeof console&&("function"==typeof console.log?Ab=q(console.log,console):"object"==typeof console.log&&(Ab=function(t){console.log(t)})),e&&P.set("logging_enabled",!0)):t?Ab=t:(Ab=null,P.remove("logging_enabled"))}U.prototype.name=function(){return Q("Firebase.name() being deprecated. Please use Firebase.key() instead."),x("Firebase.name",0,0,arguments.length),this.key()},U.prototype.name=U.prototype.name,U.prototype.key=function(){return x("Firebase.key",0,0,arguments.length),this.path.e()?null:vc(this.path)},U.prototype.key=U.prototype.key,U.prototype.w=function(t){if(x("Firebase.child",1,1,arguments.length),ga(t))t=String(t);else if(!(t instanceof K))if(null===O(this.path)){var e=t;e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Xf("Firebase.child",e)}else Xf("Firebase.child",t);return new U(this.k,this.path.w(t))},U.prototype.child=U.prototype.w,U.prototype.parent=function(){x("Firebase.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new U(this.k,t)},U.prototype.parent=U.prototype.parent,U.prototype.root=function(){x("Firebase.ref",0,0,arguments.length);for(var t=this;null!==t.parent();)t=t.parent();return t},U.prototype.root=U.prototype.root,U.prototype.set=function(t,e){x("Firebase.set",1,2,arguments.length),Yf("Firebase.set",this.path),Rf("Firebase.set",t,this.path,!1),A("Firebase.set",2,e,!0),this.k.Kb(this.path,t,null,e||null)},U.prototype.set=U.prototype.set,U.prototype.update=function(t,e){if(x("Firebase.update",1,2,arguments.length),Yf("Firebase.update",this.path),ea(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,Q("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Tf("Firebase.update",t,this.path),A("Firebase.update",2,e,!0),this.k.update(this.path,t,e||null)},U.prototype.update=U.prototype.update,U.prototype.Kb=function(t,e,n){if(x("Firebase.setWithPriority",2,3,arguments.length),Yf("Firebase.setWithPriority",this.path),Rf("Firebase.setWithPriority",t,this.path,!1),Uf("Firebase.setWithPriority",2,e),A("Firebase.setWithPriority",3,n,!0),".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";this.k.Kb(this.path,t,e,n||null)},U.prototype.setWithPriority=U.prototype.Kb,U.prototype.remove=function(t){x("Firebase.remove",0,1,arguments.length),Yf("Firebase.remove",this.path),A("Firebase.remove",1,t,!0),this.set(null,t)},U.prototype.remove=U.prototype.remove,U.prototype.transaction=function(t,e,i){if(x("Firebase.transaction",1,3,arguments.length),Yf("Firebase.transaction",this.path),A("Firebase.transaction",1,t,!1),A("Firebase.transaction",2,e,!0),n(i)&&"boolean"!=typeof i)throw Error(z("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";void 0===i&&(i=!0),Wh(this.k,this.path,t,e||null,i)},U.prototype.transaction=U.prototype.transaction,U.prototype.Lg=function(t,e){x("Firebase.setPriority",1,2,arguments.length),Yf("Firebase.setPriority",this.path),Uf("Firebase.setPriority",1,t),A("Firebase.setPriority",2,e,!0),this.k.Kb(this.path.w(".priority"),t,null,e)},U.prototype.setPriority=U.prototype.Lg,U.prototype.push=function(t,e){x("Firebase.push",0,2,arguments.length),Yf("Firebase.push",this.path),Rf("Firebase.push",t,this.path,!0),A("Firebase.push",2,e,!0);var n=Mh(this.k);n=Kf(n),n=this.w(n);return null!=t&&n.set(t,e),n},U.prototype.push=U.prototype.push,U.prototype.jb=function(){return Yf("Firebase.onDisconnect",this.path),new X(this.k,this.path)},U.prototype.onDisconnect=U.prototype.jb,U.prototype.P=function(t,e,n){Q("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead."),x("Firebase.auth",1,3,arguments.length),Zf("Firebase.auth",t),A("Firebase.auth",2,e,!0),A("Firebase.auth",3,e,!0),Kg(this.k.P,t,{},{remember:"none"},e,n)},U.prototype.auth=U.prototype.P,U.prototype.ee=function(t){x("Firebase.unauth",0,1,arguments.length),A("Firebase.unauth",1,t,!0),Lg(this.k.P,t)},U.prototype.unauth=U.prototype.ee,U.prototype.we=function(){return x("Firebase.getAuth",0,0,arguments.length),this.k.P.we()},U.prototype.getAuth=U.prototype.we,U.prototype.ug=function(t,e){x("Firebase.onAuth",1,2,arguments.length),A("Firebase.onAuth",1,t,!1),lb("Firebase.onAuth",2,e),this.k.P.Eb("auth_status",t,e)},U.prototype.onAuth=U.prototype.ug,U.prototype.tg=function(t,e){x("Firebase.offAuth",1,2,arguments.length),A("Firebase.offAuth",1,t,!1),lb("Firebase.offAuth",2,e),this.k.P.gc("auth_status",t,e)},U.prototype.offAuth=U.prototype.tg,U.prototype.Wf=function(t,e,n){x("Firebase.authWithCustomToken",2,3,arguments.length),Zf("Firebase.authWithCustomToken",t),A("Firebase.authWithCustomToken",2,e,!1),ag("Firebase.authWithCustomToken",3,n,!0),Kg(this.k.P,t,{},n||{},e)},U.prototype.authWithCustomToken=U.prototype.Wf,U.prototype.Xf=function(t,e,n){x("Firebase.authWithOAuthPopup",2,3,arguments.length),$f("Firebase.authWithOAuthPopup",1,t),A("Firebase.authWithOAuthPopup",2,e,!1),ag("Firebase.authWithOAuthPopup",3,n,!0),Pg(this.k.P,t,n,e)},U.prototype.authWithOAuthPopup=U.prototype.Xf,U.prototype.Yf=function(t,e,n){x("Firebase.authWithOAuthRedirect",2,3,arguments.length),$f("Firebase.authWithOAuthRedirect",1,t),A("Firebase.authWithOAuthRedirect",2,e,!1),ag("Firebase.authWithOAuthRedirect",3,n,!0);var i=this.k.P;Ng(i);var r=[wg],o=ig(n);"anonymous"===t||"firebase"===t?R(e,yg("TRANSPORT_UNAVAILABLE")):(P.set("redirect_client_options",o.ld),Og(i,r,"/auth/"+t,o,e))},U.prototype.authWithOAuthRedirect=U.prototype.Yf,U.prototype.Zf=function(t,e,n,i){x("Firebase.authWithOAuthToken",3,4,arguments.length),$f("Firebase.authWithOAuthToken",1,t),A("Firebase.authWithOAuthToken",3,n,!1),ag("Firebase.authWithOAuthToken",4,i,!0),p(e)?($f("Firebase.authWithOAuthToken",2,e),Mg(this.k.P,t+"/token",{access_token:e},i,n)):(ag("Firebase.authWithOAuthToken",2,e,!1),Mg(this.k.P,t+"/token",e,i,n))},U.prototype.authWithOAuthToken=U.prototype.Zf,U.prototype.Vf=function(t,e){x("Firebase.authAnonymously",1,2,arguments.length),A("Firebase.authAnonymously",1,t,!1),ag("Firebase.authAnonymously",2,e,!0),Mg(this.k.P,"anonymous",{},e,t)},U.prototype.authAnonymously=U.prototype.Vf,U.prototype.$f=function(t,e,n){x("Firebase.authWithPassword",2,3,arguments.length),ag("Firebase.authWithPassword",1,t,!1),bg("Firebase.authWithPassword",t,"email"),bg("Firebase.authWithPassword",t,"password"),A("Firebase.authAnonymously",2,e,!1),ag("Firebase.authAnonymously",3,n,!0),Mg(this.k.P,"password",t,n,e)},U.prototype.authWithPassword=U.prototype.$f,U.prototype.re=function(t,e){x("Firebase.createUser",2,2,arguments.length),ag("Firebase.createUser",1,t,!1),bg("Firebase.createUser",t,"email"),bg("Firebase.createUser",t,"password"),A("Firebase.createUser",2,e,!1),this.k.P.re(t,e)},U.prototype.createUser=U.prototype.re,U.prototype.Se=function(t,e){x("Firebase.removeUser",2,2,arguments.length),ag("Firebase.removeUser",1,t,!1),bg("Firebase.removeUser",t,"email"),bg("Firebase.removeUser",t,"password"),A("Firebase.removeUser",2,e,!1),this.k.P.Se(t,e)},U.prototype.removeUser=U.prototype.Se,U.prototype.oe=function(t,e){x("Firebase.changePassword",2,2,arguments.length),ag("Firebase.changePassword",1,t,!1),bg("Firebase.changePassword",t,"email"),bg("Firebase.changePassword",t,"oldPassword"),bg("Firebase.changePassword",t,"newPassword"),A("Firebase.changePassword",2,e,!1),this.k.P.oe(t,e)},U.prototype.changePassword=U.prototype.oe,U.prototype.ne=function(t,e){x("Firebase.changeEmail",2,2,arguments.length),ag("Firebase.changeEmail",1,t,!1),bg("Firebase.changeEmail",t,"oldEmail"),bg("Firebase.changeEmail",t,"newEmail"),bg("Firebase.changeEmail",t,"password"),A("Firebase.changeEmail",2,e,!1),this.k.P.ne(t,e)},U.prototype.changeEmail=U.prototype.ne,U.prototype.Ue=function(t,e){x("Firebase.resetPassword",2,2,arguments.length),ag("Firebase.resetPassword",1,t,!1),bg("Firebase.resetPassword",t,"email"),A("Firebase.resetPassword",2,e,!1),this.k.P.Ue(t,e)},U.prototype.resetPassword=U.prototype.Ue,U.goOffline=function(){x("Firebase.goOffline",0,0,arguments.length),W.ub().yb()},U.goOnline=function(){x("Firebase.goOnline",0,0,arguments.length),W.ub().qc()},U.enableLogging=Nc,U.ServerValue={TIMESTAMP:{".sv":"timestamp"}},U.SDK_VERSION="2.2.5",U.INTERNAL=V,U.Context=W,U.TEST_ACCESS=Z}();
!function(){var n=function(){if(0==$.active){var i=.7*$(window).height();$(window).scrollTop()+$(window).height()>=$(document).height()-i&&$(window).trigger("infiniteScroll")}};$.onInfiniteScroll=function(i){$(window).on("infiniteScroll",i),$(window).on("scroll",n)}}(jQuery);
!function(o,h,p){var d=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(t){o.setTimeout(t,1e3/60)},g=function(){var s={},n=h.createElement("div").style,i=function(){for(var t=["t","webkitT","MozT","msT","OT"],i=0,e=t.length;i<e;i++)if(t[i]+"ransform"in n)return t[i].substr(0,t[i].length-1);return!1}();function t(t){return!1!==i&&(""===i?t:i+t.charAt(0).toUpperCase()+t.substr(1))}s.getTime=Date.now||function(){return(new Date).getTime()},s.extend=function(t,i){for(var e in i)t[e]=i[e]},s.addEvent=function(t,i,e,s){t.addEventListener(i,e,!!s)},s.removeEvent=function(t,i,e,s){t.removeEventListener(i,e,!!s)},s.prefixPointerEvent=function(t){return o.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},s.momentum=function(t,i,e,s,n,o){var h,r,a=t-i,l=p.abs(a)/e;return r=l/(o=void 0===o?6e-4:o),(h=t+l*l/(2*o)*(a<0?-1:1))<s?(h=n?s-n/2.5*(l/8):s,r=(a=p.abs(h-t))/l):0<h&&(h=n?n/2.5*(l/8):0,r=(a=p.abs(t)+h)/l),{destination:p.round(h),duration:r}};var e=t("transform");return s.extend(s,{hasTransform:!1!==e,hasPerspective:t("perspective")in n,hasTouch:"ontouchstart"in o,hasPointer:o.PointerEvent||o.MSPointerEvent,hasTransition:t("transition")in n}),s.isBadAndroid=/Android /.test(o.navigator.appVersion)&&!/Chrome\/\d/.test(o.navigator.appVersion),s.extend(s.style={},{transform:e,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),s.hasClass=function(t,i){return new RegExp("(^|\\s)"+i+"(\\s|$)").test(t.className)},s.addClass=function(t,i){if(!s.hasClass(t,i)){var e=t.className.split(" ");e.push(i),t.className=e.join(" ")}},s.removeClass=function(t,i){if(s.hasClass(t,i)){var e=new RegExp("(^|\\s)"+i+"(\\s|$)","g");t.className=t.className.replace(e," ")}},s.offset=function(t){for(var i=-t.offsetLeft,e=-t.offsetTop;t=t.offsetParent;)i-=t.offsetLeft,e-=t.offsetTop;return{left:i,top:e}},s.preventDefaultException=function(t,i){for(var e in i)if(i[e].test(t[e]))return!0;return!1},s.extend(s.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),s.extend(s.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return p.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){return(t-=1)*t*(5*t+4)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){return 0===t?0:1==t?1:.4*p.pow(2,-10*t)*p.sin((t-.055)*(2*p.PI)/.22)+1}}}),s.tap=function(t,i){var e=h.createEvent("Event");e.initEvent(i,!0,!0),e.pageX=t.pageX,e.pageY=t.pageY,t.target.dispatchEvent(e)},s.click=function(t){var i,e=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(e.tagName)||((i=h.createEvent("MouseEvents")).initMouseEvent("click",!0,!0,t.view,1,e.screenX,e.screenY,e.clientX,e.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),i._constructed=!0,e.dispatchEvent(i))},s}();function t(t,i){for(var e in this.wrapper="string"==typeof t?h.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={mouseWheelSpeed:20,snapThreshold:.334,infiniteUseTransform:!0,deceleration:.004,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0},i)this.options[e]=i[e];this.translateZ=this.options.HWCompositing&&g.hasPerspective?" translateZ(0)":"",this.options.useTransition=g.hasTransition&&this.options.useTransition,this.options.useTransform=g.hasTransform&&this.options.useTransform,this.options.eventPassthrough=!0===this.options.eventPassthrough?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?g.ease[this.options.bounceEasing]||g.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,!0===this.options.tap&&(this.options.tap="tap"),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.options.infiniteElements&&(this.options.probeType=3),this.options.infiniteUseTransform=this.options.infiniteUseTransform&&this.options.useTransform,3==this.options.probeType&&(this.options.useTransition=!1),this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}t.prototype={version:"5.1.3",_init:function(){this._initEvents(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys(),this.options.infiniteElements&&this._initInfinite()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==g.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||g.eventType[t.type]===this.initiated)){!this.options.preventDefault||g.isBadAndroid||g.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var i,e=t.touches?t.touches[0]:t;this.initiated=g.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=g.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,i=this.getComputedPosition(),this._translate(p.round(i.x),p.round(i.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=e.pageX,this.pointY=e.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&g.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var i,e,s,n,o=t.touches?t.touches[0]:t,h=o.pageX-this.pointX,r=o.pageY-this.pointY,a=g.getTime();if(this.pointX=o.pageX,this.pointY=o.pageY,this.distX+=h,this.distY+=r,s=p.abs(this.distX),n=p.abs(this.distY),!(300<a-this.endTime&&s<10&&n<10)){if(this.directionLocked||this.options.freeScroll||(s>n+this.options.directionLockThreshold?this.directionLocked="h":n>=s+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);r=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);h=0}h=this.hasHorizontalScroll?h:0,r=this.hasVerticalScroll?r:0,i=this.x+h,e=this.y+r,(0<i||i<this.maxScrollX)&&(i=this.options.bounce?this.x+h/3:0<i?0:this.maxScrollX),(0<e||e<this.maxScrollY)&&(e=this.options.bounce?this.y+r/3:0<e?0:this.maxScrollY),this.directionX=0<h?-1:h<0?1:0,this.directionY=0<r?-1:r<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(i,e),300<a-this.startTime&&(this.startTime=a,this.startX=this.x,this.startY=this.y,1==this.options.probeType&&this._execEvent("scroll")),1<this.options.probeType&&this._execEvent("scroll")}}},_end:function(t){if(this.enabled&&g.eventType[t.type]===this.initiated){this.options.preventDefault&&!g.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();t.changedTouches&&t.changedTouches[0];var i,e,s=g.getTime()-this.startTime,n=p.round(this.x),o=p.round(this.y),h=p.abs(n-this.startX),r=p.abs(o-this.startY),a=0,l="";if(this.isInTransition=0,this.initiated=0,this.endTime=g.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(n,o),!this.moved)return this.options.tap&&g.tap(t,this.options.tap),this.options.click&&g.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&s<200&&h<100&&r<100)this._execEvent("flick");else{if(this.options.momentum&&s<300&&(i=this.hasHorizontalScroll?g.momentum(this.x,this.startX,s,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:n,duration:0},e=this.hasVerticalScroll?g.momentum(this.y,this.startY,s,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:o,duration:0},n=i.destination,o=e.destination,a=p.max(i.duration,e.duration),this.isInTransition=1),this.options.snap){var c=this._nearestSnap(n,o);this.currentPage=c,a=this.options.snapSpeed||p.max(p.max(p.min(p.abs(n-c.x),1e3),p.min(p.abs(o-c.y),1e3)),300),n=c.x,o=c.y,this.directionX=0,this.directionY=0,l=this.options.bounceEasing}if(n!=this.x||o!=this.y)return(0<n||n<this.maxScrollX||0<o||o<this.maxScrollY)&&(l=g.ease.quadratic),void this.scrollTo(n,o,a,l);this._execEvent("scrollEnd")}}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var i=this.x,e=this.y;return t=t||0,!this.hasHorizontalScroll||0<this.x?i=0:this.x<this.maxScrollX&&(i=this.maxScrollX),!this.hasVerticalScroll||0<this.y?e=0:this.y<this.maxScrollY&&(e=this.maxScrollY),(i!=this.x||e!=this.y)&&(this.scrollTo(i,e,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){var t;this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.options.infiniteElements&&(this.options.infiniteLimit=this.options.infiniteLimit||p.floor(2147483645/this.infiniteElementHeight),t=-this.options.infiniteLimit*this.infiniteElementHeight+this.wrapperHeight),this.maxScrollY=void 0!==t?t:this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=g.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,i){this._events[t]||(this._events[t]=[]),this._events[t].push(i)},off:function(t,i){if(this._events[t]){var e=this._events[t].indexOf(i);-1<e&&this._events[t].splice(e,1)}},_execEvent:function(t){if(this._events[t]){var i=0,e=this._events[t].length;if(e)for(;i<e;i++)this._events[t][i].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,i,e,s){t=this.x+t,i=this.y+i,e=e||0,this.scrollTo(t,i,e,s)},scrollTo:function(t,i,e,s){s=s||g.ease.circular,this.isInTransition=this.options.useTransition&&0<e,!e||this.options.useTransition&&s.style?(this._transitionTimingFunction(s.style),this._transitionTime(e),this._translate(t,i)):this._animate(t,i,e,s.fn)},scrollToElement:function(t,i,e,s,n){if(t=t.nodeType?t:this.scroller.querySelector(t)){var o=g.offset(t);o.left-=this.wrapperOffset.left,o.top-=this.wrapperOffset.top,!0===e&&(e=p.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),!0===s&&(s=p.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),o.left-=e||0,o.top-=s||0,o.left=0<o.left?0:o.left<this.maxScrollX?this.maxScrollX:o.left,o.top=0<o.top?0:o.top<this.maxScrollY?this.maxScrollY:o.top,i=null==i||"auto"===i?p.max(p.abs(this.x-o.left),p.abs(this.y-o.top)):i,this.scrollTo(o.left,o.top,i,n)}},_transitionTime:function(t){t=t||0,this.scrollerStyle[g.style.transitionDuration]=t+"ms",!t&&g.isBadAndroid&&(this.scrollerStyle[g.style.transitionDuration]="0.001s")},_transitionTimingFunction:function(t){this.scrollerStyle[g.style.transitionTimingFunction]=t},_translate:function(t,i){this.options.useTransform?this.scrollerStyle[g.style.transform]="translate("+t+"px,"+i+"px)"+this.translateZ:(t=p.round(t),i=p.round(i),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=i+"px"),this.x=t,this.y=i},_initEvents:function(t){var i=t?g.removeEvent:g.addEvent,e=this.options.bindToWrapper?this.wrapper:o;i(o,"orientationchange",this),i(o,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(e,"mousemove",this),i(e,"mousecancel",this),i(e,"mouseup",this)),g.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,g.prefixPointerEvent("pointerdown"),this),i(e,g.prefixPointerEvent("pointermove"),this),i(e,g.prefixPointerEvent("pointercancel"),this),i(e,g.prefixPointerEvent("pointerup"),this)),g.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(e,"touchmove",this),i(e,"touchcancel",this),i(e,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,i,e=o.getComputedStyle(this.scroller,null);return this.options.useTransform?(t=+((e=e[g.style.transform].split(")")[0].split(", "))[12]||e[4]),i=+(e[13]||e[5])):(t=+e.left.replace(/[^-\d.]/g,""),i=+e.top.replace(/[^-\d.]/g,"")),{x:t,y:i}},_initWheel:function(){g.addEvent(this.wrapper,"wheel",this),g.addEvent(this.wrapper,"mousewheel",this),g.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){g.removeEvent(this.wrapper,"wheel",this),g.removeEvent(this.wrapper,"mousewheel",this),g.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var i,e,s,n,o=this;if(void 0===this.wheelTimeout&&o._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){o._execEvent("scrollEnd"),o.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(i=-t.deltaX*this.options.mouseWheelSpeed,e=-t.deltaY*this.options.mouseWheelSpeed):(i=-t.deltaX,e=-t.deltaY);else if("wheelDeltaX"in t)i=t.wheelDeltaX/120*this.options.mouseWheelSpeed,e=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)i=e=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;i=e=-t.detail/3*this.options.mouseWheelSpeed}if(i*=this.options.invertWheelDirection,e*=this.options.invertWheelDirection,this.hasVerticalScroll||(i=e,e=0),this.options.snap)return s=this.currentPage.pageX,n=this.currentPage.pageY,0<i?s--:i<0&&s++,0<e?n--:e<0&&n++,void this.goToPage(s,n);s=this.x+p.round(this.hasHorizontalScroll?i:0),n=this.y+p.round(this.hasVerticalScroll?e:0),0<s?s=0:s<this.maxScrollX&&(s=this.maxScrollX),0<n?n=0:n<this.maxScrollY&&(n=this.maxScrollY),this.scrollTo(s,n,0),1<this.options.probeType&&this._execEvent("scroll")}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,i,e,s,n,o,h=0,r=0,a=0,l=this.options.snapStepX||this.wrapperWidth,c=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(!0===this.options.snap)for(e=p.round(l/2),s=p.round(c/2);a>-this.scrollerWidth;){for(this.pages[h]=[],n=t=0;n>-this.scrollerHeight;)this.pages[h][t]={x:p.max(a,this.maxScrollX),y:p.max(n,this.maxScrollY),width:l,height:c,cx:a-e,cy:n-s},n-=c,t++;a-=l,h++}else for(t=(o=this.options.snap).length,i=-1;h<t;h++)(0===h||o[h].offsetLeft<=o[h-1].offsetLeft)&&(r=0,i++),this.pages[r]||(this.pages[r]=[]),a=p.max(-o[h].offsetLeft,this.maxScrollX),n=p.max(-o[h].offsetTop,this.maxScrollY),e=a-p.round(o[h].offsetWidth/2),s=n-p.round(o[h].offsetHeight/2),this.pages[r][i]={x:a,y:n,width:o[h].offsetWidth,height:o[h].offsetHeight,cx:e,cy:s},a>this.maxScrollX&&r++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1==0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=p.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=p.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||p.max(p.max(p.min(p.abs(this.x-this.startX),1e3),p.min(p.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,i){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var e=0,s=this.pages.length,n=0;if(p.abs(t-this.absStartX)<this.snapThresholdX&&p.abs(i-this.absStartY)<this.snapThresholdY)return this.currentPage;for(0<t?t=0:t<this.maxScrollX&&(t=this.maxScrollX),0<i?i=0:i<this.maxScrollY&&(i=this.maxScrollY);e<s;e++)if(t>=this.pages[e][0].cx){t=this.pages[e][0].x;break}for(s=this.pages[e].length;n<s;n++)if(i>=this.pages[0][n].cy){i=this.pages[0][n].y;break}return e==this.currentPage.pageX&&((e+=this.directionX)<0?e=0:e>=this.pages.length&&(e=this.pages.length-1),t=this.pages[e][0].x),n==this.currentPage.pageY&&((n+=this.directionY)<0?n=0:n>=this.pages[0].length&&(n=this.pages[0].length-1),i=this.pages[0][n].y),{x:t,y:i,pageX:e,pageY:n}},goToPage:function(t,i,e,s){s=s||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),i>=this.pages[t].length?i=this.pages[t].length-1:i<0&&(i=0);var n=this.pages[t][i].x,o=this.pages[t][i].y;e=void 0===e?this.options.snapSpeed||p.max(p.max(p.min(p.abs(n-this.x),1e3),p.min(p.abs(o-this.y),1e3)),300):e,this.currentPage={x:n,y:o,pageX:t,pageY:i},this.scrollTo(n,o,e,s)},next:function(t,i){var e=this.currentPage.pageX,s=this.currentPage.pageY;++e>=this.pages.length&&this.hasVerticalScroll&&(e=0,s++),this.goToPage(e,s,t,i)},prev:function(t,i){var e=this.currentPage.pageX,s=this.currentPage.pageY;--e<0&&this.hasVerticalScroll&&(e=0,s--),this.goToPage(e,s,t,i)},_initKeys:function(t){var i,e={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==typeof this.options.keyBindings)for(i in this.options.keyBindings)"string"==typeof this.options.keyBindings[i]&&(this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(i in e)this.options.keyBindings[i]=this.options.keyBindings[i]||e[i];g.addEvent(o,"keydown",this),this.on("destroy",function(){g.removeEvent(o,"keydown",this)})},_key:function(t){if(this.enabled){var i,e=this.options.snap,s=e?this.currentPage.pageX:this.x,n=e?this.currentPage.pageY:this.y,o=g.getTime(),h=this.keyTime||0;switch(this.options.useTransition&&this.isInTransition&&(i=this.getComputedPosition(),this._translate(p.round(i.x),p.round(i.y)),this.isInTransition=!1),this.keyAcceleration=o-h<200?p.min(this.keyAcceleration+.25,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?s+=e?1:this.wrapperWidth:n+=e?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?s-=e?1:this.wrapperWidth:n-=e?1:this.wrapperHeight;break;case this.options.keyBindings.end:s=e?this.pages.length-1:this.maxScrollX,n=e?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=s=0;break;case this.options.keyBindings.left:s+=e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:n+=e?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:s-=e?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:n-=e?1:5+this.keyAcceleration>>0;break;default:return}e?this.goToPage(s,n):(0<s?(s=0,this.keyAcceleration=0):s<this.maxScrollX&&(s=this.maxScrollX,this.keyAcceleration=0),0<n?(n=0,this.keyAcceleration=0):n<this.maxScrollY&&(n=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(s,n,0),this.keyTime=o)}},_animate:function(o,h,r,a){var l=this,c=this.x,p=this.y,f=g.getTime(),u=f+r;this.isAnimating=!0,function t(){var i,e,s,n=g.getTime();if(u<=n)return l.isAnimating=!1,l._translate(o,h),void(l.resetPosition(l.options.bounceTime)||l._execEvent("scrollEnd"));s=a(n=(n-f)/r),i=(o-c)*s+c,e=(h-p)*s+p,l._translate(i,e),l.isAnimating&&d(t),3==l.options.probeType&&l._execEvent("scroll")}()},_initInfinite:function(){var t=this.options.infiniteElements;this.infiniteElements="string"==typeof t?h.querySelectorAll(t):t,this.infiniteLength=this.infiniteElements.length,this.infiniteMaster=this.infiniteElements[0],this.infiniteElementHeight=this.infiniteMaster.offsetHeight,this.infiniteHeight=this.infiniteLength*this.infiniteElementHeight,this.options.cacheSize=this.options.cacheSize||1e3,this.infiniteCacheBuffer=p.round(this.options.cacheSize/4),this.options.dataset.call(this,0,this.options.cacheSize),this.on("refresh",function(){var t=p.ceil(this.wrapperHeight/this.infiniteElementHeight);this.infiniteUpperBufferSize=p.floor((this.infiniteLength-t)/2),this.reorderInfinite()}),this.on("scroll",this.reorderInfinite)},reorderInfinite:function(){this.y,this.wrapperHeight;for(var t=p.max(p.floor(-this.y/this.infiniteElementHeight)-this.infiniteUpperBufferSize,0),i=p.floor(t/this.infiniteLength),e=t-i*this.infiniteLength,s=0,n=0,o=[],h=p.floor(t/this.infiniteCacheBuffer);n<this.infiniteLength;)s=n*this.infiniteElementHeight+i*this.infiniteHeight,n<e&&(s+=this.infiniteElementHeight*this.infiniteLength),this.infiniteElements[n]._top!==s&&(this.infiniteElements[n]._phase=s/this.infiniteElementHeight,this.infiniteElements[n]._phase<this.options.infiniteLimit&&(this.infiniteElements[n]._top=s,this.options.infiniteUseTransform?this.infiniteElements[n].style[g.style.transform]="translate(0, "+s+"px)"+this.translateZ:this.infiniteElements[n].style.top=s+"px",o.push(this.infiniteElements[n]))),n++;this.cachePhase!=h&&(0===h||0<t-this.infiniteCacheBuffer)&&this.options.dataset.call(this,p.max(h*this.infiniteCacheBuffer-this.infiniteCacheBuffer,0),this.options.cacheSize),this.cachePhase=h,this.updateContent(o)},updateContent:function(t){if(void 0!==this.infiniteCache)for(var i=0,e=t.length;i<e;i++)this.options.dataFiller.call(this,t[i],this.infiniteCache[t[i]._phase])},updateCache:function(t,i){var e=void 0===this.infiniteCache;this.infiniteCache={};for(var s=0,n=i.length;s<n;s++)this.infiniteCache[t++]=i[s];e&&this.updateContent(this.infiniteElements)},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},t.utils=g,"undefined"!=typeof module&&module.exports?module.exports=t:o.IScroll=t}(window,document,Math);
!function($){$.fn.jPut=function(options){var defaults={name:"",jsonData:"",dataName:"",limit:0,prepend:!1,ajax_url:"",ajax_data:"",ajax_type:"GET",ajax_dataType:"json",ajax_jsonpCallback:"",done:function(t){},error:function(t){}},options=$.extend({},defaults,options),html;try{function json_value(t,e){if(""==t)return e;if(-1==t.indexOf("."))return e[t];t=t.split(".");for(var a=0;a<t.length;a++)e=e[t[a]];return e}function getOperator(t){for(operators=["<=",">=","<",">","!=","=="],i=0;i<operators.length;i++)if(-1!=t.search(operators[i]))return operators[i]}function process(options){var arr=options.jsonData;if("object"!=typeof arr&&(arr=$.parseJSON(options.jsonData)),"object"!=typeof arr)throw"Invalid JSON data!";if(arr=json_value(options.dataName,options.jsonData),null==arr)throw"JSON data is empty!";0!=options.limit&&(arr=arr.slice(0,options.limit)),options.jsonData=arr,$.each(arr,function(i,j){el1=el.clone(),jrepeat=el.find("[jrepeat]").not("[jrepeat] [jrepeat]"),0<jrepeat.length&&jrepeat.each(function(t,e){$(this).attr("jrepeat-"+i,$(this).attr("jrepeat"))}),el1_jrepeat=el1.find("[jrepeat]"),0<el1_jrepeat.length&&el1_jrepeat.each(function(t,e){$(this).remove()});var matches=el1.html().match(regExp);html=el.html(),null!=matches&&$.each(matches,function(index,value){var reg=new RegExp(value);t=value.replace(/{{|}}/g,""),t=t.replace("&gt;",">"),t=t.replace("&lt;","<");var separators=["\\?","\\<=","\\>=","\\>","\\<","\\!=","\\==","\\:"];if(c=decodeURI(t).split(new RegExp(separators.join("|"),"ig")),4==c.length){for(condition=t.split("?"),condition=getOperator(condition[0]),ci=0;ci<2;ci++)c[ci].substr(-1)+c[ci].charAt(0)!="''"&&(c[ci]="'"+escape(j[c[ci]])+"'");for(ci=2;ci<4;ci++)c[ci].substr(-1)+c[ci].charAt(0)!="''"?c[ci]=j[c[ci]]:c[ci]=c[ci].substr(1,c[ci].length-2);console.log(c[0]+condition+c[1]),html=eval(c[0]+condition+c[1])?html.replace(value,unescape(c[2])):html.replace(value,unescape(c[3]))}else t=t.split("||"),newval=json_value(t[0],j),html=""!=newval&&null!=newval||1==t.length?html.replace(value,json_value(t[0],j)):html.replace(value,t[1])}),html=html.replace("jsrc","src"),0==options.prepend?main.append(html):main.prepend(html),0<jrepeat.length&&jrepeat.each(function(t,e){$("[jrepeat-"+i+'="'+$(this).attr("jrepeat")+'"]').jPut({jsonData:j[$(this).attr("jrepeat")],name:$(this).attr("jrepeat"),error:function(t){throw t}})})}),$.isFunction(options.done)&&options.done.call(this,options.jsonData)}$('[jput="'+options.name+'"],[jput]').hide();var main=$(this),el=""==options.name?$("[jput]").clone():$('[jput="'+options.name+'"]').clone();if(0==el.length)throw"Cant find the jPut template ("+options.name+")!";var regExp=/\{{([^}}]+)\}}/g,matches=el.html().match(regExp);""!=options.ajax_url?$.ajax({url:options.ajax_url,data:options.ajax_data,dataType:options.ajax_dataType,jsonpCallback:options.ajax_jsonpCallback,type:options.ajax_type,success:function(t){options.jsonData=t,process(options)},error:function(t){}}):process(options)}catch(t){$.isFunction(options.error)&&options.error.call(this,t)}return this.getValue=function(t){return options.jsonData[t]},this.each(function(){})}}(jQuery);
if("undefined"==typeof jQuery)throw new Error("Metro's JavaScript requires jQuery");window.METRO_VERSION="3.0.5",void 0===window.METRO_AUTO_REINIT&&(window.METRO_AUTO_REINIT=!0),void 0===window.METRO_LANGUAGE&&(window.METRO_LANGUAGE="en"),void 0===window.METRO_LOCALE&&(window.METRO_LOCALE="EN_en"),void 0===window.METRO_CURRENT_LOCALE&&(window.METRO_CURRENT_LOCALE="en"),void 0===window.METRO_SHOW_TYPE&&(window.METRO_SHOW_TYPE="slide"),void 0===window.METRO_DEBUG&&(window.METRO_DEBUG=!0),window.canObserveMutation="MutationObserver"in window,String.prototype.isUrl=function(){"use strict";return/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(this)},String.prototype.isColor=function(){"use strict";return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(this)},Array.prototype.shuffle=function(){for(var t,e,n=this.length;0!==n;)e=Math.floor(Math.random()*n),t=this[n-=1],this[n]=this[e],this[e]=t;return this},Array.prototype.clone=function(){return this.slice(0)},Array.prototype.unique=function(){for(var t=this.concat(),e=0;e<t.length;++e)for(var n=e+1;n<t.length;++n)t[e]===t[n]&&t.splice(n--,1);return t},window.uniqueId=function(t){"use strict";var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==t?e:3&e|8).toString(16)})};var dateFormat=function(){"use strict";var v=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,_=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,g=/[^-+\dA-Z]/g,w=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(t,e,n){var i=dateFormat;1!==arguments.length||"[object String]"!==Object.prototype.toString.call(t)||/\d/.test(t)||(e=t,t=void 0),t=t?new Date(t):new Date,"UTC:"===(e=String(i.masks[e]||e||i.masks.default)).slice(0,4)&&(e=e.slice(4),n=!0);var o=window.METRO_CURRENT_LOCALE||"en",a=n?"getUTC":"get",s=t[a+"Date"](),r=t[a+"Day"](),l=t[a+"Month"](),d=t[a+"FullYear"](),c=t[a+"Hours"](),h=t[a+"Minutes"](),u=t[a+"Seconds"](),p=t[a+"Milliseconds"](),f=n?0:t.getTimezoneOffset(),m={d:s,dd:w(s),ddd:window.METRO_LOCALES[o].days[r],dddd:window.METRO_LOCALES[o].days[r+7],m:l+1,mm:w(l+1),mmm:window.METRO_LOCALES[o].months[l],mmmm:window.METRO_LOCALES[o].months[l+12],yy:String(d).slice(2),yyyy:d,h:c%12||12,hh:w(c%12||12),H:c,HH:w(c),M:h,MM:w(h),s:u,ss:w(u),l:w(p,3),L:w(99<p?Math.round(p/10):p),t:c<12?"a":"p",tt:c<12?"am":"pm",T:c<12?"A":"P",TT:c<12?"AM":"PM",Z:n?"UTC":(String(t).match(_)||[""]).pop().replace(g,""),o:(0<f?"-":"+")+w(100*Math.floor(Math.abs(f)/60)+Math.abs(f)%60,4),S:["th","st","nd","rd"][3<s%10?0:(s%100-s%10!=10)*s%10]};return e.replace(v,function(t){return t in m?m[t]:t.slice(1,t.length-1)})}}();dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},Date.prototype.format=function(t,e){"use strict";return dateFormat(this,t,e)},function(n){"use strict";n.fn.reverse=Array.prototype.reverse,n.Metro=function(t){t=n.extend({},t)},n.Metro.initWidgets=function(){var t;t=n("[data-role]"),n.each(t,function(){var e=n(this);e.data("role").split(/\s*,\s*/).map(function(t){try{void 0!==n.fn[t]&&n.fn[t].call(e)}catch(t){window.METRO_DEBUG&&console.log(t.message,t.stack)}})})}}(jQuery),$(function(){"use strict";if($.Metro.initWidgets(),window.METRO_AUTO_REINIT)if(window.canObserveMutation){var t;t={childList:!0,subtree:!0},new MutationObserver(function(t){t.map(function(t){if(t.addedNodes)for(var e,n,i,o=0,a=t.addedNodes.length;o<a;o++)i=(e=$(t.addedNodes[o])).find("[data-role]"),(n=void 0!==e.data("role")?$.merge(i,e):i).length&&$.each(n,function(){var e=$(this);e.data("role").split(/\s*,\s*/).map(function(t){try{void 0!==$.fn[t]&&$.fn[t].call(e)}catch(t){window.METRO_DEBUG&&console.log(t.message,t.stack)}})})})}).observe(document,t)}else{var e,n=$("body").html();setInterval(function(){e=$("body").html(),n!==e&&(n=e,$.Metro.initWidgets())},100)}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(c){var o,n=0,r=Array.prototype.slice;c.cleanData=(o=c.cleanData,function(t){var e,n,i;for(i=0;null!=(n=t[i]);i++)try{(e=c._data(n,"events"))&&e.remove&&c(n).triggerHandler("remove")}catch(t){}o(t)}),c.widget=function(t,n,e){var i,o,a,s,r={},l=t.split(".")[0];return t=t.split(".")[1],i=l+"-"+t,e||(e=n,n=c.Widget),c.expr[":"][i.toLowerCase()]=function(t){return!!c.data(t,i)},c[l]=c[l]||{},o=c[l][t],a=c[l][t]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},c.extend(a,o,{version:e.version,_proto:c.extend({},e),_childConstructors:[]}),(s=new n).options=c.widget.extend({},s.options),c.each(e,function(e,i){var o,a;c.isFunction(i)?r[e]=(o=function(){return n.prototype[e].apply(this,arguments)},a=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=o,this._superApply=a,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):r[e]=i}),a.prototype=c.widget.extend(s,{widgetEventPrefix:o&&s.widgetEventPrefix||t},r,{constructor:a,namespace:l,widgetName:t,widgetFullName:i}),o?(c.each(o._childConstructors,function(t,e){var n=e.prototype;c.widget(n.namespace+"."+n.widgetName,a,e._proto)}),delete o._childConstructors):n._childConstructors.push(a),c.widget.bridge(t,a),a},c.widget.extend=function(t){for(var e,n,i=r.call(arguments,1),o=0,a=i.length;o<a;o++)for(e in i[o])n=i[o][e],i[o].hasOwnProperty(e)&&void 0!==n&&(c.isPlainObject(n)?t[e]=c.isPlainObject(t[e])?c.widget.extend({},t[e],n):c.widget.extend({},n):t[e]=n);return t},c.widget.bridge=function(a,e){var s=e.prototype.widgetFullName||a;c.fn[a]=function(n){var t="string"==typeof n,i=r.call(arguments,1),o=this;return t?this.each(function(){var t,e=c.data(this,s);return"instance"===n?(o=e,!1):e?c.isFunction(e[n])&&"_"!==n.charAt(0)?(t=e[n].apply(e,i))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:c.error("no such method '"+n+"' for "+a+" widget instance"):c.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+n+"'")}):(i.length&&(n=c.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=c.data(this,s);t?(t.option(n||{}),t._init&&t._init()):c.data(this,s,new e(n,this))})),o}},c.Widget=function(){},c.Widget._childConstructors=[],c.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=c(e||this.defaultElement||this)[0],this.element=c(e),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=c(),this.hoverable=c(),this.focusable=c(),e!==this&&(c.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=c(e.style?e.ownerDocument:e.document||e),this.window=c(this.document[0].defaultView||this.document[0].parentWindow)),this.options=c.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:c.noop,_getCreateEventData:c.noop,_create:c.noop,_init:c.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(c.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:c.noop,widget:function(){return this.element},option:function(t,e){var n,i,o,a=t;if(0===arguments.length)return c.widget.extend({},this.options);if("string"==typeof t)if(a={},t=(n=t.split(".")).shift(),n.length){for(i=a[t]=c.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(t=n.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=e}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(s,r,t){var l,d=this;"boolean"!=typeof s&&(t=r,r=s,s=!1),t?(r=l=c(r),this.bindings=this.bindings.add(r)):(t=r,r=this.element,l=this.widget()),c.each(t,function(t,e){function n(){if(s||!0!==d.options.disabled&&!c(this).hasClass("ui-state-disabled"))return("string"==typeof e?d[e]:e).apply(d,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||c.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),o=i[1]+d.eventNamespace,a=i[2];a?l.delegate(a,o,n):r.bind(o,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e),this.bindings=c(this.bindings.not(t).get()),this.focusable=c(this.focusable.not(t).get()),this.hoverable=c(this.hoverable.not(t).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){c(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){c(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){c(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){c(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,n){var i,o,a=this.options[t];if(n=n||{},(e=c.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(i in o)i in e||(e[i]=o[i]);return this.element.trigger(e,n),!(c.isFunction(a)&&!1===a.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},c.each({show:"fadeIn",hide:"fadeOut"},function(a,s){c.Widget.prototype["_"+a]=function(e,t,n){"string"==typeof t&&(t={effect:t});var i,o=t?!0===t||"number"==typeof t?s:t.effect||s:a;"number"==typeof(t=t||{})&&(t={duration:t}),i=!c.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&c.effects&&c.effects.effect[o]?e[a](t):o!==a&&e[o]?e[o](t.duration,t.easing,n):e.queue(function(t){c(this)[a](),n&&n.call(e[0]),t()})}});c.widget}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(t,e,n,i,o){return jQuery.easing[jQuery.easing.def](t,e,n,i,o)},easeInQuad:function(t,e,n,i,o){return i*(e/=o)*e+n},easeOutQuad:function(t,e,n,i,o){return-i*(e/=o)*(e-2)+n},easeInOutQuad:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},easeInCubic:function(t,e,n,i,o){return i*(e/=o)*e*e+n},easeOutCubic:function(t,e,n,i,o){return i*((e=e/o-1)*e*e+1)+n},easeInOutCubic:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e+n:i/2*((e-=2)*e*e+2)+n},easeInQuart:function(t,e,n,i,o){return i*(e/=o)*e*e*e+n},easeOutQuart:function(t,e,n,i,o){return-i*((e=e/o-1)*e*e*e-1)+n},easeInOutQuart:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e+n:-i/2*((e-=2)*e*e*e-2)+n},easeInQuint:function(t,e,n,i,o){return i*(e/=o)*e*e*e*e+n},easeOutQuint:function(t,e,n,i,o){return i*((e=e/o-1)*e*e*e*e+1)+n},easeInOutQuint:function(t,e,n,i,o){return(e/=o/2)<1?i/2*e*e*e*e*e+n:i/2*((e-=2)*e*e*e*e+2)+n},easeInSine:function(t,e,n,i,o){return-i*Math.cos(e/o*(Math.PI/2))+i+n},easeOutSine:function(t,e,n,i,o){return i*Math.sin(e/o*(Math.PI/2))+n},easeInOutSine:function(t,e,n,i,o){return-i/2*(Math.cos(Math.PI*e/o)-1)+n},easeInExpo:function(t,e,n,i,o){return 0==e?n:i*Math.pow(2,10*(e/o-1))+n},easeOutExpo:function(t,e,n,i,o){return e==o?n+i:i*(1-Math.pow(2,-10*e/o))+n},easeInOutExpo:function(t,e,n,i,o){return 0==e?n:e==o?n+i:(e/=o/2)<1?i/2*Math.pow(2,10*(e-1))+n:i/2*(2-Math.pow(2,-10*--e))+n},easeInCirc:function(t,e,n,i,o){return-i*(Math.sqrt(1-(e/=o)*e)-1)+n},easeOutCirc:function(t,e,n,i,o){return i*Math.sqrt(1-(e=e/o-1)*e)+n},easeInOutCirc:function(t,e,n,i,o){return(e/=o/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+n:i/2*(Math.sqrt(1-(e-=2)*e)+1)+n},easeInElastic:function(t,e,n,i,o){var a=1.70158,s=0,r=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),r<Math.abs(i)){r=i;a=s/4}else a=s/(2*Math.PI)*Math.asin(i/r);return-r*Math.pow(2,10*(e-=1))*Math.sin((e*o-a)*(2*Math.PI)/s)+n},easeOutElastic:function(t,e,n,i,o){var a=1.70158,s=0,r=i;if(0==e)return n;if(1==(e/=o))return n+i;if(s||(s=.3*o),r<Math.abs(i)){r=i;a=s/4}else a=s/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*e)*Math.sin((e*o-a)*(2*Math.PI)/s)+i+n},easeInOutElastic:function(t,e,n,i,o){var a=1.70158,s=0,r=i;if(0==e)return n;if(2==(e/=o/2))return n+i;if(s||(s=o*(.3*1.5)),r<Math.abs(i)){r=i;a=s/4}else a=s/(2*Math.PI)*Math.asin(i/r);return e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e*o-a)*(2*Math.PI)/s)*-.5+n:r*Math.pow(2,-10*(e-=1))*Math.sin((e*o-a)*(2*Math.PI)/s)*.5+i+n},easeInBack:function(t,e,n,i,o,a){return null==a&&(a=1.70158),i*(e/=o)*e*((a+1)*e-a)+n},easeOutBack:function(t,e,n,i,o,a){return null==a&&(a=1.70158),i*((e=e/o-1)*e*((a+1)*e+a)+1)+n},easeInOutBack:function(t,e,n,i,o,a){return null==a&&(a=1.70158),(e/=o/2)<1?i/2*(e*e*((1+(a*=1.525))*e-a))+n:i/2*((e-=2)*e*((1+(a*=1.525))*e+a)+2)+n},easeInBounce:function(t,e,n,i,o){return i-jQuery.easing.easeOutBounce(t,o-e,0,i,o)+n},easeOutBounce:function(t,e,n,i,o){return(e/=o)<1/2.75?i*(7.5625*e*e)+n:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+n:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+n:i*(7.5625*(e-=2.625/2.75)*e+.984375)+n},easeInOutBounce:function(t,e,n,i,o){return e<o/2?.5*jQuery.easing.easeInBounce(t,2*e,0,i,o)+n:.5*jQuery.easing.easeOutBounce(t,2*e-o,0,i,o)+.5*i+n}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(d){var c,h,t=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],e="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(d.event.fixHooks)for(var n=t.length;n;)d.event.fixHooks[t[--n]]=d.event.mouseHooks;function i(t){var e,n,i,o=t||window.event,a=[].slice.call(arguments,1),s=0,r=0,l=0;return(t=d.event.fix(o)).type="mousewheel",o.wheelDelta&&(s=o.wheelDelta),o.detail&&(s=-1*o.detail),o.deltaY&&(s=l=-1*o.deltaY),o.deltaX&&(s=-1*(r=o.deltaX)),void 0!==o.wheelDeltaY&&(l=o.wheelDeltaY),void 0!==o.wheelDeltaX&&(r=-1*o.wheelDeltaX),e=Math.abs(s),(!c||e<c)&&(c=e),n=Math.max(Math.abs(l),Math.abs(r)),(!h||n<h)&&(h=n),i=0<s?"floor":"ceil",s=Math[i](s/c),r=Math[i](r/h),l=Math[i](l/h),a.unshift(t,s,r,l),(d.event.dispatch||d.event.handle).apply(this,a)}d.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=e.length;t;)this.addEventListener(e[--t],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var t=e.length;t;)this.removeEventListener(e[--t],i,!1);else this.onmousewheel=null}},d.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),document.addEventListener("DOMContentLoaded",function(){var t;t="pre code, textarea",Array.prototype.slice.call(document.querySelectorAll(t),0).forEach(function(t,e,n){var i=t.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(i))t.textContent=i;else{for(var o,a,s,r=/^[\t ]+/gm,l=1e3;o=r.exec(i);)(s=o[0].length)<l&&(l=s,a=o[0]);1e3!=l&&(t.textContent=i.replace(new RegExp("^"+a,"gm"),""))}})},!1);var eventTimer,startX,startY,deltaX,deltaY,hasTouch="ontouchend"in window,moveDirection="undefined",mouseDown=!1;function addTouchEvents(t){hasTouch&&(t.addEventListener("touchstart",touch2Mouse,!0),t.addEventListener("touchmove",touch2Mouse,!0),t.addEventListener("touchend",touch2Mouse,!0))}function touch2Mouse(t){var e,n=t.changedTouches[0];switch(t.type){case"touchstart":e="mousedown";break;case"touchend":e="mouseup";break;case"touchmove":e="mousemove";break;default:return}"mousedown"==e&&(eventTimer=(new Date).getTime(),startX=n.clientX,startY=n.clientY,mouseDown=!0),"mouseup"==e&&((new Date).getTime()-eventTimer<=500?e="click":1e3<(new Date).getTime()-eventTimer&&(e="longclick"),eventTimer=0,mouseDown=!1),"mousemove"==e&&mouseDown&&(deltaX=n.clientX-startX,deltaY=n.clientY-startY,moveDirection=deltaY<deltaX?"horizontal":"vertical");var i=document.createEvent("MouseEvent");i.initMouseEvent(e,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(i),t.preventDefault()}!function(o){"use strict";o.widget("metro.accordion",{version:"3.0.0",options:{closeAny:!1,speed:"fast",onFrameOpen:function(t){return!0},onFrameOpened:function(t){},onFrameClose:function(t){return!0},onFrameClosed:function(t){}},init:function(){var n=this;this.element.on("click",".heading",function(t){var e=o(this).parent();if(e.hasClass("disabled"))return!1;e.hasClass("active")?n._closeFrame(e):n._openFrame(e),t.preventDefault(),t.stopPropagation()})},_closeAllFrames:function(){var t=this,e=this.element.children(".frame.active");o.each(e,function(){t._closeFrame(o(this))})},_openFrame:function(t){var e=this.options,n=t.children(".content");if("string"==typeof e.onFrameOpen){if(!window[e.onFrameOpen](t))return!1}else if(!e.onFrameOpen(t))return!1;e.closeAny&&this._closeAllFrames(),n.slideDown(e.speed),t.addClass("active"),"string"==typeof e.onFrameOpened?window[e.onFrameOpened](t):e.onFrameOpened(t)},_closeFrame:function(t){var e=this.options,n=t.children(".content");if("string"==typeof e.onFrameClose){if(!window[e.onFrameClose](t))return!1}else if(!e.onFrameClose(t))return!1;n.slideUp(e.speed,function(){t.removeClass("active")}),"string"==typeof e.onFrameClosed?window[e.onFrameClosed](t):e.onFrameClosed(t)},_create:function(){this.options;var t=this.element;this._setOptionsData(),this.init(),t.data("accordion",this)},_setOptionsData:function(){var i=this.options;o.each(this.element.data(),function(e,n){if(e in i)try{i[e]=o.parseJSON(n)}catch(t){i[e]=n}})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(c){"use strict";c.widget("metro.appbar",{version:"3.0.0",options:{flexstyle:"app-bar-menu",flexclean:!1,flextolerance:3},_create:function(){var t=this.element,i=this.options;c.each(t.data(),function(e,n){if(e in i)try{i[e]=c.parseJSON(n)}catch(t){i[e]=n}}),this._initBar(),t.data("appbar",this)},_calculateFreeSpace:function(){var t,e,n,i=this,o=(this.element,this.options,0);t=c(i.menusParent).width();for(var a=[],s=[],r=[],l=0,d=(e=c(i.menusParent).children(":visible").not(".app-bar-pullmenu")).length;l<d;l++)switch(c(e[l]).css("float")){case"left":a.push(e[l]);break;case"right":s.push(e[l]);break;default:r.push(e[l])}s.reverse(),e=new Array,e=a.concat(r,s),e=c(e),o+=parseInt(c(e).first().css("margin-left"));for(l=0,d=e.length-1;l<=d;l++)o+=c(e[l]).outerWidth(),l!==d&&(o+=Math.max(parseInt(c(e[l]).css("margin-right")),parseInt(c(e[l+1]).css("margin-left"))));return n=t-(o+=parseInt(c(e[d]).css("margin-right"))),i.freeSpace=n,i.childrenWidth=o,i.menusParentWidth=t,n},_originIndexMove:function(t,e){var n=c(t).children().filter(function(){return parseInt(c(this).attr("data-flexorderorigin"))<parseInt(c(e).attr("data-flexorderorigin"))});0<n.length?c(n).last().after(e):0<(n=c(t).children().filter(function(){return parseInt(c(this).attr("data-flexorderorigin"))>parseInt(c(e).attr("data-flexorderorigin"))})).length?c(n).first().before(e):c(t).append(e)},_moveMenuEntry:function(t){var e=this;this.element,this.options;if("toPullMenu"===(t=t||"toPullMenu")){var n=c(e.allMenuEntries).not(".app-bar-pullmenu-entry").last();if(0===n.length)return!1;var i=c(n).parent(),o=c(e.flexVisibles).index(c(n).parent()),a=c(e.pullMenu).find(".app-bar-pullmenubar").eq(o);return e._originIndexMove(a,n),c(n).addClass("app-bar-pullmenu-entry"),c(a).removeClass("hidden").show(),0===c(i).children().length&&c(i).addClass("hidden"),c(e.pullButton).show(),n}if("fromPullMenu"===t){var s=c(e.allMenuEntries).filter(".app-bar-pullmenu-entry").first();a=c(s).parent(),o=c(a).index(),i=c(e.flexVisibles).eq(o);return c(i).removeClass("hidden"),c(s).removeClass("app-bar-pullmenu-entry"),e._originIndexMove(i,s),0===c(a).children().length&&c(a).addClass("hidden").hide(),0===c(e.pullMenu).children(".app-bar-pullmenubar").not(".hidden").length&&(c(e.pullMenu).hide().addClass("hidden"),c(e.pullButton).hide()),0!==s.length&&s}},_checkMenuEntries:function(){for(var t=this,e=(this.element,this.options),n=!1,i=0,o=t.allMenuEntries.length;i<o;i++){if(t._calculateFreeSpace(),!(t.freeSpace<e.flextolerance||e.flexclean)){if(t._moveMenuEntry("fromPullMenu")){n=!0;continue}break}if(!t._moveMenuEntry("toPullMenu"))break;if(n)break}},resize:function(){this.element,this.options;this.initiatedAsFlex&&this._checkMenuEntries()},_initBar:function(){var t=this,e=this.element,n=this.options;t.lastFlexAction=void 0,t.pullButton=c(e).find(".app-bar-pullbutton");var i,o,a=c(e).find(".app-bar-menu");t.initiatedAsFlex=!1,n.flexclean=c(e).is("[data-flexclean='true']")||n.flexclean,n.flexstyle=c(e).attr("data-flexstyle")||n.flexstyle,t.flexVisibles=c(),t.allMenuEntries=c(),t.menusParent=c(),t.pullMenu=c(),0<a.length&&c(e).is(":not('.no-flexible')")&&(t.flexVisibles=c(a).not(".no-flexible"),0<t.flexVisibles.length&&(t.initiatedAsFlex=!0,t.flexVisibles.sort(function(t,e){return(parseInt(c(t).data("flexorder"))||c(t).index()+1)-(parseInt(c(e).data("flexorder"))||c(e).index()+1)}),c(t.flexVisibles).each(function(){o=c(i=this).children(),c(o).each(function(){c(this).attr("data-flexorderorigin",c(this).index()),c(this).is("[data-flexorder]")||c(this).attr("data-flexorder",c(this).index()+1)}),o.sort(function(t,e){return parseInt(c(t).data("flexorder"))-parseInt(c(e).data("flexorder"))}),c(i).is("[data-flexdirection='reverse']")&&o.reverse(),c.merge(t.allMenuEntries,c(o).not(".no-flexible"))}),t.menusParent=c(e).find(".app-bar-menu").first().parent(),0<t.pullButton.length||(t.pullButton=c('<div class="app-bar-pullbutton automatic"></div>'),c(t.menusParent).append(t.pullButton)),t.pullMenu=c('<nav class="app-bar-pullmenu hidden" />'),t.flexVisibles.each(function(){c(t.pullMenu).append(c('<ul class="app-bar-pullmenubar hidden '+n.flexstyle+'" />'))}),c(t.menusParent).append(c('<div class="clearfix" style="width: 0;">')),c(t.pullMenu).addClass("flexstyle-"+n.flexstyle),c(t.menusParent).append(t.pullMenu),t._checkMenuEntries(),c(t.pullButton).on("click",function(){t=c(this).closest("[data-role=appbar]").data("appbar"),c(t.pullMenu).is(":hidden")?(c(t.pullMenu).show(),c(t.pullMenu).find(".app-bar-pullmenubar").hide().not(".hidden").slideDown("fast")):c(t.pullMenu).find(".app-bar-pullmenubar").not(".hidden").show().slideUp("fast",function(){c(t.pullMenu).hide()})}),c(window).resize(function(){c("[data-role=appbar]:not(.no-flexible)").each(function(){c(this).data("appbar").resize()})}),c(window).load(function(){c("[data-role=appbar]:not(.no-flexible)").each(function(){c(this).data("appbar").resize()})}),c("[data-role=appbar]:not(.no-flexible) [src]").on("load",function(){c(this).closest("[data-role=appbar]").data("appbar").resize()})))},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(o){"use strict";o.widget("metro.group",{version:"3.0.0",options:{groupType:"one-state",buttonStyle:!1,onChange:function(t,e){return!0},onChanged:function(t,e){}},_create:function(){var t=this.element,i=this.options;o.each(t.data(),function(e,n){if(e in i)try{i[e]=o.parseJSON(n)}catch(t){i[e]=n}}),t.hasClass("group-of-buttons")||t.addClass("group-of-buttons");for(var e=t.find(".button, .toolbar-button"),n=0;n<e.length;n++)o(e[n]).data("index",n);!1!==i.buttonStyle&&e.addClass(i.buttonStyle),t.on("click",".button, .toolbar-button",function(){if("string"==typeof i.onChange){if(!window[i.onChange](o(this).data("index"),this))return!1}else if(!i.onChange(o(this).data("index"),this))return!1;"one-state"===i.groupType?(e.removeClass("active"),o(this).addClass("active")):o(this).toggleClass("active"),"string"==typeof i.onChanged?window[i.onChanged](o(this).data("index"),this):i.onChanged(o(this).data("index"),this)}),t.data("group",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),window.METRO_LOCALES={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa"],buttons:["Today","Clear","Cancel","Help","Prior","Next","Finish"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre","Jan","Fév","Mars","Avr","Mai","Juin","Juil","Août","Sept","Oct","Nov","Déc"],days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Di","Lu","Ma","Me","Je","Ve","Sa"],buttons:["Aujourd'hui","Effacer","Annuler","Aide","Précedent","Suivant","Fin"]},nl:{months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December","Jan","Feb","Mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zo","Ma","Di","Wo","Do","Vr","Za"],buttons:["Vandaag","Verwijderen","Annuleren","Hulp","Vorige","Volgende","Einde"]},ua:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень","Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],days:["Неділя","Понеділок","Вівторок","Середа","Четвер","П’ятниця","Субота","Нд","Пн","Вт","Ср","Чт","Пт","Сб"],buttons:["Сьогодні","Очистити","Скасувати","Допомога","Назад","Вперед","Готово"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь","Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Вс","Пн","Вт","Ср","Чт","Пт","Сб"],buttons:["Сегодня","Очистить","Отменить","Помощь","Назад","Вперед","Готово"]},zhCN:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月","一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","日","一","二","三","四","五","六"],buttons:["今日","清除","Cancel","Help","Prior","Next","Finish"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre","Gen"," Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato","Domenica","Lun","Mar","Mer","Gio","Ven","Sab","Dom"],buttons:["Oggi","Cancella","Cancel","Help","Prior","Next","Finish"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember","Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","So","Mo","Di","Mi","Do","Fr","Sa"],buttons:["Heute","Zurücksetzen","Abbrechen","Hilfe","Früher","Später","Fertig"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sept","Oct","Nov","Dic"],days:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Do","Lu","Mar","Mié","Jue","Vi","Sáb"],buttons:["Hoy","Limpiar","Cancel","Help","Prior","Next","Finish"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],days:["Domingo","Segunda-feira","Terça-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sabado","Dom","Seg","Ter","Qua","Qui","Sex","Sab"],buttons:["Hoje","Limpar","Cancelar","Ajuda","Anterior","Seguinte","Terminar"]},pl:{months:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień","Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],days:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota","Nd","Pon","Wt","Śr","Czw","Pt","Sob"],buttons:["Dzisiaj","Wyczyść","Anuluj","Pomoc","Poprzedni","Następny","Koniec"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec","Led","Ún","Bř","Dub","Kvě","Če","Čer","Srp","Zá","Ří","Li","Pro"],days:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota","Ne","Po","Út","St","Čt","Pá","So"],buttons:["Dnes","Vyčistit","Zrušit","Pomoc","Předešlý","Další","Dokončit"]}},function(b){"use strict";b.widget("metro.calendar",{version:"3.0.0",options:{format:"yyyy-mm-dd",multiSelect:!1,startMode:"day",weekStart:window.METRO_CALENDAR_WEEK_START,otherDays:!0,date:new Date,minDate:!1,maxDate:!1,preset:!1,exclude:!1,stored:!1,buttons:!0,buttonToday:!0,buttonClear:!0,locale:"en",actions:!0,condensedGrid:!1,getDates:function(t){},dayClick:function(t,e){}},_year:0,_month:0,_day:0,_today:new Date,_event:"",_mode:"day",_distance:0,_events:[],_create:function(){var t,e,n=this,i=this.element,o=this.options;b.each(i.data(),function(e,n){if(e in o)try{o[e]=b.parseJSON(n)}catch(t){o[e]=n}}),"string"==typeof o.date&&(o.date=new Date(o.date)),!1!==o.minDate&&"string"==typeof o.minDate&&(o.minDate=new Date(o.minDate+"T00:00:00Z")-864e5),!1!==o.maxDate&&"string"==typeof o.maxDate&&(o.maxDate=new Date(o.maxDate+"T00:00:00Z")),this.locales=window.METRO_LOCALES,this._year=o.date.getFullYear(),this._distance=o.date.getFullYear()-4,this._month=o.date.getMonth(),this._day=o.date.getDate(),this._mode=o.startMode,i.data("_storage",[]),i.data("_exclude",[]),i.data("_stored",[]),i.hasClass("calendar")||i.addClass("calendar"),o.preset&&(t=/\s*,\s*/,e=o.preset.split(t),b.each(e,function(){void 0!==new Date(this)&&n.setDate(this)})),o.exclude&&(t=/\s*,\s*/,e=o.exclude.split(t),b.each(e,function(){void 0!==new Date(this)&&n.setDateExclude(this)})),o.stored&&(t=/\s*,\s*/,e=o.stored.split(t),b.each(e,function(){void 0!==new Date(this)&&n.setDateStored(this)})),this._renderCalendar(),i.data("calendar",this)},_renderButtons:function(t){var e,n=this.options;if(this.options.buttons){var i=n.buttonToday?"<button class='button calendar-btn-today small-button success'>"+this.locales[n.locale].buttons[0]+"</button>":"",o=n.buttonClear?"<button class='button calendar-btn-clear small-button warning'>"+this.locales[n.locale].buttons[1]+"</button>":"";e=b("<div/>").addClass("calendar-row calendar-actions"),b("<div/>").addClass("align-center").html(i+o).appendTo(e),e.appendTo(t)}},_renderMonth:function(){var t=this.options,e=this._year,n=this._month,i=(this._day,this._event,28);1===n&&(e%100!=0&&e%4==0||e%400==0)&&(i=29);var o,a,s,r,l,d,c=["31",""+i,"31","30","31","30","31","31","30","31","30","31"],h=c[n],u=new Date(e,n,1).getDay();for(this.element.html(""),o=b("<div/>").addClass("calendar-grid"),t.condensedGrid&&o.addClass("condensed no-border"),a=b("<div/>").addClass("calendar-row no-margin"),b("<div/>").addClass("calendar-cell align-center").html("<a class='btn-previous-year' href='#'>-</a>").appendTo(a),b("<div/>").addClass("calendar-cell align-center").html("<a class='btn-previous-month' href='#'>&#12296;</a>").appendTo(a),b("<div/>").addClass("calendar-cell sel-month align-center").html("<a class='btn-select-month' href='#'>"+this.locales[t.locale].months[n]+" "+e+"</a>").appendTo(a),b("<div/>").addClass("calendar-cell align-center").html("<a class='btn-next-month' href='#'>&#12297;</a>").appendTo(a),b("<div/>").addClass("calendar-cell align-center").html("<a class='btn-next-year' href='#'>+</a>").appendTo(a),a.addClass("calendar-header").appendTo(o),a=b("<div/>").addClass("calendar-row week-days"),r=0;r<7;r++)t.weekStart?(7===(d=r+1)&&(d=0),s=b("<div/>").addClass("calendar-cell align-center day-of-week").appendTo(a),l=b("<div/>").html(this.locales[t.locale].days[d+7]).appendTo(s)):(s=b("<div/>").addClass("calendar-cell align-center day-of-week").appendTo(a),l=b("<div/>").html(this.locales[t.locale].days[r+7]).appendTo(s));a.addClass("calendar-subheader").appendTo(o);var p=this._month-1;p<0&&(p=11);var f=c[p],m=(t.weekStart?u+6:u)%7,v="";for(a=b("<div/>").addClass("calendar-row"),r=0;r<m;r++)t.otherDays&&(v=f-(m-r-1)),s=b("<div/>").addClass("calendar-cell empty").appendTo(a),l=b("<div/>").addClass("other-day").html(v).appendTo(s),t.otherDays||l.css("visibility","hidden");var _,g,w=(t.weekStart?u+6:u)%7;for(r=1;r<=h;r++)0===(w%=7)&&(a.appendTo(o),a=b("<div/>").addClass("calendar-row")),s=b("<div/>").addClass("calendar-cell align-center day"),l=b("<div/>").appendTo(s),!1!==t.minDate&&new Date(e,n,r)<t.minDate||!1!==t.maxDate&&new Date(e,n,r)>t.maxDate?(s.removeClass("day"),l.addClass("other-day"),g=r):g="<a href='#'>"+r+"</a>",l.html(g),e===this._today.getFullYear()&&n===this._today.getMonth()&&this._today.getDate()===r&&s.addClass("today"),_=new Date(this._year,this._month,r).format("yyyy-mm-dd"),0<=this.element.data("_storage").indexOf(_)&&s.find("a").parent().parent().addClass("selected"),0<=this.element.data("_exclude").indexOf(_)&&s.find("a").parent().parent().addClass("exclude"),0<=this.element.data("_stored").indexOf(_)&&s.find("a").parent().parent().addClass("stored"),s.appendTo(a),w++;var y="";for(r=w+1;r<=7;r++)t.otherDays&&(y=r-w),s=b("<div/>").addClass("calendar-cell empty").appendTo(a),l=b("<div/>").addClass("other-day").html(y).appendTo(s),t.otherDays||l.css("visibility","hidden");a.appendTo(o),this._renderButtons(o),o.appendTo(this.element)},_renderMonths:function(){var t,e,n,i,o;for(this.element.html(""),t=b("<div/>").addClass("calendar-grid"),this.options.condensedGrid&&t.addClass("condensed no-border"),e=b("<div/>").addClass("calendar-row"),b("<div/>").addClass("calendar-cell sel-minus align-center").html("<a class='btn-previous-year' href='#'>-</a>").appendTo(e),b("<div/>").addClass("calendar-cell sel-year align-center").html("<a class='btn-select-year' href='#'>"+this._year+"</a>").appendTo(e),b("<div/>").addClass("calendar-cell sel-plus align-center").html("<a class='btn-next-year' href='#'>+</a>").appendTo(e),e.addClass("calendar-header").appendTo(t),e=b("<div/>").addClass("calendar-row"),i=o=0;i<12;i++)n=b("<div/>").addClass("calendar-cell month-cell align-center month").html("<a href='#' data-month='"+i+"'>"+this.locales[this.options.locale].months[i+12]+"</a>"),this._month===i&&(new Date).getFullYear()===this._year&&n.addClass("today"),n.appendTo(e),(o+1)%4==0&&(e.appendTo(t),e=b("<div/>").addClass("calendar-row")),o+=1;this._renderButtons(t),t.appendTo(this.element)},_renderYears:function(){var t,e,n,i,o;for(this.element.html(""),t=b("<div/>").addClass("calendar-grid"),this.options.condensedGrid&&t.addClass("condensed no-border"),e=b("<div/>").addClass("calendar-row cells4"),b("<div/>").addClass("calendar-cell sel-minus align-center").html("<a class='btn-previous-year' href='#'>-</a>").appendTo(e),b("<div/>").addClass("calendar-cell sel-year align-center").html("<a class='btn-none-btn'>"+this._distance+"-"+(this._distance+11)+"</a>").appendTo(e),b("<div/>").addClass("calendar-cell sel-plus align-center").html("<a class='btn-next-year' href='#'>+</a>").appendTo(e),e.addClass("calendar-header").appendTo(t),e=b("<div/>").addClass("calendar-row"),o=0,i=this._distance;i<this._distance+12;i++)n=b("<div/>").addClass("calendar-cell year-cell align-center year").html("<a href='#' data-year='"+i+"'>"+i+"</a>"),(new Date).getFullYear()===i&&n.addClass("today"),n.appendTo(e),(o+1)%4==0&&(e.appendTo(t),e=b("<div/>").addClass("calendar-row")),o+=1;this._renderButtons(t),t.appendTo(this.element)},_renderCalendar:function(){switch(this._mode){case"year":this._renderYears();break;case"month":this._renderMonths();break;default:this._renderMonth()}this._initButtons()},_initButtons:function(){var i=this,o=this.options,a=this.element.find(".calendar-grid");"day"===this._mode?(a.find(".btn-select-month").on("click",function(t){t.preventDefault(),t.stopPropagation(),i._mode="month",i._renderCalendar()}),a.find(".btn-previous-month").on("click",function(t){i._event="eventPrevious",t.preventDefault(),t.stopPropagation(),i._month-=1,i._month<0&&(i._year-=1,i._month=11),i._renderCalendar()}),a.find(".btn-next-month").on("click",function(t){i._event="eventNext",t.preventDefault(),t.stopPropagation(),i._month+=1,12===i._month&&(i._year+=1,i._month=0),i._renderCalendar()}),a.find(".btn-previous-year").on("click",function(t){i._event="eventPrevious",t.preventDefault(),t.stopPropagation(),i._year-=1,i._renderCalendar()}),a.find(".btn-next-year").on("click",function(t){i._event="eventNext",t.preventDefault(),t.stopPropagation(),i._year+=1,i._renderCalendar()}),a.find(".day a").on("click",function(t){if(t.preventDefault(),t.stopPropagation(),b(this).parent().parent().hasClass("exclude"))return!1;var e=new Date(i._year,i._month,parseInt(b(this).html())).format(i.options.format,null),n=new Date(i._year,i._month,parseInt(b(this).html()));i.options.multiSelect?(b(this).parent().parent().toggleClass("selected"),b(this).parent().parent().hasClass("selected")?i._addDate(e):i._removeDate(e)):(a.find(".day a").parent().parent().removeClass("selected"),b(this).parent().parent().addClass("selected"),i.element.data("_storage",[]),i._addDate(e)),"string"==typeof o.dayClick?window[o.dayClick](e,n):o.dayClick(e,n)})):"month"===this._mode?(a.find(".month a").on("click",function(t){i._event="eventNext",t.preventDefault(),t.stopPropagation(),i._month=parseInt(b(this).data("month")),i._mode="day",i._renderCalendar()}),a.find(".btn-previous-year").on("click",function(t){i._event="eventPrevious",t.preventDefault(),t.stopPropagation(),i._year-=1,i._renderCalendar()}),a.find(".btn-next-year").on("click",function(t){i._event="eventNext",t.preventDefault(),t.stopPropagation(),i._year+=1,i._renderCalendar()}),a.find(".btn-select-year").on("click",function(t){i._event="eventNext",t.preventDefault(),t.stopPropagation(),i._mode="year",i._renderCalendar()})):(a.find(".year a").on("click",function(t){i._event="eventNext",t.preventDefault(),t.stopPropagation(),i._year=parseInt(b(this).data("year")),i._mode="month",i._renderCalendar()}),a.find(".btn-previous-year").on("click",function(t){i._event="eventPrevious",t.preventDefault(),t.stopPropagation(),i._distance-=10,i._renderCalendar()}),a.find(".btn-next-year").on("click",function(t){i._event="eventNext",t.preventDefault(),t.stopPropagation(),i._distance+=10,i._renderCalendar()})),a.find(".calendar-btn-today").on("click",function(t){t.preventDefault(),t.stopPropagation(),i._mode=i.options.startMode,i.options.date=new Date,i._year=i.options.date.getFullYear(),i._month=i.options.date.getMonth(),i._day=i.options.date.getDate(),i._renderCalendar()}),a.find(".calendar-btn-clear").on("click",function(t){t.preventDefault(),t.stopPropagation(),i.options.date=new Date,i._year=i.options.date.getFullYear(),i._month=i.options.date.getMonth(),i._day=i.options.date.getDate(),i.element.data("_storage",[]),i._renderCalendar()})},_addDate:function(t){this.element.data("_storage").indexOf(t)<0&&this.element.data("_storage").push(t)},_removeDate:function(t){var e=this.element.data("_storage").indexOf(t);this.element.data("_storage").splice(e,1)},_addDateExclude:function(t){this.element.data("_exclude").indexOf(t)<0&&this.element.data("_exclude").push(t)},_addDateStored:function(t){this.element.data("_stored").indexOf(t)<0&&this.element.data("_stored").push(t)},_removeDateExclude:function(t){var e=this.element.data("_exclude").indexOf(t);this.element.data("_exclude").splice(e,1)},_removeDateStored:function(t){var e=this.element.data("_stored").indexOf(t);this.element.data("_stored").splice(e,1)},setDate:function(t){var e;t=new Date(t),e=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()).format("yyyy-mm-dd"),this._addDate(e),this._renderCalendar()},setDateExclude:function(t){var e;t=new Date(t),e=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()).format("yyyy-mm-dd"),this._addDateExclude(e),this._renderCalendar()},setDateStored:function(t){var e;t=new Date(t),e=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()).format("yyyy-mm-dd"),this._addDateStored(e),this._renderCalendar()},getDate:function(t){return new Date(void 0!==t?this.element.data("_storage")[t]:this.element.data("_storage")[0]).format(this.options.format)},getDates:function(){return b.merge(b.merge([],this.element.data("_storage")),this.element.data("_stored")).unique()},unsetDate:function(t){var e;t=new Date(t),e=new Date(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()).format("yyyy-mm-dd"),this._removeDate(e),this._renderCalendar()},unsetDateExclude:function(t){var e;t=new Date(t),e=new Date(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()).format("yyyy-mm-dd"),this._removeDateExclude(e),this._renderCalendar()},unsetDateStored:function(t){var e;t=new Date(t),e=new Date(t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()).format("yyyy-mm-dd"),this._removeDateStored(e),this._renderCalendar()},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(s){"use strict";s.widget("metro.carousel",{version:"3.0.0",options:{auto:!0,period:5e3,duration:1e3,effect:"slide",effectFunc:"linear",direction:"left",controls:!0,controlNext:!1,controlPrev:!1,markers:!0,stop:!0,width:"100%",height:!1,_slides:{},_currentIndex:0,_interval:0,_outPosition:0,_animating:!1},_create:function(){var t=this,i=this.options,e=this.element;s.each(e.data(),function(e,n){if(e in i)try{i[e]=s.parseJSON(n)}catch(t){i[e]=n}}),i._slides=e.find(".slide");var n=0;s.each(i._slides,function(){var t;t=s(this).outerHeight(),n<t&&(n=t)}),e.find(".slide").hide(),e.find(".slide:nth-child(1)").show(),e.css({width:i.width,height:i.height?i.height:n}),i._slides.length<=1||(i.markers&&this._markers(),i.controls&&this._controls(),i.stop&&e.on("mouseenter",function(){clearInterval(i._interval)}).on("mouseleave",function(){t.options.auto&&t._autoStart()}),i.auto&&this._autoStart(),e.data("carousel",this))},_autoStart:function(){var t=this,e=this.options;e._interval=setInterval(function(){"left"===e.direction?t._slideTo("next"):t._slideTo("prior")},e.period)},_slideTo:function(t){var e,n=this.element,i=this.options,o=i._slides[i._currentIndex];switch(void 0===t&&(t="next"),"prior"===t?(i._currentIndex-=1,i._currentIndex<0&&(i._currentIndex=i._slides.length-1),i._outPosition=this.element.width()):"next"===t&&(i._currentIndex+=1,i._currentIndex>=i._slides.length&&(i._currentIndex=0),i._outPosition=-this.element.width()),e=i._slides[i._currentIndex],this.options.effect){case"switch":this._effectSwitch(o,e);break;case"slowdown":this._effectSlowdown(o,e,this.options.duration);break;case"fade":this._effectFade(o,e,this.options.duration);break;default:this._effectSlide(o,e,this.options.duration)}n.find(".carousel-bullets a").each(function(){s(this).data("num")===i._currentIndex?s(this).addClass("bullet-on"):s(this).removeClass("bullet-on")})},_slideToSlide:function(t){var e=this.options,n=e._slides[e._currentIndex],i=e._slides[t];switch(t>e._currentIndex?e._outPosition=-this.element.width():e._outPosition=this.element.width(),this.options.effect){case"switch":this._effectSwitch(n,i);break;case"slowdown":this._effectSlowdown(n,i);break;case"fade":this._effectFade(n,i);break;default:this._effectSlide(n,i)}e._currentIndex=t},_controls:function(){var t,e,n=this,i=this.element,o=this.options;t=s("<span/>").addClass("carousel-switch-next").html("&gt;"),e=s("<span/>").addClass("carousel-switch-prev").html("&lt;"),o.controlNext&&t.html(o.controlNext),o.controlPrev&&e.html(o.controlPrev),t.appendTo(i),e.appendTo(i),1<o._slides.length?(e.on("click",function(){!1===o._animating&&(n._slideTo("prior"),o._animating=!0,setTimeout(function(){o._animating=!1},o.duration))}),t.on("click",function(){!1===o._animating&&(n._slideTo("next"),o._animating=!0,setTimeout(function(){o._animating=!1},o.duration))})):(t.hide(),e.hide())},_markers:function(){var i,t,e,o=this,a=this.options;for(i=s('<div class="carousel-bullets" />'),e=0;e<a._slides.length;e++)t=s('<a class="carousel-bullet" href="javascript:void(0)" data-num="'+e+'"></a>'),0===e&&t.addClass("bullet-on"),t.appendTo(i);i.find("a").on("click",function(t){var e=s(this),n=e.data("num");if(i.find("a").removeClass("bullet-on"),e.addClass("bullet-on"),n===a._currentIndex)return!1;o._slideToSlide(n),t.preventDefault(),t.stopPropagation()}),i.appendTo(this.element)},_effectSwitch:function(t,e){s(t).hide(),s(e).css({left:0}).show(),this.element.css({height:s(e).outerHeight()})},_effectSlide:function(t,e){var n=this.options;s(t).animate({left:n._outPosition},n.duration,n.effectFunc),s(e).css("left",-1*n._outPosition).show(),this.element.css({height:s(e).outerHeight()}),s(e).animate({left:0},n.duration,n.effectFunc)},_effectSlowdown:function(t,e){var n=this.options,i={duration:n.duration,easing:"doubleSqrt"};s.easing.doubleSqrt=function(t){return Math.sqrt(Math.sqrt(t))},s(t).animate({left:n._outPosition},i),s(e).css("left",-1*n._outPosition).show(),this.element.css({height:s(e).outerHeight()}),s(e).animate({left:0},i)},_effectFade:function(t,e){var n=this.options;s(t).fadeOut(n.duration),s(e).css({left:0}).fadeIn(n.duration),this.element.css({height:s(e).outerHeight()})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(a){"use strict";a.widget("metro.countdown",{version:"3.0.0",options:{stop:!1,days:!1,hours:!1,minutes:!1,seconds:!1,backgroundColor:"bg-cyan",digitColor:"fg-white",dividerColor:"fg-dark",labelColor:"fg-grayLight",labels:{days:"days",hours:"hours",minutes:"mins",seconds:"secs"},onTick:function(t,e,n,i){},onStop:function(){}},_interval:0,_interval2:0,_alarmOn:void 0,_create:function(){var t=this.element,i=this.options;a.each(t.data(),function(e,n){if(e in i)try{i[e]=a.parseJSON(n)}catch(t){i[e]=n}}),this._alarmOn=new Date,!1!==i.stop&&(this._alarmOn=new Date(i.stop));!1!==i.days&&("object"==typeof this._alarmOn&&(this._alarmOn=this._alarmOn.getTime()),this._alarmOn=this._alarmOn+864e5*i.days),!1!==i.hours&&("object"==typeof this._alarmOn&&(this._alarmOn=this._alarmOn.getTime()),this._alarmOn=this._alarmOn+36e5*i.hours),!1!==i.minutes&&("object"==typeof this._alarmOn&&(this._alarmOn=this._alarmOn.getTime()),this._alarmOn=this._alarmOn+6e4*i.minutes),!1!==i.seconds&&("object"==typeof this._alarmOn&&(this._alarmOn=this._alarmOn.getTime()),this._alarmOn=this._alarmOn+1e3*i.seconds),this._createDigits(),t.find(".digit").text("0"),this._tick(),t.data("countdown",this)},_createDigits:function(){var e,n,i=this.element,o=this.options;["days","hours","minutes","seconds"].map(function(t){e=a("<div/>").addClass("part "+t).attr("data-day-text",o.labels[t]).appendTo(i),a("<div/>").addClass("digit").appendTo(e),a("<div/>").addClass("digit").appendTo(e),o.labelColor.isColor()?e.css({color:o.labelColor}):e.addClass(o.labelColor),o.backgroundColor.isColor()?e.find(".digit").css({background:o.backgroundColor}):e.find(".digit").addClass(o.backgroundColor),o.digitColor.isColor()?e.find(".digit").css({color:o.digitColor}):e.find(".digit").addClass(o.digitColor),"seconds"!==t&&(n=a("<div/>").addClass("divider").text(":").appendTo(i),o.dividerColor.isColor()?n.css({color:o.dividerColor}):n.addClass(o.dividerColor))})},_blink:function(){this.element.toggleClass("tick")},_tick:function(){var t,e,n,i,o,a=this,s=this.options,r=this.element;this._interval2=setInterval(function(){a._blink()},500),this._interval=setInterval(function(){(t=Math.floor((a._alarmOn-new Date)/1e3))<0&&(t=0),e=Math.floor(t/86400),t-=86400*e,a._update("days",e),0===e&&r.find(".part.days").addClass("disabled"),n=Math.floor(t/3600),t-=3600*n,a._update("hours",n),0===e&&0===n&&r.find(".part.hours").addClass("disabled"),i=Math.floor(t/60),t-=60*i,a._update("minutes",i),0===e&&0===n&&0===i&&r.find(".part.minutes").addClass("disabled"),o=t,a._update("seconds",o),"string"==typeof s.onTick?window[s.onTick](e,n,i,o):s.onTick(e,n,i,o),0===e&&0===n&&0===i&&0===o&&(r.find(".part").addClass("disabled"),"string"==typeof s.onStop?window[s.onStop]():s.onStop(),a._stop("all"),a._trigger("alarm"),clearInterval(a._interval))},1e3)},_update:function(t,e){var n,i,o=this.element,a=Math.floor(e/10)%10,s=e%10;n=o.find("."+t+" .digit:eq(0)"),i=o.find("."+t+" .digit:eq(1)"),s!==parseInt(i.text())&&(i.toggleClass("scaleIn"),setTimeout(function(){i.text(s).toggleClass("scaleIn")},500)),a!==parseInt(n.text())&&(n.toggleClass("scaleIn"),setTimeout(function(){n.text(a).toggleClass("scaleIn")},500))},_stop:function(){clearInterval(this._interval),clearInterval(this._interval2)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(o){"use strict";o.widget("metro.datatable",{version:"3.0.0",options:{},_create:function(){var t=this.element,i=this.options;if(o.each(t.data(),function(e,n){try{i[e]=o.parseJSON(n)}catch(t){i[e]=n}}),jQuery().dataTable)try{t.dataTable(i)}catch(t){}else alert("dataTable plugin required");t.data("datatable",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(a){"use strict";a.widget("metro.datepicker",{version:"3.0.0",options:{format:"yyyy.mm.dd",preset:!1,minDate:!1,maxDate:!1,effect:"fade",position:"bottom",locale:window.METRO_CURRENT_LOCALE,weekStart:window.METRO_CALENDAR_WEEK_START,otherDays:!1,exclude:!1,stored:!1,buttons:!1,buttonToday:!0,buttonClear:!0,condensedGrid:!1,selected:function(t,e){}},_calendar:void 0,_create:function(){var e=this,t=this.element,i=this.options,n=t.children("input"),o=t.children("button");a.each(t.data(),function(e,n){if(e in i)try{i[e]=a.parseJSON(n)}catch(t){i[e]=n}}),this._createCalendar(),n.attr("readonly",!0),o.attr("type","button"),o.on("click",function(t){t.stopPropagation(),"none"===e._calendar.css("display")?e._show():e._hide()}),t.on("click",function(t){t.stopPropagation(),"none"===e._calendar.css("display")?e._show():e._hide()}),a("html").on("click",function(){a(".calendar-dropdown").hide()}),t.data("datepicker",this)},_createCalendar:function(){var n,i=this,t=this.element,e=this.options;switch((n=a("<div/>").css({position:"absolute",display:"none","max-width":220,"z-index":1e3}).addClass("calendar calendar-dropdown").appendTo(t)).calendar({multiSelect:!1,format:e.format,buttons:!1,buttonToday:!1,buttonClear:!1,locale:e.locale,otherDays:e.otherDays,weekStart:e.weekStart,condensedGrid:e.condensedGrid,exclude:e.exclude,stored:e.stored,date:e.preset?e.preset:new Date,minDate:e.minDate,maxDate:e.maxDate,dayClick:function(t,e){n.calendar("setDate",e),i.element.children("input[type=text]").val(t),i.element.children("input[type=text]").trigger("change",e),i.element.children("input[type=text]").blur(),i.options.selected(t,e),i._hide()}}),!1!==e.preset&&(n.calendar("setDate",e.preset),t.find("input, .datepicker-output").val(n.calendar("getDate"))),this.options.position){case"top":n.css({top:0-n.height(),left:0});break;default:n.css({top:"100%",left:0})}this._calendar=n},_show:function(){"slide"===this.options.effect?(a(".calendar-dropdown").slideUp("fast"),this._calendar.slideDown("fast")):"fade"===this.options.effect?(a(".calendar-dropdown").fadeOut("fast"),this._calendar.fadeIn("fast")):(a(".calendar-dropdown").hide(),this._calendar.show())},_hide:function(){"slide"===this.options.effect?this._calendar.slideUp("fast"):"fade"===this.options.effect?this._calendar.fadeOut("fast"):this._calendar.hide()},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(o){"use strict";o.widget("metro.dialog",{version:"3.0.0",options:{modal:!1,overlay:!1,overlayColor:"default",type:"default",place:"center",position:"default",content:!1,hide:!1,width:"auto",height:"auto",background:"default",color:"default",closeButton:!1,windowsStyle:!1,_interval:void 0,_overlay:void 0,onDialogOpen:function(t){},onDialogClose:function(t){}},_create:function(){var t=this.element,i=this.options;o.each(t.data(),function(e,n){if(e in i)try{i[e]=o.parseJSON(n)}catch(t){i[e]=n}}),i.overlay&&this._createOverlay(),this._createDialog(),t.data("dialog",this)},_createOverlay:function(){this.element;var t=this.options,e=o("body").find(".dialog-overlay");0===e.length&&(e=o("<div/>").addClass("dialog-overlay")),t.overlayColor&&(t.overlayColor.isColor()?e.css({background:t.overlayColor}):e.addClass(t.overlayColor)),t._overlay=e},_createDialog:function(){var t=this,e=this.element,n=this.options;e.addClass("dialog"),"default"!==n.type&&e.addClass(n.type),n.windowsStyle&&(n.width="auto",e.css({left:0,right:0})),"default"!==n.background&&(n.background.isColor()?e.css({background:n.background}):e.addClass(n.background)),"default"!==n.color&&(n.color.isColor()?e.css({color:n.color}):e.addClass(n.color)),e.css({width:n.width,height:n.height}),n.closeButton&&o("<span/>").addClass("dialog-close-button").appendTo(e).on("click",function(){t.close()}),e.hide()},_setPosition:function(){var t=this.element,e=this.options,n=t.width(),i=t.height();t.css({left:!1===e.windowsStyle?(o(window).width()-n)/2:0,top:(o(window).height()-i)/2})},open:function(){var t=this,e=this.element,n=this.options;this._setPosition(),e.data("opened",!0),n.overlay&&n._overlay.appendTo("body").show(),e.fadeIn(),"string"==typeof n.onDialogOpen?window[n.onDialogOpen](e):n.onDialogOpen(e),n.hide&&0<parseInt(n.hide)&&(n._interval=setTimeout(function(){t.close()},parseInt(n.hide)))},close:function(){var t=this.element,e=this.options;clearInterval(e._interval),e.overlay&&o("body").find(".dialog-overlay").remove(),t.data("opened",!1),t.fadeOut(),"string"==typeof e.onDialogClose?window[e.onDialogClose](t):e.onDialogClose(t)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(r){"use strict";r.widget("metro.dropdown",{version:"3.0.0",options:{effect:window.METRO_SHOW_TYPE,toggleElement:!1,noClose:!1},_create:function(){var t,i=this,e=this.element,o=this.options,a=this.element,n=this.name,s=this.element.parent();r.each(e.data(),function(e,n){if(e in o)try{o[e]=r.parseJSON(n)}catch(t){o[e]=n}}),t=o.toggleElement?r(o.toggleElement):0<s.children(".dropdown-toggle").length?s.children(".dropdown-toggle"):s.children("a:nth-child(1)"),void 0!==METRO_SHOW_TYPE&&(this.options.effect=METRO_SHOW_TYPE),t.on("click."+n,function(t){if(s.siblings(s[0].tagName).removeClass("active-container"),r(".active-container").removeClass("active-container"),"block"!==a.css("display")||a.hasClass("keep-open")){if(r("[data-role=dropdown]").each(function(t,e){a.parents("[data-role=dropdown]").is(e)||r(e).hasClass("keep-open")||"block"!==r(e).css("display")||i._close(e)}),a.hasClass("horizontal")){a.css({visibility:"hidden",display:"block"});var e=r(a.children("li")[0]).outerWidth();a.css({visibility:"visible",display:"none"});var n=a.children("li").length*e+(a.children("li").length-1);a.css("width",n)}i._open(a),s.addClass("active-container")}else i._close(a);t.preventDefault(),t.stopPropagation()}),!0===o.noClose&&e.on("click",function(t){t.stopPropagation()}),r(a).find("li.disabled a").on("click",function(t){t.preventDefault()}),r(document).on("click",function(t){r("[data-role=dropdown]").each(function(t,e){r(e).hasClass("keep-open")||"block"!==r(e).css("display")||r(e).hide()})}),e.data("dropdown",this)},_open:function(t){switch(this.options.effect){case"fade":r(t).fadeIn("fast");break;case"slide":r(t).slideDown("fast");break;default:r(t).show()}this._trigger("onOpen",null,t)},_close:function(t){switch(this.options.effect){case"fade":r(t).fadeOut("fast");break;case"slide":r(t).slideUp("fast");break;default:r(t).hide()}this._trigger("onClose",null,t)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(d){"use strict";d.widget("metro.fitImage",{version:"3.0.0",options:{shadow:!1,overlay:!1,type:"default",frameColor:"default",format:"hd"},_create:function(){var t,e,n,i=this.element,o=this.options,a=i.parent(),s=i.attr("src");d.each(i.data(),function(e,n){if(e in o)try{o[e]=d.parseJSON(n)}catch(t){o[e]=n}}),d("<img/>").attr("src",s).load(function(){this.width,this.height}).remove();var r=d("<div/>").addClass("image-container").css("width","100%").appendTo(a),l=d("<div/>").addClass("frame").appendTo(r);switch(t=l.innerWidth(),e=l.innerHeight(),o.format){case"sd":e=3*t/4;break;case"square":case"cycle":e=t;break;case"fill-h":case"fill":e="100%",r.css("height","100%");break;default:e=9*t/16}if(n=d("<div/>").css({width:"100%",height:e,"background-image":"url("+s+")","background-size":"cover","background-repeat":"no-repeat","border-radius":"cycle"===o.format?"50%":"0"}),"default"!==o.frameColor&&(o.frameColor.isUrl()?l.css("background-color",o.frameColor):l.addClass(o.frameColor)),!1!==o.overlay)d("<div/>").addClass("image-overlay").html(o.overlay).appendTo(r);switch(!1!==o.shadow&&r.addClass("block-shadow"),n.appendTo(l),o.type){case"diamond":r.addClass("diamond"),n.addClass("image-replacer");break;case"bordered":r.addClass("bordered");break;case"polaroid":r.addClass("polaroid");break;case"handing":r.addClass("handing");break;case"handing-ani":r.addClass("handing ani");break;case"handing-ani-hover":r.addClass("handing ani-hover")}r.addClass("image-format-"+o.format),i.remove()},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(r){"use strict";r.widget("metro.hint",{version:"3.0.0",options:{hintPosition:"auto",hintBackground:"#FFFCC0",hintColor:"#000000",hintMaxSize:200,hintMode:"default",hintShadow:!1,_hint:void 0},_create:function(){var e=this,n=(this.element,this.options);this.element.on("mouseenter",function(t){r(".hint, .hint2").remove(),e.createHint(),n._hint.show(),t.preventDefault()}),this.element.on("mouseleave",function(t){n._hint.hide().remove(),t.preventDefault()})},createHint:function(){var t,e=this.element,n=e.data("hint").split("|"),i=this.options;if(r.each(e.data(),function(e,n){if(e in i)try{i[e]=r.parseJSON(n)}catch(t){i[e]=n}}),"TD"===e[0].tagName||"TH"===e[0].tagName){var o=r("<div/>").css("display","inline-block").html(e.html());e.html(o),e=o}var a=1<n.length&&n[0],s=1<n.length?n[1]:n[0];t=r("<div/>").appendTo("body"),2===i.hintMode?t.addClass("hint2"):t.addClass("hint"),a&&r("<div/>").addClass("hint-title").html(a).appendTo(t),r("<div/>").addClass("hint-text").html(s).appendTo(t),t.addClass(i.position),i.hintShadow&&t.addClass("shadow"),i.hintBackground&&(i.hintBackground.isColor()?t.css("background-color",i.hintBackground):t.addClass(i.hintBackground)),i.hintColor&&(i.hintColor.isColor()?t.css("color",i.hintColor):t.addClass(i.hintColor)),0<i.hintMaxSize&&t.css({"max-width":i.hintMaxSize}),"top"===i.hintPosition?(t.addClass("top"),t.css({top:e.offset().top-r(window).scrollTop()-t.outerHeight()-20,left:2===i.hintMode?e.offset().left+e.outerWidth()/2-t.outerWidth()/2-r(window).scrollLeft():e.offset().left-r(window).scrollLeft()})):"right"===i.hintPosition?(t.addClass("right"),t.css({top:2===i.hintMode?e.offset().top+e.outerHeight()/2-t.outerHeight()/2-r(window).scrollTop()-10:e.offset().top-10-r(window).scrollTop(),left:e.offset().left+e.outerWidth()+15-r(window).scrollLeft()})):"left"===i.hintPosition?(t.addClass("left"),t.css({top:2===i.hintMode?e.offset().top+e.outerHeight()/2-t.outerHeight()/2-r(window).scrollTop()-10:e.offset().top-10-r(window).scrollTop(),left:e.offset().left-t.outerWidth()-10-r(window).scrollLeft()})):(t.addClass("bottom"),t.css({top:e.offset().top-r(window).scrollTop()+e.outerHeight(),left:2===i.hintMode?e.offset().left+e.outerWidth()/2-t.outerWidth()/2-r(window).scrollLeft():e.offset().left-r(window).scrollLeft()})),i._hint=t},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(l){"use strict";l.widget("metro.input",{version:"3.0.0",options:{showLabelOnValue:!1},_create:function(){var t=this.element,i=this.options;l.each(t.data(),function(e,n){if(e in i)try{i[e]=l.parseJSON(n)}catch(t){i[e]=n}}),t.hasClass("file")&&this._createInputFile(),t.hasClass("text")&&this._createInputText(),t.hasClass("password")&&this._createInputText(),t.hasClass("select")&&this._createInputSelect(),t.hasClass("textarea")&&this._createInputTextarea(),t.hasClass("modern")&&this._createInputModern(),t.data("input",this)},_createInputModern:function(){var t=this.element,e=t.find("input"),n=t.find(".placeholder");e.on("blur",function(){""!==e.val()?n.css({display:"none"}):n.css({display:"block"})}),e.on("focus",function(){""!==e.val()?n.css({display:"none"}):n.css({display:"block"})})},_createInputFile:function(){var e,t,n,i=this.element;e=l("<input type='text' class='input-file-wrapper' readonly style='z-index: 1; cursor: default;'>"),t=i.children(".button"),(n=i.children('input[type="file"]')).css("z-index",0),e.insertAfter(n),n.attr("tabindex","-1"),t.attr("type","button"),e.attr("placeholder",n.attr("placeholder")),n.on("change",function(){var t=l(this).val();""!==t&&(e.val(t.replace(/.+[\\\/]/,"")),e.attr("title",t.replace(/.+[\\\/]/,"")))}),i.on("click",".button, .input-file-wrapper",function(){n.trigger("click")})},_createInputText:function(){var t=this.element,e=t.find(".helper-button.clear"),n=t.find(".helper-button.reveal"),i=t.find("input"),o=t.find(".helper-button"),a=t.find(".button"),s=t.find(".input-state-error, .input-state-warning, .input-state-info, .input-state-success, .input-state-required"),r=0;l.each(a,function(){var t=l(this);r+=t.outerWidth()}),i.css({"padding-right":r+5}),s.css({right:r+8}),o.attr("tabindex",-1).attr("type","button"),e&&e.on("click",function(){i.val("").trigger("change").focus()}),n&&t.hasClass("password")&&n.on("mousedown",function(){i.attr("type","text")}).on("mouseup",function(){i.attr("type","password").focus()})},_createInputSelect:function(){},_createInputTextarea:function(){},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(a){"use strict";a.widget("metro.keypad",{version:"3.0.0",options:{target:!1,shuffle:!1,length:!1,keys:["1","2","3","4","5","6","7","8","9","0"]},_create:function(){var t=this.element,i=this.options;a.each(t.data(),function(e,n){if(e in i)try{i[e]=a.parseJSON(n)}catch(t){i[e]=n}}),"string"==typeof i.keys&&(i.keys=i.keys.split(",")),this._createKeypad(),t.data("keypad",this)},_shuffleKeys:function(e){this.element;var t=this.options,n=t.keys.slice(0),i=(e=this._keypad,n.length+2);t.shuffle&&(n=n.shuffle()),e.html("").css({width:i/4*32+2*(i/4+1)+2}),n.map(function(t){a("<div/>").addClass("key").html(t).data("key",t).appendTo(e)}),a("<div/>").addClass("key").html("&larr;").data("key","&larr;").appendTo(e),a("<div/>").addClass("key").html("&times;").data("key","&times;").appendTo(e)},_createKeypad:function(){var n,i=this,t=this.element,o=this.options;t.hasClass("input-control")?(n=a("<div/>").addClass("keypad keypad-dropdown").css({position:"absolute","z-index":1e3,display:"none"}).appendTo(t),o.target=t.find("input"),t.on("click",function(t){"none"===n.css("display")?n.show():n.hide();var e=a(".keypad.keypad-dropdown");a.each(e,function(){a(this).is(n)||a(this).hide()}),t.stopPropagation()}),a("html").on("click",function(){a(".keypad.keypad-dropdown").hide()})):(n=t).addClass("keypad"),!1!==o.target&&a(o.target).attr("readonly",!0),"dropdown"===n.parent().data("role")&&n.parent().css({top:"100%"}),this._keypad=n,this._shuffleKeys(),n.on("click",".key",function(t){var e=a(this);if(o.target)if("&larr;"!==e.data("key")&&"&times;"!==e.data("key")){if(o.length&&a(o.target).val().length===o.length)return!1;a(o.target).val(a(o.target).val()+""+e.data("key"))}else if("&times;"===e.data("key")&&a(o.target).val(""),"&larr;"===e.data("key")){var n=a(o.target).val();a(o.target).val(n.substring(0,n.length-1))}o.shuffle&&i._shuffleKeys(),t.preventDefault(),t.stopPropagation()})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(o){"use strict";o.widget("metro.listview",{version:"3.0.0",options:{onExpand:function(t){},onCollapse:function(t){},onActivate:function(t){}},_create:function(){var t=this.element,i=this.options;o.each(t.data(),function(e,n){if(e in i)try{i[e]=o.parseJSON(n)}catch(t){i[e]=n}}),this._initList(),this._createEvents(),t.data("listview",this)},_initList:function(){var t=this.element,e=(this.options,t.find(".list-group"));o.each(e,function(){var t=o(this);t.hasClass("collapsed")&&t.find(".list-group-content").hide()})},_createEvents:function(){var n=this.element,i=this.options;n.on("click",".list-group-toggle",function(t){var e=o(this),n=e.parent();e.parent().hasClass("keep-open")||(n.toggleClass("collapsed"),n.hasClass("collapsed")?(e.siblings(".list-group-content").slideUp("fast"),"string"==typeof i.onCollapse?window[i.onCollapse](n):i.onCollapse(n)):(e.siblings(".list-group-content").slideDown("fast"),"string"==typeof i.onExpand?window[i.onExpand](n):i.onExpand(n)),t.preventDefault(),t.stopPropagation())}),n.on("click",".list",function(t){var e=o(this);n.find(".list").removeClass("active"),e.addClass("active"),"string"==typeof i.onActivate?window[i.onActivate](e):i.onActivate(e),t.preventDefault(),t.stopPropagation()})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(i){"use strict";var n=!1,o=[],e={_container:null,_notify:null,_timer:null,version:"3.0.0",options:{icon:"",caption:"",content:"",shadow:!0,width:"auto",height:"auto",style:!1,position:"right",timeout:3e3,keepOpen:!1,type:"default"},init:function(t){return this.options=i.extend({},this.options,t),this._build(),this},_build:function(){var t=this,e=this.options;if(this._container=n||i("<div/>").addClass("notify-container").appendTo("body"),n=this._container,""===e.content||void 0===e.content)return!1;if(this._notify=i("<div/>").addClass("notify"),"default"!==e.type&&this._notify.addClass(e.type),e.shadow&&this._notify.addClass("shadow"),e.style&&void 0!==e.style.background&&this._notify.css("background-color",e.style.background),e.style&&void 0!==e.style.color&&this._notify.css("color",e.style.color),""!==e.icon)i(e.icon).addClass("notify-icon").appendTo(this._notify);""!==e.caption&&void 0!==e.caption&&i("<div/>").addClass("notify-title").html(e.caption).appendTo(this._notify),""!==e.content&&void 0!==e.content&&i("<div/>").addClass("notify-text").html(e.content).appendTo(this._notify),i("<span/>").addClass("notify-closer").appendTo(this._notify).on("click",function(){t.close(0)}),"auto"!==e.width&&this._notify.css("min-width",e.width),"auto"!==e.height&&this._notify.css("min-height",e.height),this._notify.hide().appendTo(this._container).fadeIn("slow"),o.push(this._notify),e.keepOpen||this.close(e.timeout)},close:function(t){var e=this;return void 0===t?this._hide():(setTimeout(function(){e._hide()},t),this)},_hide:function(){var t=this;return void 0!==this._notify&&(this._notify.fadeOut("slow",function(){i(this).remove(),o.splice(o.indexOf(t._notify),1)}),this)},closeAll:function(){return o.forEach(function(t){t.hide("slow",function(){t.remove(),o.splice(o.indexOf(t),1)})}),this}};i.Notify=function(t){return Object.create(e).init(t)},i.Notify.show=function(t,e,n){return i.Notify({content:t,caption:e,icon:n})}}(jQuery),function(o){"use strict";o.widget("metro.panel",{version:"3.0.0",options:{},_create:function(){var t=this.element,i=this.options;if(o.each(t.data(),function(e,n){if(e in i)try{i[e]=o.parseJSON(n)}catch(t){i[e]=n}}),t.hasClass("collapsible")||t.addClass("collapsible"),t.hasClass("collapsible")){var e=t.children(".heading"),n=t.children(".content");e.on("click",function(){t.hasClass("collapsed")?n.slideDown("fast",function(){t.removeClass("collapsed")}):n.slideUp("fast",function(){t.addClass("collapsed")})})}t.data("panel",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(o){"use strict";o.widget("metro.widget",{version:"3.0.0",options:{someValue:null},_create:function(){var t=this.element,i=this.options;o.each(t.data(),function(e,n){if(e in i)try{i[e]=o.parseJSON(n)}catch(t){i[e]=n}}),t.data("widget",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(a){"use strict";a.widget("metro.popover",{version:"3.0.0",options:{popoverText:"",popoverTimeout:3e3,popoverPosition:"top",popoverBackground:"bg-cyan",popoverColor:"fg-white",popoverMode:"none",popoverShadow:!0},popover:{},_create:function(){var t=this.element;this.createPopover(),t.data("popover",this)},createPopover:function(){var t,e,n,i=this,o=this.options;switch(t=this.element,a.each(t.data(),function(e,n){if(e in o)try{o[e]=a.parseJSON(n)}catch(t){o[e]=n}}),e=a("<div/>").addClass("popover").appendTo("body").hide(),a("<div/>").appendTo(e),o.popoverShadow&&e.addClass("popover-shadow"),o.popoverBackground&&("#"===o.popoverBackground[0]?e.css("background-color",o.popoverBackground):e.addClass(o.popoverBackground)),o.popoverColor&&("#"===o.popoverColor[0]?e.css("color",o.popoverColor):e.addClass(o.popoverColor)),o.popoverPosition){case"left":n="marker-on-right";break;case"right":n="marker-on-left";break;case"bottom":n="marker-on-top";break;default:n="marker-on-bottom"}e.css({position:"fixed"}),e.addClass(n),this.popover=e,this.setText(o.popoverText),t.on(o.popoverMode,function(t){e.data("visible")||i.show()}),a(window).scroll(function(){i.popover.data("visible")&&i.setPosition()})},setPosition:function(){var t=this.options,e=this.popover,n=this.element;return"top"===t.popoverPosition?e.css({top:n.offset().top-a(window).scrollTop()-e.outerHeight()-10,left:n.offset().left+n.outerWidth()/2-e.outerWidth()/2-a(window).scrollLeft()}):"bottom"===t.popoverPosition?e.css({top:n.offset().top-a(window).scrollTop()+n.outerHeight()+10,left:n.offset().left+n.outerWidth()/2-e.outerWidth()/2-a(window).scrollLeft()}):"right"===t.popoverPosition?e.css({top:n.offset().top+n.outerHeight()/2-e.outerHeight()/2-a(window).scrollTop(),left:n.offset().left+n.outerWidth()-a(window).scrollLeft()+10}):"left"===t.popoverPosition&&e.css({top:n.offset().top+n.outerHeight()/2-e.outerHeight()/2-a(window).scrollTop(),left:n.offset().left-e.outerWidth()-a(window).scrollLeft()-10}),this},setText:function(t){this.popover.children("div").html(t)},show:function(){var t=this.options,e=this.popover;this.setPosition(),e.fadeIn(function(){e.data("visible",!0),setTimeout(function(){e.fadeOut(function(){e.data("visible",!1)})},t.popoverTimeout)})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(o){"use strict";o.widget("metro.preloader",{version:"3.0.0",options:{type:"ring",style:"light"},_create:function(){var t=this.element,i=this.options;o.each(t.data(),function(e,n){if(e in i)try{i[e]=o.parseJSON(n)}catch(t){i[e]=n}}),this._createStructure(),t.data("preloader",this)},_createRing:function(){var t,e,n=this.element;this.options;for(t=0;t<5;t++)e=o("<div/>").addClass("wrap").appendTo(n),o("<div/>").addClass("circle").appendTo(e)},_createMetro:function(){var t,e=this.element;this.options;for(t=0;t<5;t++)o("<div/>").addClass("circle").appendTo(e)},_createStructure:function(){var t=this.element,e=this.options;switch(t.addClass("preloader-"+e.type),"light"!==e.style&&t.addClass(e.style+"-style"),t.html(""),e.type){case"ring":this._createRing();break;case"metro":this._createMetro()}},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(h){"use strict";h.widget("metro.presenter",{version:"3.0.0",options:{height:"200",width:"100%",effect:"random",duration:1e3,timeout:2e3,sceneTimeout:2e3,easing:"swing"},_acts:void 0,_currentAct:0,_actDone:!0,_interval:void 0,_effects:["top","bottom","left","right"],_actor_positions:[],_create:function(){var t=this.element,i=this.options;h.each(t.data(),function(e,n){if(e in i)try{i[e]=h.parseJSON(n)}catch(t){i[e]=n}}),this._createPresenter(),this._showScene(),t.data("presenter",this)},_createPresenter:function(){var t=this.element,e=this.options,n=t.find(".act");n.hide(),this._acts=n,t.css({height:e.height,width:e.width})},_showScene:function(){var t=this;this.element,this.options;this._interval=setInterval(function(){t._actDone&&(t._currentAct++,t._currentAct==t._acts.length&&(t._currentAct=0),t._showAct())},500)},_closeAct:function(){var t=this,e=(this.element,this.options),n=this._currentAct;setTimeout(function(){void 0!==t._acts[n]&&h(t._acts[n]).fadeOut(1e3,function(){t._actDone=!0})},e.sceneTimeout)},_showAct:function(){var s,r=this,l=this.element,d=this.options,t=h(this._acts[this._currentAct]),c=t.find(".actor");this._actDone=!1,t.fadeIn(1e3),c.css({opacity:0,position:"absolute",display:"none"}),s=0,h.each(c,function(){var t,e,n,i,o=h(this),a={top:o.data("position").split(",")[0],left:o.data("position").split(",")[1]};"random"===(t=void 0!==o.data("effect")?o.data("effect"):d.effect)&&(t=r._effects[Math.floor(Math.random()*r._effects.length)]),e=void 0!==o.data("duration")?o.data("duration"):d.duration,n=void 0!==o.data("timeout")?o.data("timeout"):d.timeout,i=void 0!==o.data("easing")?o.data("easing"):d.easing,"top"===t?setTimeout(function(){o.css({top:-l.height(),left:a.left,display:"block"}).animate({top:a.top,left:a.left,opacity:1},e,i,function(){o[0]==c[c.length-1]&&r._closeAct()})},s*n):"bottom"===t?setTimeout(function(){o.css({top:l.height(),left:a.left,display:"block"}).animate({top:a.top,left:a.left,opacity:1},e,i,function(){o[0]==c[c.length-1]&&r._closeAct()})},s*n):"left"===t?setTimeout(function(){o.css({left:-l.width(),top:a.top,display:"block"}).animate({top:a.top,left:a.left,opacity:1},e,i,function(){o[0]==c[c.length-1]&&r._closeAct()})},s*n):"right"===t?setTimeout(function(){o.css({left:l.width(),top:a.top,display:"block"}).animate({top:a.top,left:a.left,opacity:1},e,i,function(){o[0]==c[c.length-1]&&r._closeAct()})},s*n):setTimeout(function(){o.css({top:a.top,left:a.left,display:"block"}).animate({top:a.top,left:a.left,opacity:1},e,"swing",function(){o[0]==c[c.length-1]&&r._closeAct()})},s*n),s++})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(s){"use strict";s.widget("metro.progressBar",{version:"3.0.0",options:{color:"default",colors:!1,value:0},colorsDim:{},_create:function(){var n=this,t=this.element,i=this.options,e=t.children(".bar:last-child");if(s.each(t.data(),function(e,n){if(e in i)try{i[e]=s.parseJSON(n)}catch(t){i[e]=n}}),0===e.length&&(e=s("<div/>").addClass("bar").appendTo(t)),i.colors){var o=0;s.each(i.colors,function(t,e){n.colorsDim[t]=[o,e],o=e+1})}this.progress(i.value),this.color(i.color),t.data("progressBar",this)},color:function(t){var e=this.element,n=this.options,i=e.children(".bar:last-child");/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)?i.css({"background-color":t}):i.removeClass(function(t,e){return(e.match(/(^|\s)bg-\S+/g)||[]).join(" ")}).addClass(t),n.color=t},progress:function(n){if(void 0===n)return this.options.value;var t=this.element,e=this.options,i=this.colorsDim,o=t.children(".bar:last-child"),a=this;parseInt(n)<0||(e.colors&&s.each(i,function(t,e){if(n>=e[0]&&n<=e[1])return a.color(t),!0}),e.value=n,o.animate({width:e.value+"%"},100))},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(a){"use strict";a.widget("metro.rating",{version:"3.0.0",options:{stars:5,value:0,half:!0,static:!1,showScore:!0,scoreTitle:"Current: ",size:"default",colorRate:!1,onRate:function(t,e,n){return!0},onRated:function(t,e,n){}},_value:0,_values:[],_create:function(){var t=this.element,i=this.options;a.each(t.data(),function(e,n){if(e in i)try{i[e]=a.parseJSON(n)}catch(t){i[e]=n}}),this._value=parseFloat(i.value),this._values[0]=Math.ceil(1*i.stars/3),this._values[1]=Math.ceil(2*i.stars/3),this._values[2]=i.stars,this._createRating(),this._createEvents(),this._setValue(this._value),this._setScore(this._value),t.data("rating",this)},_createRating:function(){var t,e=this.element,n=this.options;switch(e.hasClass("rating")||e.addClass("rating"),n.size){case"small":e.addClass("small");break;case"large":e.addClass("large")}for(n.static&&e.addClass("static"),t=0;t<n.stars;t++)a("<span/>").addClass("star").appendTo(e).data("star-value",t+1);n.showScore&&a("<span/>").addClass("score").appendTo(e)},_createEvents:function(){var e=this,n=this.element,i=this.options;n.find(".star").on("click",function(t){if(i.static||n.hasClass("static")||n.data("static"))return!1;if("string"==typeof i.onRate){if(!window[i.onRate](a(this).data("star-value"),this,e))return!1}else if(!i.onRate(a(this).data("star-value"),this,e))return!1;"string"==typeof i.onRated?window[i.onRated](a(this).data("star-value"),this,e):i.onRated(a(this).data("star-value"),this,e),e._value=a(this).data("star-value"),e._setValue(),e._setScore(),t.preventDefault(),t.stopPropagation()})},_setValue:function(){var t,e=this.options,n=this.element;if(e.stars){t=n.find(".star").removeClass("on half");var i=Math.floor(this._value)-1,o=0<10*(this._value-Math.floor(this._value));a(t[i]).addClass("on"),a(t[i]).prevAll().addClass("on"),o&&a(t[i]).next().addClass("on half")}e.colorRate&&(n.removeClass("poor regular good"),this._value<=this._values[0]?n.addClass("poor"):this._value>this._values[0]&&this._value<=this._values[1]?n.addClass("regular"):this._value>this._values[1]&&n.addClass("good"))},_setScore:function(){var t=this._value,e=this.element,n=this.options;void 0!==t&&e.find(".score").html(n.scoreTitle+t)},value:function(t){if(void 0===t)return this._value;this._value=t,this._setValue(),this._setScore()},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(o){"use strict";o.widget("metro.select",{version:"3.0.0",options:{},_create:function(){var t=this.element,i=this.options;if(o.each(t.data(),function(e,n){try{i[e]=o.parseJSON(n)}catch(t){i[e]=n}}),["templateResult","templateSelection","matcher","initSelection","query"].map(function(t,e){void 0!==i[t]&&(i[t]=window[i[t]])}),void 0!==i.dropdownParent&&(i.dropdownParent=o(i.dropdownParent)),jQuery().select2)try{t.find("select").select2(i)}catch(t){}else alert("Select2 plugin required");t.data("select",this)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(p){"use strict";p.widget("metro.slider",{version:"3.0.0",options:{position:0,accuracy:0,color:"default",completeColor:"default",markerColor:"default",colors:!1,showHint:!1,permanentHint:!1,hintPosition:"top",vertical:!1,min:0,max:100,animate:!0,minValue:0,maxValue:100,currValue:0,returnType:"value",target:!1,onChange:function(t,e){},onChanged:function(t,e){},_slider:{vertical:!1,offset:0,length:0,marker:0,ppp:0,start:0,stop:0}},_create:function(){var e=this,t=this.element,i=this.options,n=i._slider;p.each(t.data(),function(e,n){if(e in i)try{i[e]=p.parseJSON(n)}catch(t){i[e]=n}}),i.accuracy=i.accuracy<0?0:i.accuracy,i.min=i.min<0?0:i.min,i.min=i.min>i.max?i.max:i.min,i.max=100<i.max?100:i.max,i.max=i.max<i.min?i.min:i.max,i.position=this._correctValue(t.data("position")>i.min?t.data("position")>i.max?i.max:t.data("position"):i.min),i.colors=!!i.colors&&i.colors.split(","),n.vertical=i.vertical,i.vertical&&!t.hasClass("vertical")&&t.addClass("vertical"),i.permanentHint&&!t.hasClass("permanent-hint")&&t.addClass("permanent-hint"),i.vertical||"bottom"!==i.hintPosition||t.addClass("hint-bottom"),i.vertical&&"left"===i.hintPosition&&t.addClass("hint-left"),this._createSlider(),this._initPoints(),this._placeMarker(i.position),addTouchEvents(t[0]),t.children(".marker").on("mousedown",function(t){t.preventDefault(),e._startMoveMarker(t)}),t.on("mousedown",function(t){t.preventDefault(),e._startMoveMarker(t)}),t.data("slider",this)},_startMoveMarker:function(t){var e,n=this.element,i=this.options,o=this,a=n.children(".slider-hint");p(n).on("mousemove",function(t){o._movingMarker(t),n.hasClass("permanent-hint")||a.css("display","block")}),p(n).on("mouseup mouseleave",function(){p(n).off("mousemove"),p(n).off("mouseup"),n.data("value",i.position),n.trigger("changed",i.position),e="value"===i.returnType?o._valueToRealValue(i.position):i.position,"string"==typeof i.onChanged?window[i.onChanged](e,n):i.onChanged(e,n),n.hasClass("permanent-hint")||a.css("display","none")}),this._initPoints(),this._movingMarker(t)},_movingMarker:function(t){var e,n,i,o=this.element,a=this.options,s=a._slider.vertical,r=a._slider.offset,l=a._slider.start,d=a._slider.stop,c=a._slider.length,h=a._slider.marker;(e=s?t.pageY-r:t.pageX-r)<l?e=l:d<e&&(e=d),i=s?c-e-h/2:e-h/2,n=this._pixToPerc(i),this._placeMarker(n),a.currValue=this._valueToRealValue(n),a.position=n;var u="value"===a.returnType?this._valueToRealValue(a.position):a.position;a.target&&p(a.target).val(u),"string"==typeof a.onChange?window[a.onChange](u,o):a.onChange(u,o)},_placeMarker:function(t){var e,n,i,o,a,s=this.options,r=0,l=this.element,d=this.element.children(".marker"),c=this.element.children(".complete"),h=this.element.children(".slider-hint"),u=this._percToPix(s.position);if(i=s.colors.length,o=s._slider.length/i,s._slider.vertical){var p=this._percToPix(s.position)+s._slider.marker,f=s._slider.length-p;e=this._percToPix(t)+s._slider.marker,n=s._slider.length-e,this._animate(d.css("top",f),{top:n}),this._animate(c.css("height",p),{height:e}),i&&(r=Math.round(e/o)-1,c.css("background-color",s.colors[r<0?0:r])),s.showHint&&(a=this._valueToRealValue(t),h.html(a).css("top",n-h.height()/2+(l.hasClass("large")?8:0)))}else e=this._percToPix(t),this._animate(d.css("left",u),{left:e}),this._animate(c.css("width",u),{width:e}),i&&(r=Math.round(e/o)-1,c.css("background-color",s.colors[r<0?0:r])),s.showHint&&(a=this._valueToRealValue(t),h.html(a).css({left:e-h.width()/2+(l.hasClass("large")?6:0)}))},_valueToRealValue:function(t){var e,n=this.options;return e=t*((n.maxValue-n.minValue)/100)+n.minValue,Math.round(e)},_animate:function(t,e){this.options.animate?t.stop(!0).animate(e):t.css(e)},_pixToPerc:function(t){var e;return e=t*this.options._slider.ppp,Math.round(this._correctValue(e))},_percToPix:function(t){return 0===this.options._slider.ppp?0:Math.round(t/this.options._slider.ppp)},_correctValue:function(t){var e=this.options,n=e.accuracy,i=e.max,o=e.min;return 0===n?t:t===i?i:t===o?o:i<(t=Math.floor(t/n)*n+Math.round(t%n/n)*n)?i:t<o?o:t},_initPoints:function(){var t=this.options,e=t._slider,n=this.element;e.vertical?(e.offset=n.offset().top,e.length=n.height(),e.marker=n.children(".marker").height()):(e.offset=n.offset().left,e.length=n.width(),e.marker=n.children(".marker").width()),e.ppp=t.max/(e.length-e.marker),e.start=e.marker/2,e.stop=e.length-e.marker/2},_createSlider:function(){var t,e,n=this.element,i=this.options;n.html(""),t=p("<div/>").addClass("complete").appendTo(n),e=p("<a/>").addClass("marker").appendTo(n),i.showHint&&p("<span/>").addClass("slider-hint").appendTo(n),"default"!==i.color&&(i.color.isColor()?n.css("background-color",i.color):n.addClass(i.color)),"default"!==i.completeColor&&(i.completeColor.isColor()?t.css("background-color",i.completeColor):t.addClass(i.completeColor)),"default"!==i.markerColor&&(i.markerColor.isColor()?e.css("background-color",i.markerColor):e.addClass(i.markerColor))},value:function(t){var e,n=this.options;return void 0!==t?(t=(t=t>n.max?n.max:t)<n.min?n.min:t,this._placeMarker(parseInt(t)),n.position=parseInt(t),e="value"===n.returnType?this._valueToRealValue(n.position):n.position,"string"==typeof n.onChange?window[n.onChange](e,this.element):n.onChange(e,this.element),this):e="value"===n.returnType?this._valueToRealValue(n.position):n.position},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(s){"use strict";s.widget("metro.stepper",{version:"3.0.0",options:{steps:3,start:1,type:"default",clickable:!0,onStep:function(t,e){},onStepClick:function(t,e){}},_create:function(){var t=this.element,i=this.options,e=t.attr("id");s.each(t.data(),function(e,n){if(e in i)try{i[e]=s.parseJSON(n)}catch(t){i[e]=n}}),t.hasClass("stepper")||t.addClass("stepper"),void 0===e&&(e=window.uniqueId(this.widgetName+"_"),t.attr("id",e)),this._createStepper(),i.clickable&&this._createEvents(),this._positioningSteps(),this._stepTo(i.start),t.data("stepper",this)},_createEvents:function(){var n=this.element,i=this.options;n.on("click","li",function(t){var e=s(this).data("step");"string"==typeof i.onStepClick?window[i.onStepClick](e-1,e):i.onStepClick(e-1,e),n.trigger("stepclick",e)})},_createStepper:function(){var t,e,n=this.element,i=this.options;switch(e=s("<ul/>"),i.type){case"diamond":n.addClass("diamond");break;case"cycle":n.addClass("cycle")}for(t=0;t<i.steps;t++)s("<li/>").data("step",t+1).appendTo(e);e.appendTo(n)},_positioningSteps:function(){var t=this.element,e=(this.options,t.find("li")),i=t.width(),o=e.length-1,a=s(e[0]).width();s.each(e,function(t,e){var n=0===t?0:(i-a)/o*t;s(e).animate({left:n})})},_stepTo:function(n){var t=this.element,i=this.options,e=t.find("li");e.removeClass("current").removeClass("complete"),s.each(e,function(t,e){t<n-1&&s(e).addClass("complete"),t===n-1&&(s(e).addClass("current"),"string"==typeof i.onStep?window[i.onStep](t+1,e):i.onStep(t+1,e))})},stepTo:function(t){this._stepTo(t)},first:function(){var t=this.options;t.start=1,this._stepTo(t.start)},last:function(){var t=this.element,e=this.options,n=t.find("li");e.start=n.length,this._stepTo(e.start)},next:function(){var t=this.element,e=this.options,n=t.find("li");e.start+1>n.length||(e.start++,this._stepTo(e.start))},prior:function(){var t=this.options;t.start-1!=0&&(t.start--,this._stepTo(t.start))},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(_){_.widget("metro.streamer",{version:"3.0.0",options:{scrollBar:!1,meterStart:9,meterStop:19,meterInterval:20,slideToTime:"default",slideSleep:1e3,slideSpeed:1e3,onClick:function(t){},onLongClick:function(t){}},_create:function(){var n=this.element,i=this.options,o=n.find(".stream"),a=n.find(".event"),s=n.find(".events"),t=n.find(".events-area"),e=n.find(".event-group"),r=n.find(".event-stream");_.each(n.data(),function(e,n){if(e in i)try{i[e]=_.parseJSON(n)}catch(t){i[e]=n}}),n.data("streamSelect",-1);var l,d,c,h=_("<ul/>").addClass("meter"),u=i.meterStart,p=i.meterStop,f=i.meterInterval,m=[];for(l=u;l<p;l++)for(d=0;d<60;d+=f)c=(l<10?"0"+l:l)+":"+(d<10?"0"+d:d),_("<li/>").addClass("js-interval-"+c.replace(":","-")).html("<em>"+c+"</em>").appendTo(h),m.push(c);n.data("intervals",m),h.insertBefore(n.find(".events-grid")),n.find(".event-stream").each(function(t,e){var n=0,i=_(e).find(".event");i.each(function(t,e){n+=_(e).outerWidth()+parseInt(_(e).css("margin-left"))}),_(e).css({width:n+2*(i.length-1)+1}),_(e).find(".time").css("background-color",_(o[t]).css("background-color"))}),s.css({"overflow-x":i.scrollBar?"scroll":"hidden"}),n.css({height:n.find(".streams").outerHeight()+(i.scrollBar?20:0)});var v=0;e.each(function(t,e){v+=_(e).outerWidth()}),v+=2*(e.length-1)+10,t.css("width",v),a.each(function(t,e){addTouchEvents(e)}),n.mousewheel(function(t,e){var n=50*e;return s.scrollLeft(s.scrollLeft()-n),!1}),o.each(function(e,t){_(t).mousedown(function(t){n.data("streamSelect")==e?(a.removeClass("event-disable"),n.data("streamSelect",-1)):(n.data("streamSelect",e),a.addClass("event-disable"),_(r[e]).find(".event").removeClass("event-disable"))})}),this._createEvents(),this.slideToTime(i.slideToTime,i.slideSleep,i.slideSpeed),n.data("streamer",this)},_createEvents:function(){var i=this,o=this.element,a=this.options;o.find(".event").on("click",function(t){t.ctrlKey&&_(this).toggleClass("selected"),t.preventDefault(),a.onClick(_(this))}),o.find(".js-go-previous-time").on("click",function(t){var e=o.data("intervals").indexOf(o.data("current-time"));if(0!=e){e--;var n=o.data("intervals")[e];i.slideToTime(n,0,a.slideSpeed)}}),o.find(".js-go-next-time").on("click",function(t){var e=o.data("intervals").indexOf(o.data("current-time"));if(e!=o.data("intervals").length-1){e++;var n=o.data("intervals")[e];i.slideToTime(n,0,a.slideSpeed)}}),o.find(".js-show-all-streams").on("click",function(t){o.find(".event").removeClass("event-disable"),o.data("streamSelect",-1),t.preventDefault()}),o.find(".js-schedule-mode").on("click",function(t){_(this).toggleClass("active"),o.data("schedule-mode",_(this).hasClass("inverse")),t.preventDefault()})},slideToTime:function(t,e,n){var i,o=this,a=this.element;"default"===t?t=(i=a.find(".meter li")[0]).className.replace("js-interval-","").replace("-",":"):1===t.split(":")[0].length&&(t="0"+t),i=a.find(".meter li.js-interval-"+t.replace(":","-"))[0],setTimeout(function(){a.find(".events").animate({scrollLeft:i.offsetLeft},n,function(){o._afterSlide()})},e),a.data("current-time",t)},_afterSlide:function(){},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(l){"use strict";l.widget("metro.tabControl",{version:"3.0.0",options:{openTarget:!1,saveState:!1,onTabClick:function(t){return!0},onTabChanged:function(t){},_current:{tab:!1,frame:!1}},_create:function(){var t,e,n,i=this.element,a=this.options,o=i.children(".tabs").find("li").children("a");i.children(".frames").children("div");if(l.each(i.data(),function(e,n){if(e in a)try{a[e]=l.parseJSON(n)}catch(t){a[e]=n}}),a.saveState&&void 0!==i.attr("id")&&""!==i.attr("id").trim()){var s=window.localStorage.getItem(i.attr("id")+"-stored-tab");s&&"undefined"!==s&&(t=i.find("a[href='"+s+"']"))&&(n=(!(e=t.attr("href"))||!e.isUrl())&&l(e),a._current.tab=t,a._current.frame=n)}if(a._current.tab||!1===a.openTarget||(t=i.find("a[href='"+a.openTarget+"']"))&&(n=(!(e=t.attr("href"))||!e.isUrl())&&l(e),a._current.tab=t,a._current.frame=n),a._current.tab||l.each(o,function(t,e){var n=l(e),i=n.attr("href"),o=!i.isUrl()&&l(i);n.parent().hasClass("active")&&!n.parent().hasClass("disabled")&&!1!==o&&(a._current.tab=n,a._current.frame=o)}),!a._current.tab)for(var r=0;r<o.length;r++)if(!l(o[r]).attr("href").isUrl()&&!l(o[r]).parent().hasClass("disabled")){a._current.tab=l(o[r]),a._current.frame=l(l(o[r]).attr("href"));break}this._createEvents(),this._openTab(),i.data("tabControl",this)},_hideTabs:function(){var t=this.element,e=t.outerWidth(),n=t.children(".tabs").find("li:not(.non-visible-tabs)"),i=t.children(".tabs").find(".non-visible-tabs").children(".d-menu");l.each(n,function(){var t=l(this);this.offsetLeft+this.offsetWidth+30>e&&(t.clone(!0).appendTo(i),t.remove())})},_openTab:function(){var t=this.element,e=this.options,n=t.children(".tabs").find("li").children("a"),i=t.children(".frames").children("div");n.parent().removeClass("active"),i.hide(),e._current.tab.parent().addClass("active"),e._current.frame.show(),e.saveState&&void 0!==t.attr("id")&&""!==t.attr("id").trim()&&window.localStorage.setItem(t.attr("id")+"-stored-tab",e._current.tab.attr("href"))},_createEvents:function(){var o=this,t=this.element,a=this.options;t.children(".tabs").find("li").children("a"),t.children(".frames").children("div");t.on("click",".tabs > li > a",function(t){var e=l(this),n=e.attr("href"),i=l(n);if(e.parent().hasClass("disabled"))return!1;if("string"==typeof a.onTabClick){if(!window[a.onTabClick](e))return!1}else if(!a.onTabClick(e))return!1;if(n.isUrl())return window.location.href=n,!0;a._current.tab=e,a._current.frame=i,o._openTab(),"string"==typeof a.onTabChanged?window[a.onTabChanged](e):a.onTabChanged(e),t.preventDefault(),t.stopPropagation()})},hideTab:function(t){},showTab:function(t){},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(r){"use strict";r.widget("metro.tile",{version:"3.0.0",options:{effect:"slideLeft",period:4e3,duration:700,easing:"doubleSqrt"},_frames:{},_currentIndex:0,_interval:0,_outPosition:0,_size:{},_create:function(){var t=this.element,i=this.options;r.each(t.data(),function(e,n){if(e in i)try{i[e]=r.parseJSON(n)}catch(t){i[e]=n}}),this._createTransformTile(),this._createLiveTile(),t.data("tile",this)},_createLiveTile:function(){var t=this,e=this.element;this.options;if(this._frames=e.find(".live-slide"),this._frames.length<=1)return!1;r.easing.doubleSqrt=function(t){return Math.sqrt(Math.sqrt(t))},this._size={width:e.width(),height:e.height()},e.on("mouseenter",function(){t.stop()}),e.on("mouseleave",function(){t.start()}),this.start()},start:function(){var t=this;this._interval=setInterval(function(){t._animate()},this.options.period)},stop:function(){clearInterval(this._interval)},_animate:function(){var t,e=this._frames[this._currentIndex];switch(this._currentIndex+=1,this._currentIndex>=this._frames.length&&(this._currentIndex=0),t=this._frames[this._currentIndex],this.options.effect){case"slideLeft":this._effectSlideLeft(e,t);break;case"slideRight":this._effectSlideRight(e,t);break;case"slideDown":this._effectSlideDown(e,t);break;case"slideUpDown":this._effectSlideUpDown(e,t);break;case"slideLeftRight":this._effectSlideLeftRight(e,t);break;default:this._effectSlideUp(e,t)}},_effectSlideLeftRight:function(t,e){this._currentIndex%2==0?this._effectSlideLeft(t,e):this._effectSlideRight(t,e)},_effectSlideUpDown:function(t,e){this._currentIndex%2==0?this._effectSlideUp(t,e):this._effectSlideDown(t,e)},_effectSlideUp:function(t,e){var n=this._size.height,i={duration:this.options.duration,easing:this.options.easing};r(t).animate({top:-n},i),r(e).css({top:n}).show().animate({top:0},i)},_effectSlideDown:function(t,e){var n=this._size.height,i={duration:this.options.duration,easing:this.options.easing};r(t).animate({top:n},i),r(e).css({top:-n}).show().animate({top:0},i)},_effectSlideLeft:function(t,e){var n=this._size.width,i={duration:this.options.duration,easing:this.options.easing};r(t).animate({left:-1*n},i),r(e).css({left:n}).show().animate({left:0},i)},_effectSlideRight:function(t,e){var n=this._size.width,i={duration:this.options.duration,easing:this.options.easing};r(t).animate({left:n},i),r(e).css({left:-n}).show().animate({left:0},i)},_createTransformTile:function(){var o=this.element,a=(this.options,o.width()),s=o.height();o.on("mousedown",function(t){var e=t.pageX-r(this).offset().left,n=t.pageY-r(this).offset().top,i="top";e<1*a/3&&(n<1*s/2||1*s/2<n)?i="left":2*a/3<e&&(n<1*s/2||1*s/2<n)?i="right":1*a/3<e&&e<2*a/3&&s/2<n&&(i="bottom"),r(this).addClass("tile-transform-"+i),"A"===o[0].tagName&&o.attr("href")&&setTimeout(function(){document.location.href=o.attr("href")},500)}),o.on("mouseup",function(){r(this).removeClass("tile-transform-left").removeClass("tile-transform-right").removeClass("tile-transform-top").removeClass("tile-transform-bottom")}),o.on("mouseleave",function(){r(this).removeClass("tile-transform-left").removeClass("tile-transform-right").removeClass("tile-transform-top").removeClass("tile-transform-bottom")})},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(l){"use strict";l.widget("metro.treeview",{version:"3.0.0",options:{doubleClick:!0,onClick:function(t,e,n,i){},onExpand:function(t,e,n,i){},onCollapse:function(t,e,n,i){}},_create:function(){var t=this.element,i=this.options;l.each(t.data(),function(e,n){if(e in i)try{i[e]=l.parseJSON(n)}catch(t){i[e]=n}}),this._initTree(),this._createEvents(),t.data("treeview",this)},_createCheckbox:function(t,e){var n,i;n=l("<label/>").addClass("input-control checkbox small-check").insertBefore(t),i=l("<input/>").attr("type","checkbox").appendTo(n),l("<span/>").addClass("check").appendTo(n),void 0!==e.data("name")&&i.attr("name",e.data("name")),void 0!==e.data("id")&&i.attr("id",e.data("id")),void 0!==e.data("checked")&&i.prop("checked",e.data("checked")),void 0!==e.data("readonly")&&i.prop("disabled",e.data("readonly")),void 0!==e.data("disabled")&&(i.prop("disabled",e.data("disabled")),!0===e.data("disabled")&&e.addClass("disabled")),void 0!==e.data("value")&&i.val(e.data("value"))},_createRadio:function(t,e){var n,i;n=l("<label/>").addClass("input-control radio small-check").insertBefore(t),i=l("<input/>").attr("type","radio").appendTo(n),l("<span/>").addClass("check").appendTo(n),void 0!==e.data("name")&&i.attr("name",e.data("name")),void 0!==e.data("id")&&i.attr("id",e.data("id")),void 0!==e.data("checked")&&i.prop("checked",e.data("checked")),void 0!==e.data("readonly")&&i.prop("disabled",e.data("readonly")),void 0!==e.data("disabled")&&(i.prop("disabled",e.data("disabled")),!0===e.data("disabled")&&e.addClass("disabled")),void 0!==e.data("value")&&i.val(e.data("value"))},_initTree:function(){var i=this,t=this.element,e=(this.options,t.find(".leaf"));l.each(e,function(){var t=l(this),e=t.parent("li"),n=t.siblings("ul");l(t.parents(".node")[0]);"checkbox"===e.data("mode")&&i._createCheckbox(t,e),"radio"===e.data("mode")&&i._createRadio(t,e),0<n.length&&(e.hasClass("node")||e.addClass("node")),e.hasClass("collapsed")&&n.hide()})},_renderChecks:function(t){var e=this.element,n=(this.options,t.is(":checked"));l(t.parent().parent()).children("ul").find('[type="checkbox"]').prop("checked",n).removeClass("indeterminate"),l.each(e.find(".node[data-mode=checkbox]").reverse(),function(){var t=l(this),e=t.children(".input-control").find('[type="checkbox"]'),n=t.children("ul").find('[type="checkbox"]'),i=t.children("ul").find('[type="checkbox"]:checked');e.removeClass("indeterminate"),0===i.length?(e.prop("checked",!1),e.removeClass("indeterminate")):0<i.length&&n.length>i.length&&(e.prop("checked",!0),e.addClass("indeterminate"))})},_createEvents:function(){var s=this,i=this.element,r=this.options;i.on("change","input:checkbox",function(){s._renderChecks(l(this))}),i.on("click","input",function(){var t,e=l(this),n=l(e.parents(".node")[0]),i=e.parent("li"),o=e.siblings(".input-control").find("input:checkbox"),a=e.siblings(".input-control").find("input:radio");0<o.length&&(t=!o.is(":checked"),o.is(":disabled")||o.prop("checked",t),s._renderChecks(o)),0<a.length&&(a.is(":disabled")||a.prop("checked",!0)),"string"==typeof r.onClick?window[r.onClick](e,i,n,s):r.onClick(e,i,n,s)}),i.on("click",".leaf",function(){var t=l(this),e=l(t.parents(".node")[0]),n=t.parent("li");i.find(".leaf").parent("li").removeClass("active"),n.addClass("active"),"string"==typeof r.onClick?window[r.onClick](t,n,e,s):r.onClick(t,n,e,s)}),r.doubleClick&&i.on("dblclick",".leaf",function(t){var e=l(this),n=e.parent("li"),i=l(e.parents(".node")[0]);if(n.hasClass("keep-open"))return!1;n.toggleClass("collapsed"),n.hasClass("collapsed")?(n.children("ul").fadeOut("fast"),"string"==typeof r.onCollapse?window[r.onCollapse](e,n,i,s):r.onCollapse(e,n,i,s)):(n.children("ul").fadeIn("fast"),"string"==typeof r.onExpand?window[r.onExpand](n,e,i):r.onExpand(n,e,i)),t.stopPropagation(),t.preventDefault()}),i.on("click",".node-toggle",function(t){var e=l(this).siblings(".leaf"),n=l(this).parent("li"),i=l(e.parents(".node")[0]);if(n.hasClass("keep-open"))return!1;n.toggleClass("collapsed"),n.hasClass("collapsed")?(n.children("ul").fadeOut("fast"),"string"==typeof r.onCollapse?window[r.onCollapse](e,n,i,s):r.onCollapse(e,n,i,s)):(n.children("ul").fadeIn("fast"),"string"==typeof r.onExpand?window[r.onExpand](e,n,i,s):r.onExpand(e,n,i,s)),t.stopPropagation(),t.preventDefault()})},addLeaf:function(t,e,n){var i,o,a,s=this.element;if(t&&("LI"===t[0].tagName&&t.addClass("node"),0===t.children(".node-toggle").length&&l("<span/>").addClass("node-toggle").appendTo(t)),0===(a=t?l(t).children("ul"):s.children("ul")).length&&(a=l("<ul/>").appendTo(t||s)),o=l("<li/>").appendTo(a),(i=void 0!==n&&void 0!==n.tagName?l("<"+n.tagName+"/>").addClass("leaf").appendTo(o):l("<span/>").addClass("leaf").appendTo(o)).html(e),void 0!==n&&(l.each(n,function(t,e){o.attr("data-"+t,e)}),void 0!==n.mode))switch(n.mode){case"checkbox":this._createCheckbox(i,o);break;case"radio":this._createRadio(i,o)}return this},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(c){"use strict";c.widget("metro.validator",{version:"1.0.0",options:{showErrorState:!0,showErrorHint:!0,showRequiredState:!0,showSuccessState:!0,hintSize:0,hintBackground:"#FFFCC0",hintColor:"#000000",hideError:2e3,hideHint:5e3,hintEasing:"easeInQuad",hintEasingTime:400,hintMode:"hint",hintPosition:"right",focusInput:!0,onBeforeSubmit:function(t,e){return!0},onErrorInput:function(t){},onSubmit:function(t){return!0}},_scroll:0,funcs:{required:function(t){return""!==t.trim()},minlength:function(t,e){return!(null==e||isNaN(e)||e<=0)&&t.trim().length>=e},maxlength:function(t,e){return!(null==e||isNaN(e)||e<=0)&&t.trim().length<=e},min:function(t,e){return null!=e&&!isNaN(e)&&(""!==t.trim()&&(!isNaN(t)&&e<=t))},max:function(t,e){return null!=e&&!isNaN(e)&&(""!==t.trim()&&(!isNaN(t)&&t<=e))},email:function(t){return/^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i.test(t)},url:function(t){return/^(?:[a-z]+:)?\/\//i.test(t)},date:function(t){return!("Invalid Date"===new Date(t)||isNaN(new Date(t)))},number:function(t){return t-0==t&&0<(""+t).trim().length},digits:function(t){return/^\d+$/.test(t)},hexcolor:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},pattern:function(t,e){return null!=e&&new RegExp(e).test(t)}},_create:function(){var t=this.element,i=this.options;c.each(t.data(),function(e,n){if(e in i)try{i[e]=c.parseJSON(n)}catch(t){i[e]=n}}),"line"!==i.hintMode&&(i.hintMode="hint2"),this._scroll=c(window).scrollTop(),this._createValidator(),t.data("validator",this)},_createValidator:function(){var t=this,e=this.element,n=this.options,i=e.find("[data-validate-func]");e.attr("novalidate","novalidate"),n.showRequiredState&&c.each(i,function(){var t=c(this);t.parent().hasClass("input-control")?t.parent().addClass("required"):t.addClass("required")}),i.on("focus",function(){}),c(window).scroll(function(t){var e=c(this).scrollTop(),n=isNaN(e-this._scroll)?0:e-this._scroll;c(".validator-hint.hint2").css({top:"-="+n}),this._scroll=e}),e[0].onsubmit?(this._onsubmit=e[0].onsubmit,e[0].onsubmit=null):this._onsubmit=null,e[0].onsubmit=function(){return t._submit()}},_submit:function(){var s=this,t=this.element,r=this.options,e=t.find("[data-validate-func]"),n=t.find(":submit").attr("disabled","disabled").addClass("disabled"),l=0;return c(".validator-hint").hide(),e.removeClass("error success"),c.each(e,function(t,e){var n=c(e);n.parent().hasClass("input-control")&&n.parent().removeClass("error success")}),c.each(e,function(t,e){var n=c(e),i=n.data("validateFunc"),o=n.data("validateArg"),a=s.funcs[i](n.val(),o);a||("string"==typeof r.onErrorInput?window[r.onErrorInput](n):r.onErrorInput(n)),!a&&r.showErrorState&&s._showError(n),!a&&r.showErrorHint&&setTimeout(function(){s._showErrorHint(n)},100*t),a&&r.showSuccessState&&s._showSuccess(n),!a&&0==t&&r.focusInput&&n.focus(),l+=a?0:1}),"string"==typeof r.onBeforeSubmit?l+=window[r.onBeforeSubmit](t,l)?0:1:l+=r.onBeforeSubmit(t,l)?0:1,0!==l?(n.removeAttr("disabled").removeClass("disabled"),!1):(l="string"==typeof r.onSubmit?window[r.onSubmit](t[0]):l=r.onSubmit(t[0]),n.removeAttr("disabled").removeClass("disabled"),l)},_showSuccess:function(t){t.parent().hasClass("input-control")?t.parent().addClass("success"):t.addClass("success")},_showError:function(t){var e=this.options;t.parent().hasClass("input-control")?t.parent().addClass("error"):t.addClass("error"),e.hideError&&0<e.hideError&&setTimeout(function(){t.parent().removeClass("error")},e.hideError)},_showErrorHint:function(t){var e,n,i,o=this.options,a=t.data("validateHint"),s=t.data("validateHintPosition")||o.hintPosition,r=t.data("validateHintMode")||o.hintMode,l=t.data("validateHintBackground")||o.hintBackground,d=t.data("validateHintColor")||o.hintColor;if(void 0===a)return!1;(e=c("<div/>").addClass(r+" validator-hint")).html(void 0!==a?this._format(a,t.val()):""),e.css({"min-width":o.hintSize}),l.isColor()?e.css("background-color",l):e.addClass(l),d.isColor()?e.css("color",d):e.addClass(d),"line"===r?(e.addClass("hint2").addClass("line"),e.css({position:"relative",width:t.parent().hasClass("input-control")?t.parent().width():t.width(),"z-index":100}),e.appendTo(t.parent()),e.fadeIn(o.hintEasingTime,function(){setTimeout(function(){e.hide().remove()},o.hideHint)})):(e.appendTo("body"),"right"===s?(i=t.offset().left+t.outerWidth()+15-c(window).scrollLeft(),n=t.offset().top+t.outerHeight()/2-e.outerHeight()/2-c(window).scrollTop()-10,e.addClass(s),e.css({top:n,left:c(window).width()+100}),e.show().animate({left:i},o.hintEasingTime,o.hintEasing,function(){setTimeout(function(){e.hide().remove()},o.hideHint)})):"left"===s?(i=t.offset().left-e.outerWidth()-10-c(window).scrollLeft(),n=t.offset().top+t.outerHeight()/2-e.outerHeight()/2-c(window).scrollTop()-10,e.addClass(s),e.css({top:n,left:-t.offset().left-e.outerWidth()-10}),e.show().animate({left:i},o.hintEasingTime,o.hintEasing,function(){setTimeout(function(){e.hide().remove()},o.hideHint)})):"top"===s?(i=t.offset().left+t.outerWidth()/2-e.outerWidth()/2-c(window).scrollLeft(),n=t.offset().top-c(window).scrollTop()-e.outerHeight()-20,e.addClass(s),e.css({top:-e.outerHeight(),left:i}).show().animate({top:n},o.hintEasingTime,o.hintEasing,function(){setTimeout(function(){e.hide().remove()},o.hideHint)})):(i=t.offset().left+t.outerWidth()/2-e.outerWidth()/2-c(window).scrollLeft(),n=t.offset().top-c(window).scrollTop()+t.outerHeight(),e.addClass(s),e.css({top:c(window).height(),left:i}).show().animate({top:n},o.hintEasingTime,o.hintEasing,function(){setTimeout(function(){e.hide().remove()},o.hideHint)})))},_format:function(n,t){return 1===arguments.length?function(){var t=c.makeArray(arguments);return t.unshift(n),c.validator.format.apply(this,t)}:(2<arguments.length&&t.constructor!==Array&&(t=c.makeArray(arguments).slice(1)),t.constructor!==Array&&(t=[t]),c.each(t,function(t,e){n=n.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})}),n)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(u){"use strict";u.widget("metro.window",{version:"3.0.0",options:{parent:"default",captionStyle:!1,contentStyle:!1,buttons:{btnMin:!1,btnMax:!1,btnClose:!1},title:!1,content:!1,icon:!1,type:"default",size:!1,onBtnMinClick:function(t){t.preventDefault()},onBtnMaxClick:function(t){t.preventDefault()},onBtnCloseClick:function(t){t.preventDefault()},onShow:function(t){t.preventDefault()},onHide:function(t){t.preventDefault()}},_create:function(){var t=this.element,i=this.options;u.each(t.data(),function(e,n){if(e in i)try{i[e]=u.parseJSON(n)}catch(t){i[e]=n}}),this._createWindow(),t.data("window",this)},_createWindow:function(){var n,i,t=this.element,e=this.options,o=t;o.addClass("window"),n=u("<div/>").addClass("window-caption"),i=u("<div/>").addClass("window-content"),(e.icon||e.title)&&n.appendTo(o),i.appendTo(o),"object"==typeof e.size&&u.each(e.size,function(t,e){i.css(t,e)}),e.captionStyle&&"object"==typeof e.captionStyle&&u.each(e.captionStyle,function(t,e){e.isColor()?n.css(t,e+" !important"):n.addClass(e)}),e.contentStyle&&"object"==typeof e.contentStyle&&u.each(e.contentStyle,function(t,e){e.isColor()?i.css(t,e+" !important"):i.addClass(e)}),o.appendTo("default"!==e.parent?e.parent:t.parent()),this.icon(),this.title(),this.buttons(),this.content()},icon:function(){var t=this.options,e=this.element.children(".window-caption"),n=e.find(".window-caption-icon");t.icon&&(0===n.length?u("<span/>").addClass("window-caption-icon").html(t.icon).appendTo(e):n.html(t.icon))},title:function(){var t=this.options,e=this.element.children(".window-caption"),n=e.find(".window-caption-title");t.title&&(0===n.length?u("<span/>").addClass("window-caption-title").html(t.title).appendTo(e):n.html(t.title))},buttons:function(){var t,n,i,o=this.options,a=this.element.children(".window-caption");if(0!==a.length&&o.buttons){var s=o.buttons.btnMin,r=o.buttons.btnMax,l=o.buttons.btnClose;if(s&&!1!==s)if(t=u("<span/>").addClass("btn-min").appendTo(a),"object"==typeof s&&t.css(s),"string"==typeof o.onBtnMinClick){var d=window[o.onBtnMinClick];t.on("click",d)}else t.on("click",o.onBtnMinClick(e));if(r&&!1!==r)if(n=u("<span/>").addClass("btn-max").appendTo(a),"object"==typeof r&&n.css(r),"string"==typeof o.onBtnMaxClick){var c=window[o.onBtnMaxClick];n.on("click",c)}else n.on("click",o.onBtnMaxClick(e));if(l&&!1!==l)if(i=u("<span/>").addClass("btn-close").appendTo(a),"object"==typeof l&&i.css(l),"string"==typeof o.onBtnCloseClick){var h=window[o.onBtnCloseClick];i.on("click",h)}else i.on("click",o.onBtnCloseClick(e))}},content:function(){var t=this.options.content,e=this.element.children(".window-content");if(t)if(t.isUrl()){if(-1<t.indexOf("youtube")){var n=u("<iframe>"),i=u("<div/>").addClass("video-container").appendTo(e);n.attr("src",t).attr("frameborder","0"),n.appendTo(i)}}else e.html(t)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(h){"use strict";h.widget("metro.wizard",{version:"3.0.0",options:{stepper:!0,stepperType:"default",stepperClickable:!1,startPage:"default",finishStep:"default",locale:window.METRO_CURRENT_LOCALE,buttons:{cancel:!0,help:!0,prior:!0,next:!0,finish:!0},onCancel:function(t,e){},onHelp:function(t,e){},onPrior:function(t,e){return!0},onNext:function(t,e){return!0},onFinish:function(t,e){},onPage:function(t,e){},onStepClick:function(t){}},_stepper:void 0,_currentStep:0,_steps:void 0,_create:function(){var n=this,t=this.element,i=this.options,e=t.find(".step");h.each(t.data(),function(e,n){if(e in i)try{i[e]=h.parseJSON(n)}catch(t){i[e]=n}}),this._steps=e,i.stepper&&(this._stepper=this._createStepper(e.length).insertBefore(t.find(".steps")).stepper({clickable:i.stepperClickable}).on("stepclick",function(t,e){n.stepTo(e),"string"==typeof i.onStepClick?window[i.onStepClick](e):i.onStepClick(e)})),void 0!==t.data("locale")&&(i.locale=t.data("locale")),this._createEvents();var o="default"!==i.startPage&&1<parseInt(i.startPage)?i.startPage:1;this.stepTo(o),"string"==typeof i.onPage?window[i.onPage](this._currentStep+1,t):i.onPage(this._currentStep+1,t),t.data("wizard",this)},_createStepper:function(t){var e,n=this.options;return e=h("<div/>").addClass("stepper").attr("data-role","stepper").attr("data-steps",t),"default"!==n.stepperType&&e.addClass(n.stepperType),e},_createEvents:function(){var t=this,e=this.element,n=this.options;if(n.buttons){var i,o,a,s,r,l=h("<div/>").addClass("actions").appendTo(e),d=h("<div/>").addClass("group-left").appendTo(l),c=h("<div/>").addClass("group-right").appendTo(l);n.buttons.cancel&&(i=h("<button type='button'/>").addClass("btn-cancel").html(window.METRO_LOCALES[n.locale].buttons[2]),"boolean"==typeof n.buttons.cancel?i.appendTo(d):(n.buttons.cancel.title&&i.html(n.buttons.cancel.title),n.buttons.cancel.cls&&i.addClass(n.buttons.cancel.cls),n.buttons.cancel.group&&"left"!==n.buttons.cancel.group?i.appendTo(c):i.appendTo(d)),i.on("click",function(){"string"==typeof n.onCancel?window[n.onCancel](t._currentStep+1,e):n.onCancel(t._currentStep+1,e)})),n.buttons.help&&(o=h("<button type='button'/>").addClass("btn-help").html(window.METRO_LOCALES[n.locale].buttons[3]),"boolean"==typeof n.buttons.help?o.appendTo(c):(n.buttons.help.title&&o.html(n.buttons.help.title),n.buttons.help.cls&&o.addClass(n.buttons.help.cls),n.buttons.help.group&&"left"!==n.buttons.help.group?o.appendTo(c):o.appendTo(d)),o.on("click",function(){"string"==typeof n.onHelp?window[n.onHelp](t._currentStep+1,e):n.onHelp(t._currentStep+1,e)})),n.buttons.prior&&(a=h("<button type='button'/>").addClass("btn-prior").html(window.METRO_LOCALES[n.locale].buttons[4]),"boolean"==typeof n.buttons.prior?a.appendTo(c):(n.buttons.prior.title&&a.html(n.buttons.prior.title),n.buttons.prior.cls&&a.addClass(n.buttons.prior.cls),n.buttons.prior.group&&"left"!==n.buttons.prior.group?a.appendTo(c):a.appendTo(d)),a.on("click",function(){"string"==typeof n.onPrior?window[n.onPrior](t._currentStep+1,e)&&t.prior():n.onPrior(t._currentStep+1,e)&&t.prior()})),n.buttons.next&&(s=h("<button type='button'/>").addClass("btn-next").html(window.METRO_LOCALES[n.locale].buttons[5]),"boolean"==typeof n.buttons.next?s.appendTo(c):(n.buttons.next.title&&s.html(n.buttons.next.title),n.buttons.next.cls&&s.addClass(n.buttons.next.cls),n.buttons.next.group&&"left"!==n.buttons.next.group?s.appendTo(c):s.appendTo(d)),s.on("click",function(){"string"==typeof n.onNext?window[n.onNext](t._currentStep+1,e)&&t.next():n.onNext(t._currentStep+1,e)&&t.next()})),n.buttons.finish&&(r=h("<button type='button'/>").addClass("btn-finish").html(window.METRO_LOCALES[n.locale].buttons[6]),"boolean"==typeof n.buttons.finish?r.appendTo(c):(n.buttons.finish.title&&r.html(n.buttons.finish.title),n.buttons.finish.cls&&r.addClass(n.buttons.finish.cls),n.buttons.finish.group&&"left"!==n.buttons.finish.group?r.appendTo(c):r.appendTo(d)),r.on("click",function(){"string"==typeof n.onFinish?window[n.onFinish](t._currentStep+1,e):n.onFinish(t._currentStep+1,e)}))}},next:function(){var t=this.options,e=this._currentStep+1;return e!==this._steps.length&&(this._currentStep=e,this._steps.hide(),h(this._steps[e]).show(),"string"==typeof t.onPage?window[t.onPage](this._currentStep+1,this.element):t.onPage(this._currentStep+1,this.element),void 0!==this._stepper&&this._stepper.stepper("stepTo",this._currentStep+1),e===("default"===t.finishStep?this._steps.length-1:t.finishStep)?this.element.find(".btn-finish").attr("disabled",!1):this.element.find(".btn-finish").attr("disabled",!0),e===this._steps.length-1?this.element.find(".btn-next").attr("disabled",!0):this.element.find(".btn-next").attr("disabled",!1),0<e&&this.element.find(".btn-prior").attr("disabled",!1),!0)},prior:function(){var t=this._currentStep-1,e=this.options;if(t<0)return!1;this._currentStep=t,this._steps.hide(),h(this._steps[t]).show(),"string"==typeof e.onPage?window[e.onPage](this._currentStep+1,this.element):e.onPage(this._currentStep+1,this.element),void 0!==this._stepper&&this._stepper.stepper("stepTo",this._currentStep+1);var n="default"===e.finishStep?this._steps.length-1:e.finishStep;return t===n?this.element.find(".btn-finish").attr("disabled",!1):this.element.find(".btn-finish").attr("disabled",!0),0===t?this.element.find(".btn-prior").attr("disabled",!0):this.element.find(".btn-prior").attr("disabled",!1),t<n&&this.element.find(".btn-next").attr("disabled",!1),!0},stepTo:function(t){var e=t-1,n=this.options;if(e<0)return!1;this._currentStep=e,this._steps.hide(),h(this._steps[e]).show(),"string"==typeof n.onPage?window[n.onPage](this._currentStep+1,this.element):n.onPage(this._currentStep+1,this.element),void 0!==this._stepper&&this._stepper.stepper("stepTo",t);var i="default"===n.finishStep?this._steps.length-1:n.finishStep;return e===i?this.element.find(".btn-finish").attr("disabled",!1):this.element.find(".btn-finish").attr("disabled",!0),this.element.find(".btn-next").attr("disabled",i<=e),this.element.find(".btn-prior").attr("disabled",e<=0),!0},stepper:function(){return this._stepper},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery),function(l){"use strict";l.widget("metro.wizard2",{version:"3.0.0",options:{start:1,finish:"default",buttonLabels:{prev:"&lt;",next:"&gt;",finish:"OK",help:"?"},onPrevClick:function(t){return!0},onNextClick:function(t){return!0},onFinishClick:function(t){},onHelpClick:function(t){}},_step:1,_steps:void 0,_create:function(){var n=this,t=this.element,i=this.options;l.each(t.data(),function(e,n){if(e in i)try{i[e]=l.parseJSON(n)}catch(t){i[e]=n}}),this._step=i.start,this._steps=t.children(".step"),this._height=0,this._width=0,"default"===i.finish&&(i.finish=this._steps.length),l.each(this._steps,function(t,e){l(e).outerHeight()>n._height&&(n._height=l(e).outerHeight()),l(e).hasClass("active")&&(n._step=t+1)}),this._width=t.innerWidth()-(24*(this._steps.length-1)+this._steps.length),t.children(".step").css({height:this._height+48}),l(window).resize(function(){n._width=t.innerWidth()-(24*(n._steps.length-1)+n._steps.length),n.step(n._step)}),this._createActionBar(),this.step(i.start),this._placeActionBar(),t.data("wizard2",this)},_createActionBar:function(){var t,e,n,i,o=this,a=this.element,s=this.options,r=l("<div/>").addClass("action-bar").appendTo(a);n=l("<button/>").html(s.buttonLabels.help).addClass("button cycle-button medium-button wiz-btn-help place-left").appendTo(r),i=l("<button/>").html(s.buttonLabels.finish).addClass("button cycle-button medium-button wiz-btn-finish place-right").appendTo(r),e=l("<button/>").html(s.buttonLabels.next).addClass("button cycle-button medium-button wiz-btn-next place-right").appendTo(r),t=l("<button/>").html(s.buttonLabels.prev).addClass("button cycle-button medium-button wiz-btn-prev place-right").appendTo(r),n.on("click",function(){"string"==typeof s.onHelpClick?window[s.onHelpClick](o._step):s.onHelpClick(o._step)}),i.on("click",function(){"string"==typeof s.onFinishClick?window[s.onFinishClick](o._step):s.onFinishClick(o._step)}),t.on("click",function(){"string"==typeof s.onPrevClick?window[s.onPrevClick](o._step)&&o.prev():s.onPrevClick(o._step)&&o.prev()}),e.on("click",function(){"string"==typeof s.onNextClick?window[s.onNextClick](o._step)&&o.next():s.onNextClick(o._step)&&o.next()})},_placeActionBar:function(){var t=this.element,e=(this.options,t.find(".action-bar")),n=t.find(".step.active"),i=n.position().left,o=n.innerWidth();e.css({left:i,width:o})},step:function(t){var e=this.options;this.element.children(".step").removeClass("active prev next"),l(this.element.children(".step")[t-1]).addClass("active").css("width",this._width),this.element.children(".step.active").prevAll().addClass("prev").css("width",0),this.element.children(".step.active").nextAll().addClass("next").css("width",0),this._placeActionBar(),1===t?this.element.find(".wiz-btn-prev").hide():this.element.find(".wiz-btn-prev").show(),t===this._steps.length?this.element.find(".wiz-btn-next").hide():this.element.find(".wiz-btn-next").show(),t!==e.finish?this.element.find(".wiz-btn-finish").hide():this.element.find(".wiz-btn-finish").show()},prev:function(){var t=this._step-1;return!(t<=0)&&(this._step=t,this.step(t),!0)},next:function(){var t=this._step+1;return!(t>this._steps.length)&&(this._step=t,this.step(t),!0)},_destroy:function(){},_setOption:function(t,e){this._super("_setOption",t,e)}})}(jQuery);
window.Modernizr=function(r,d,i){var e,o,a,c={},f=d.documentElement,m="modernizr",t=d.createElement(m),s=t.style,u=d.createElement("input"),l=":)",n={}.toString,p=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms",g=h.split(" "),v=h.toLowerCase().split(" "),y="http://www.w3.org/2000/svg",b={},E={},x={},w=[],S=w.slice,C=function(e,t,n,r){var o,a,i,c,s=d.createElement("div"),u=d.body,l=u||d.createElement("body");if(parseInt(n,10))for(;n--;)(i=d.createElement("div")).id=r?r[n]:m+(n+1),s.appendChild(i);return o=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),s.id=m,(u?s:l).innerHTML+=o,l.appendChild(s),u||(l.style.background="",l.style.overflow="hidden",c=f.style.overflow,f.style.overflow="hidden",f.appendChild(l)),a=t(s,e),u?s.parentNode.removeChild(s):(l.parentNode.removeChild(l),f.style.overflow=c),!!a},k=(a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},function(e,t){t=t||d.createElement(a[e]||"div");var n=(e="on"+e)in t;return n||(t.setAttribute||(t=d.createElement("div")),t.setAttribute&&t.removeAttribute&&(t.setAttribute(e,""),n=M(t[e],"function"),M(t[e],"undefined")||(t[e]=i),t.removeAttribute(e))),t=null,n}),T={}.hasOwnProperty;function N(e){s.cssText=e}function M(e,t){return typeof e===t}function P(e,t){return!!~(""+e).indexOf(t)}function j(e,t){for(var n in e){var r=e[n];if(!P(r,"-")&&s[r]!==i)return"pfx"!=t||r}return!1}function $(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+g.join(r+" ")+r).split(" ");return M(t,"string")||M(t,"undefined")?j(o,t):function(e,t,n){for(var r in e){var o=t[e[r]];if(o!==i)return!1===n?e[r]:M(o,"function")?o.bind(n||t):o}return!1}(o=(e+" "+v.join(r+" ")+r).split(" "),t,n)}for(var D in o=M(T,"undefined")||M(T.call,"undefined")?function(e,t){return t in e&&M(e.constructor.prototype[t],"undefined")}:function(e,t){return T.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(r){var o=this;if("function"!=typeof o)throw new TypeError;var a=S.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=o.prototype;var t=new e,n=o.apply(t,a.concat(S.call(arguments)));return Object(n)===n?n:t}return o.apply(r,a.concat(S.call(arguments)))};return i}),b.flexbox=function(){return $("flexWrap")},b.flexboxlegacy=function(){return $("boxDirection")},b.canvas=function(){var e=d.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},b.canvastext=function(){return!(!c.canvas||!M(d.createElement("canvas").getContext("2d").fillText,"function"))},b.webgl=function(){return!!r.WebGLRenderingContext},b.touch=function(){var t;return"ontouchstart"in r||r.DocumentTouch&&d instanceof DocumentTouch?t=!0:C(["@media (",p.join("touch-enabled),("),m,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){t=9===e.offsetTop}),t},b.geolocation=function(){return"geolocation"in navigator},b.postmessage=function(){return!!r.postMessage},b.websqldatabase=function(){return!!r.openDatabase},b.indexedDB=function(){return!!$("indexedDB",r)},b.hashchange=function(){return k("hashchange",r)&&(d.documentMode===i||7<d.documentMode)},b.history=function(){return!(!r.history||!history.pushState)},b.draganddrop=function(){var e=d.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e},b.websockets=function(){return"WebSocket"in r||"MozWebSocket"in r},b.rgba=function(){return N("background-color:rgba(150,255,150,.5)"),P(s.backgroundColor,"rgba")},b.hsla=function(){return N("background-color:hsla(120,40%,100%,.5)"),P(s.backgroundColor,"rgba")||P(s.backgroundColor,"hsla")},b.multiplebgs=function(){return N("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(s.background)},b.backgroundsize=function(){return $("backgroundSize")},b.borderimage=function(){return $("borderImage")},b.borderradius=function(){return $("borderRadius")},b.boxshadow=function(){return $("boxShadow")},b.textshadow=function(){return""===d.createElement("div").style.textShadow},b.opacity=function(){var e,t;return e="opacity:.55",N(p.join(e+";")+(t||"")),/^0.55$/.test(s.opacity)},b.cssanimations=function(){return $("animationName")},b.csscolumns=function(){return $("columnCount")},b.cssgradients=function(){var e="background-image:";return N((e+"-webkit- ".split(" ").join("gradient(linear,left top,right bottom,from(#9f9),to(white));"+e)+p.join("linear-gradient(left top,#9f9, white);"+e)).slice(0,-e.length)),P(s.backgroundImage,"gradient")},b.cssreflections=function(){return $("boxReflect")},b.csstransforms=function(){return!!$("transform")},b.csstransforms3d=function(){var n=!!$("perspective");return n&&"webkitPerspective"in f.style&&C("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(e,t){n=9===e.offsetLeft&&3===e.offsetHeight}),n},b.csstransitions=function(){return $("transition")},b.fontface=function(){var a;return C('@font-face {font-family:"font";src:url("https://")}',function(e,t){var n=d.getElementById("smodernizr"),r=n.sheet||n.styleSheet,o=r?r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"":"";a=/src/i.test(o)&&0===o.indexOf(t.split(" ")[0])}),a},b.generatedcontent=function(){var t;return C(["#",m,"{font:0/0 a}#",m,':after{content:"',l,'";visibility:hidden;font:3px/1 a}'].join(""),function(e){t=3<=e.offsetHeight}),t},b.video=function(){var e=d.createElement("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(e){}return t},b.audio=function(){var e=d.createElement("audio"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),t.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),t.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),t.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(e){}return t},b.localstorage=function(){try{return localStorage.setItem(m,m),localStorage.removeItem(m),!0}catch(e){return!1}},b.sessionstorage=function(){try{return sessionStorage.setItem(m,m),sessionStorage.removeItem(m),!0}catch(e){return!1}},b.webworkers=function(){return!!r.Worker},b.applicationcache=function(){return!!r.applicationCache},b.svg=function(){return!!d.createElementNS&&!!d.createElementNS(y,"svg").createSVGRect},b.inlinesvg=function(){var e=d.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==y},b.smil=function(){return!!d.createElementNS&&/SVGAnimate/.test(n.call(d.createElementNS(y,"animate")))},b.svgclippaths=function(){return!!d.createElementNS&&/SVGClipPath/.test(n.call(d.createElementNS(y,"clipPath")))},b)o(b,D)&&(e=D.toLowerCase(),c[e]=b[D](),w.push((c[e]?"":"no-")+e));return c.input||(c.input=function(e){for(var t=0,n=e.length;t<n;t++)x[e[t]]=!!(e[t]in u);return x.list&&(x.list=!(!d.createElement("datalist")||!r.HTMLDataListElement)),x}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),c.inputtypes=function(e){for(var t,n,r,o=0,a=e.length;o<a;o++)u.setAttribute("type",n=e[o]),(t="text"!==u.type)&&(u.value=l,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(n)&&u.style.WebkitAppearance!==i?(f.appendChild(u),t=(r=d.defaultView).getComputedStyle&&"textfield"!==r.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,f.removeChild(u)):/^(search|tel)$/.test(n)||(t=/^(url|email)$/.test(n)?u.checkValidity&&!1===u.checkValidity():u.value!=l)),E[e[o]]=!!t;return E}("search tel url email datetime date month week time datetime-local number range color".split(" "))),c.addTest=function(e,t){if("object"==typeof e)for(var n in e)o(e,n)&&c.addTest(n,e[n]);else{if(e=e.toLowerCase(),c[e]!==i)return c;t="function"==typeof t?t():t,f.className+=" "+(t?"":"no-")+e,c[e]=t}return c},N(""),t=u=null,function(e,s){var u,l,t=e.html5||{},o=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,a=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,n="_html5shiv",r=0,i={};function d(){var e=p.elements;return"string"==typeof e?e.split(" "):e}function f(e){var t=i[e[n]];return t||(t={},r++,e[n]=r,i[r]=t),t}function m(e,t,n){return t||(t=s),l?t.createElement(e):(n||(n=f(t)),!(r=n.cache[e]?n.cache[e].cloneNode():a.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||o.test(e)||r.tagUrn?r:n.frag.appendChild(r));var r}function c(e){e||(e=s);var t,n,r,o,a,i,c=f(e);return!p.shivCSS||u||c.hasCSS||(c.hasCSS=(n="article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}",r=(t=e).createElement("p"),o=t.getElementsByTagName("head")[0]||t.documentElement,r.innerHTML="x<style>"+n+"</style>",!!o.insertBefore(r.lastChild,o.firstChild))),l||(a=e,(i=c).cache||(i.cache={},i.createElem=a.createElement,i.createFrag=a.createDocumentFragment,i.frag=i.createFrag()),a.createElement=function(e){return p.shivMethods?m(e,a,i):i.createElem(e)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/[\w\-]+/g,function(e){return i.createElem(e),i.frag.createElement(e),'c("'+e+'")'})+");return n}")(p,i.frag)),e}!function(){try{var e=s.createElement("a");e.innerHTML="<xyz></xyz>",u="hidden"in e,l=1==e.childNodes.length||function(){s.createElement("a");var e=s.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){l=u=!0}}();var p={elements:t.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==t.shivCSS,supportsUnknownElements:l,shivMethods:!1!==t.shivMethods,type:"default",shivDocument:c,createElement:m,createDocumentFragment:function(e,t){if(e||(e=s),l)return e.createDocumentFragment();for(var n=(t=t||f(e)).frag.cloneNode(),r=0,o=d(),a=o.length;r<a;r++)n.createElement(o[r]);return n}};e.html5=p,c(s)}(this,d),c._version="2.8.3",c._prefixes=p,c._domPrefixes=v,c._cssomPrefixes=g,c.mq=function(e){var t,n=r.matchMedia||r.msMatchMedia;return n?n(e)&&n(e).matches||!1:(C("@media "+e+" { #"+m+" { position: absolute; } }",function(e){t="absolute"==(r.getComputedStyle?getComputedStyle(e,null):e.currentStyle).position}),t)},c.hasEvent=k,c.testProp=function(e){return j([e])},c.testAllProps=$,c.testStyles=C,c.prefixed=function(e,t,n){return t?$(e,t,n):$(e,"pfx")},f.className=f.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+w.join(" "),c}(this,this.document);
!function(e){"use strict";var t,n,a,s,i,r;e.matchMedia=e.matchMedia||(t=e.document,a=t.documentElement,s=a.firstElementChild||a.firstChild,i=t.createElement("body"),(r=t.createElement("div")).id="mq-test-1",r.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',a.insertBefore(i,s),n=42===r.offsetWidth,a.removeChild(i),{matches:n,media:e}})}(this),function(g){"use strict";var c={};(g.respond=c).update=function(){};var i=[],a=function(){var t=!1;try{t=new g.XMLHttpRequest}catch(e){t=new g.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),e=function(e,t){var n=a();n&&(n.open("GET",e,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||t(n.responseText)},4!==n.readyState&&n.send(null))};if(c.ajax=e,c.queue=i,c.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},c.mediaQueriesSupported=g.matchMedia&&null!==g.matchMedia("only all")&&g.matchMedia("only all").matches,!c.mediaQueriesSupported){var x,v,E,w=g.document,S=w.documentElement,T=[],C=[],b=[],r={},$=w.getElementsByTagName("head")[0]||S,o=w.getElementsByTagName("base")[0],z=$.getElementsByTagName("link"),M=function(){var e,t=w.createElement("div"),n=w.body,a=S.style.fontSize,s=n&&n.style.fontSize,i=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||((n=i=w.createElement("body")).style.background="none"),S.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(t),i&&S.insertBefore(n,S.firstChild),e=t.offsetWidth,i?S.removeChild(n):n.removeChild(t),S.style.fontSize=a,s&&(n.style.fontSize=s),e=E=parseFloat(e)},R=function(e){var t="clientWidth",n=S[t],a="CSS1Compat"===w.compatMode&&n||w.body[t]||n,s={},i=z[z.length-1],r=(new Date).getTime();if(e&&x&&r-x<30)return g.clearTimeout(v),void(v=g.setTimeout(R,30));for(var o in x=r,T)if(T.hasOwnProperty(o)){var l=T[o],m=l.minw,d=l.maxw,h=null===m,u=null===d;m&&(m=parseFloat(m)*(-1<m.indexOf("em")?E||M():1)),d&&(d=parseFloat(d)*(-1<d.indexOf("em")?E||M():1)),l.hasquery&&(h&&u||!(h||m<=a)||!(u||a<=d))||(s[l.media]||(s[l.media]=[]),s[l.media].push(C[l.rules]))}for(var c in b)b.hasOwnProperty(c)&&b[c]&&b[c].parentNode===$&&$.removeChild(b[c]);for(var f in b.length=0,s)if(s.hasOwnProperty(f)){var p=w.createElement("style"),y=s[f].join("\n");p.type="text/css",p.media=f,$.insertBefore(p,i.nextSibling),p.styleSheet?p.styleSheet.cssText=y:p.appendChild(w.createTextNode(y)),b.push(p)}},l=function(e,t,n){var a=e.replace(c.regex.keyframes,"").match(c.regex.media),s=a&&a.length||0,i=function(e){return e.replace(c.regex.urls,"$1"+t+"$2$3")},r=!s&&n;(t=t.substring(0,t.lastIndexOf("/"))).length&&(t+="/"),r&&(s=1);for(var o=0;o<s;o++){var l,m,d,h;r?(l=n,C.push(i(e))):(l=a[o].match(c.regex.findStyles)&&RegExp.$1,C.push(RegExp.$2&&i(RegExp.$2))),h=(d=l.split(",")).length;for(var u=0;u<h;u++)m=d[u],T.push({media:m.split("(")[0].match(c.regex.only)&&RegExp.$2||"all",rules:C.length-1,hasquery:-1<m.indexOf("("),minw:m.match(c.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:m.match(c.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}R()},m=function(){if(i.length){var t=i.shift();e(t.href,function(e){l(e,t.href,t.media),r[t.href]=!0,g.setTimeout(function(){m()},0)})}},t=function(){for(var e=0;e<z.length;e++){var t=z[e],n=t.href,a=t.media,s=t.rel&&"stylesheet"===t.rel.toLowerCase();n&&s&&!r[n]&&(t.styleSheet&&t.styleSheet.rawCssText?(l(t.styleSheet.rawCssText,n,a),r[n]=!0):(/^([a-zA-Z:]*\/\/)/.test(n)||o)&&n.replace(RegExp.$1,"").split("/")[0]!==g.location.host||("//"===n.substring(0,2)&&(n=g.location.protocol+n),i.push({href:n,media:a})))}m()};t(),c.update=t,c.getEmValue=M,g.addEventListener?g.addEventListener("resize",n,!1):g.attachEvent&&g.attachEvent("onresize",n)}function n(){R(!0)}}(this);
!function(e){"use strict";var t,n,a,i,s,r;e.matchMedia=e.matchMedia||(t=e.document,a=t.documentElement,i=a.firstElementChild||a.firstChild,s=t.createElement("body"),(r=t.createElement("div")).id="mq-test-1",r.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',a.insertBefore(s,i),n=42===r.offsetWidth,a.removeChild(s),{matches:n,media:e}})}(this),function(o){"use strict";if(o.matchMedia&&o.matchMedia("all").addListener)return;var l=o.matchMedia,i=l("only all").matches,s=!1,t=0,m=[],r=function(e){o.clearTimeout(t),t=o.setTimeout(function(){for(var e=0,t=m.length;e<t;e++){var n=m[e].mql,a=m[e].listeners||[],i=l(n.media).matches;if(i!==n.matches){n.matches=i;for(var s=0,r=a.length;s<r;s++)a[s].call(o,n)}}},30)};o.matchMedia=function(e){var t=l(e),a=[],n=0;return t.addListener=function(e){i&&(s||(s=!0,o.addEventListener("resize",r,!0)),0===n&&(n=m.push({mql:t,listeners:a})),a.push(e))},t.removeListener=function(e){for(var t=0,n=a.length;t<n;t++)a[t]===e&&a.splice(t,1)},t}}(this),function(g){"use strict";var u={};(g.respond=u).update=function(){};var s=[],a=function(){var t=!1;try{t=new g.XMLHttpRequest}catch(e){t=new g.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),e=function(e,t){var n=a();n&&(n.open("GET",e,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||t(n.responseText)},4!==n.readyState&&n.send(null))};if(u.ajax=e,u.queue=s,u.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},u.mediaQueriesSupported=g.matchMedia&&null!==g.matchMedia("only all")&&g.matchMedia("only all").matches,!u.mediaQueriesSupported){var v,x,E,w=g.document,S=w.documentElement,T=[],C=[],b=[],r={},M=w.getElementsByTagName("head")[0]||S,o=w.getElementsByTagName("base")[0],z=M.getElementsByTagName("link"),$=function(){var e,t=w.createElement("div"),n=w.body,a=S.style.fontSize,i=n&&n.style.fontSize,s=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||((n=s=w.createElement("body")).style.background="none"),S.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(t),s&&S.insertBefore(n,S.firstChild),e=t.offsetWidth,s?S.removeChild(n):n.removeChild(t),S.style.fontSize=a,i&&(n.style.fontSize=i),e=E=parseFloat(e)},L=function(e){var t="clientWidth",n=S[t],a="CSS1Compat"===w.compatMode&&n||w.body[t]||n,i={},s=z[z.length-1],r=(new Date).getTime();if(e&&v&&r-v<30)return g.clearTimeout(x),void(x=g.setTimeout(L,30));for(var o in v=r,T)if(T.hasOwnProperty(o)){var l=T[o],m=l.minw,d=l.maxw,h=null===m,c=null===d;m&&(m=parseFloat(m)*(-1<m.indexOf("em")?E||$():1)),d&&(d=parseFloat(d)*(-1<d.indexOf("em")?E||$():1)),l.hasquery&&(h&&c||!(h||m<=a)||!(c||a<=d))||(i[l.media]||(i[l.media]=[]),i[l.media].push(C[l.rules]))}for(var u in b)b.hasOwnProperty(u)&&b[u]&&b[u].parentNode===M&&M.removeChild(b[u]);for(var f in b.length=0,i)if(i.hasOwnProperty(f)){var p=w.createElement("style"),y=i[f].join("\n");p.type="text/css",p.media=f,M.insertBefore(p,s.nextSibling),p.styleSheet?p.styleSheet.cssText=y:p.appendChild(w.createTextNode(y)),b.push(p)}},l=function(e,t,n){var a=e.replace(u.regex.keyframes,"").match(u.regex.media),i=a&&a.length||0,s=function(e){return e.replace(u.regex.urls,"$1"+t+"$2$3")},r=!i&&n;(t=t.substring(0,t.lastIndexOf("/"))).length&&(t+="/"),r&&(i=1);for(var o=0;o<i;o++){var l,m,d,h;r?(l=n,C.push(s(e))):(l=a[o].match(u.regex.findStyles)&&RegExp.$1,C.push(RegExp.$2&&s(RegExp.$2))),h=(d=l.split(",")).length;for(var c=0;c<h;c++)m=d[c],T.push({media:m.split("(")[0].match(u.regex.only)&&RegExp.$2||"all",rules:C.length-1,hasquery:-1<m.indexOf("("),minw:m.match(u.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:m.match(u.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}L()},m=function(){if(s.length){var t=s.shift();e(t.href,function(e){l(e,t.href,t.media),r[t.href]=!0,g.setTimeout(function(){m()},0)})}},t=function(){for(var e=0;e<z.length;e++){var t=z[e],n=t.href,a=t.media,i=t.rel&&"stylesheet"===t.rel.toLowerCase();n&&i&&!r[n]&&(t.styleSheet&&t.styleSheet.rawCssText?(l(t.styleSheet.rawCssText,n,a),r[n]=!0):(/^([a-zA-Z:]*\/\/)/.test(n)||o)&&n.replace(RegExp.$1,"").split("/")[0]!==g.location.host||("//"===n.substring(0,2)&&(n=g.location.protocol+n),s.push({href:n,media:a})))}m()};t(),u.update=t,u.getEmValue=$,g.addEventListener?g.addEventListener("resize",n,!1):g.attachEvent&&g.attachEvent("onresize",n)}function n(){L(!0)}}(this);
!function(e){"use strict";var t,n,a,s,i,r;e.matchMedia=e.matchMedia||(t=e.document,a=t.documentElement,s=a.firstElementChild||a.firstChild,i=t.createElement("body"),(r=t.createElement("div")).id="mq-test-1",r.style.cssText="position:absolute;top:-100em",i.style.background="none",i.appendChild(r),function(e){return r.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',a.insertBefore(i,s),n=42===r.offsetWidth,a.removeChild(i),{matches:n,media:e}})}(this),function(g){"use strict";function e(){R(!0)}var c={};(g.respond=c).update=function(){};var i=[],a=function(){var t=!1;try{t=new g.XMLHttpRequest}catch(e){t=new g.ActiveXObject("Microsoft.XMLHTTP")}return function(){return t}}(),n=function(e,t){var n=a();n&&(n.open("GET",e,!0),n.onreadystatechange=function(){4!==n.readyState||200!==n.status&&304!==n.status||t(n.responseText)},4!==n.readyState&&n.send(null))};if(c.ajax=n,c.queue=i,c.regex={media:/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,keyframes:/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,urls:/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,findStyles:/@media *([^\{]+)\{([\S\s]+?)$/,only:/(only\s+)?([a-zA-Z]+)\s?/,minw:/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,maxw:/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},c.mediaQueriesSupported=g.matchMedia&&null!==g.matchMedia("only all")&&g.matchMedia("only all").matches,!c.mediaQueriesSupported){var x,v,E,w=g.document,S=w.documentElement,T=[],C=[],b=[],r={},$=w.getElementsByTagName("head")[0]||S,o=w.getElementsByTagName("base")[0],z=$.getElementsByTagName("link"),M=function(){var e,t=w.createElement("div"),n=w.body,a=S.style.fontSize,s=n&&n.style.fontSize,i=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",n||((n=i=w.createElement("body")).style.background="none"),S.style.fontSize="100%",n.style.fontSize="100%",n.appendChild(t),i&&S.insertBefore(n,S.firstChild),e=t.offsetWidth,i?S.removeChild(n):n.removeChild(t),S.style.fontSize=a,s&&(n.style.fontSize=s),E=parseFloat(e)},R=function(e){var t="clientWidth",n=S[t],a="CSS1Compat"===w.compatMode&&n||w.body[t]||n,s={},i=z[z.length-1],r=(new Date).getTime();if(e&&x&&r-x<30)return g.clearTimeout(v),void(v=g.setTimeout(R,30));for(var o in x=r,T)if(T.hasOwnProperty(o)){var l=T[o],m=l.minw,d=l.maxw,h=null===m,u=null===d;m&&(m=parseFloat(m)*(-1<m.indexOf("em")?E||M():1)),d&&(d=parseFloat(d)*(-1<d.indexOf("em")?E||M():1)),l.hasquery&&(h&&u||!(h||m<=a)||!(u||a<=d))||(s[l.media]||(s[l.media]=[]),s[l.media].push(C[l.rules]))}for(var c in b)b.hasOwnProperty(c)&&b[c]&&b[c].parentNode===$&&$.removeChild(b[c]);for(var f in b.length=0,s)if(s.hasOwnProperty(f)){var p=w.createElement("style"),y=s[f].join("\n");p.type="text/css",p.media=f,$.insertBefore(p,i.nextSibling),p.styleSheet?p.styleSheet.cssText=y:p.appendChild(w.createTextNode(y)),b.push(p)}},l=function(e,t,n){var a=e.replace(c.regex.keyframes,"").match(c.regex.media),s=a&&a.length||0,i=function(e){return e.replace(c.regex.urls,"$1"+t+"$2$3")},r=!s&&n;(t=t.substring(0,t.lastIndexOf("/"))).length&&(t+="/"),r&&(s=1);for(var o=0;o<s;o++){var l,m,d,h;r?(l=n,C.push(i(e))):(l=a[o].match(c.regex.findStyles)&&RegExp.$1,C.push(RegExp.$2&&i(RegExp.$2))),h=(d=l.split(",")).length;for(var u=0;u<h;u++)m=d[u],T.push({media:m.split("(")[0].match(c.regex.only)&&RegExp.$2||"all",rules:C.length-1,hasquery:-1<m.indexOf("("),minw:m.match(c.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:m.match(c.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}R()},m=function(){if(i.length){var t=i.shift();n(t.href,function(e){l(e,t.href,t.media),r[t.href]=!0,g.setTimeout(function(){m()},0)})}},t=function(){for(var e=0;e<z.length;e++){var t=z[e],n=t.href,a=t.media,s=t.rel&&"stylesheet"===t.rel.toLowerCase();n&&s&&!r[n]&&(t.styleSheet&&t.styleSheet.rawCssText?(l(t.styleSheet.rawCssText,n,a),r[n]=!0):(!/^([a-zA-Z:]*\/\/)/.test(n)&&!o||n.replace(RegExp.$1,"").split("/")[0]===g.location.host)&&("//"===n.substring(0,2)&&(n=g.location.protocol+n),i.push({href:n,media:a})))}m()};t(),c.update=t,c.getEmValue=M,g.addEventListener?g.addEventListener("resize",e,!1):g.attachEvent&&g.attachEvent("onresize",e)}}(this);
!function(r){"use strict";var a=function(n,i){i=r.extend({},r.fn.rowlink.defaults,i),("tr"==n.nodeName?r(n):r(n).find("tr:has(td)")).each(function(){var n=r(this).find(i.target).first();if(n.length){var t=n.attr("href");r(this).find("td").not(".nolink").click(function(){window.location=t}),r(this).addClass("rowlink"),n.replaceWith(n.html())}})};r.fn.rowlink=function(i){return this.each(function(){var n=r(this),t=n.data("rowlink");t||n.data("rowlink",t=new a(this,i))})},r.fn.rowlink.defaults={target:"a"},r.fn.rowlink.Constructor=a,r(function(){r('[data-provides="rowlink"]').each(function(){r(this).rowlink(r(this).data())})})}(window.jQuery);
if(!jQuery)throw new Error("Bootstrap requires jQuery");!function(o){"use strict";o.fn.emulateTransitionEnd=function(t){var e=!1,i=this;o(this).one(o.support.transition.end,function(){e=!0});return setTimeout(function(){e||o(i).trigger(o.support.transition.end)},t),this},o(function(){o.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}()})}(window.jQuery),function(s){"use strict";var e='[data-dismiss="alert"]',o=function(t){s(t).on("click",e,this.close)};o.prototype.close=function(t){function e(){n.trigger("closed.bs.alert").remove()}var i=s(this),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,""));var n=s(o);t&&t.preventDefault(),n.length||(n=i.hasClass("alert")?i:i.parent()),n.trigger(t=s.Event("close.bs.alert")),t.isDefaultPrevented()||(n.removeClass("in"),s.support.transition&&n.hasClass("fade")?n.one(s.support.transition.end,e).emulateTransitionEnd(150):e())};var t=s.fn.alert;s.fn.alert=function(i){return this.each(function(){var t=s(this),e=t.data("bs.alert");e||t.data("bs.alert",e=new o(this)),"string"==typeof i&&e[i].call(t)})},s.fn.alert.Constructor=o,s.fn.alert.noConflict=function(){return s.fn.alert=t,this},s(document).on("click.bs.alert.data-api",e,o.prototype.close)}(window.jQuery),function(n){"use strict";var s=function(t,e){this.$element=n(t),this.options=n.extend({},s.DEFAULTS,e)};s.DEFAULTS={loadingText:"loading..."},s.prototype.setState=function(t){var e="disabled",i=this.$element,o=i.is("input")?"val":"html",n=i.data();t+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},s.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');t.length&&("radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&t.find(".active").removeClass("active"));this.$element.toggleClass("active")};var t=n.fn.button;n.fn.button=function(o){return this.each(function(){var t=n(this),e=t.data("bs.button"),i="object"==typeof o&&o;e||t.data("bs.button",e=new s(this,i)),"toggle"==o?e.toggle():o&&e.setState(o)})},n.fn.button.Constructor=s,n.fn.button.noConflict=function(){return n.fn.button=t,this},n(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var e=n(t.target);e.hasClass("btn")||(e=e.closest(".btn")),e.button("toggle"),t.preventDefault()})}(window.jQuery),function(h){"use strict";var s=function(t,e){this.$element=h(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=e,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",h.proxy(this.pause,this)).on("mouseleave",h.proxy(this.cycle,this))};s.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},s.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(h.proxy(this.next,this),this.options.interval)),this},s.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},s.prototype.to=function(t){var e=this,i=this.getActiveIndex();return t>this.$items.length-1||t<0?void 0:this.sliding?this.$element.one("slid",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(i<t?"next":"prev",h(this.$items[t]))},s.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&h.support.transition.end&&(this.$element.trigger(h.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},s.prototype.next=function(){return this.sliding?void 0:this.slide("next")},s.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},s.prototype.slide=function(t,e){var i=this.$element.find(".item.active"),o=e||i[t](),n=this.interval,s="next"==t?"left":"right",a="next"==t?"first":"last",r=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[a]()}this.sliding=!0,n&&this.pause();var l=h.Event("slide.bs.carousel",{relatedTarget:o[0],direction:s});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=h(r.$indicators.children()[r.getActiveIndex()]);t&&t.addClass("active")})),h.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,i.addClass(s),o.addClass(s),i.one(h.support.transition.end,function(){o.removeClass([t,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),r.sliding=!1,setTimeout(function(){r.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;i.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return n&&this.cycle(),this}};var t=h.fn.carousel;h.fn.carousel=function(n){return this.each(function(){var t=h(this),e=t.data("bs.carousel"),i=h.extend({},s.DEFAULTS,t.data(),"object"==typeof n&&n),o="string"==typeof n?n:i.slide;e||t.data("bs.carousel",e=new s(this,i)),"number"==typeof n?e.to(n):o?e[o]():i.interval&&e.pause().cycle()})},h.fn.carousel.Constructor=s,h.fn.carousel.noConflict=function(){return h.fn.carousel=t,this},h(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var e,i=h(this),o=h(i.attr("data-target")||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")),n=h.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(n.interval=!1),o.carousel(n),(s=i.attr("data-slide-to"))&&o.data("bs.carousel").to(s),t.preventDefault()}),h(window).on("load",function(){h('[data-ride="carousel"]').each(function(){var t=h(this);t.carousel(t.data())})})}(window.jQuery),function(h){"use strict";var n=function(t,e){this.$element=h(t),this.options=h.extend({},n.DEFAULTS,e),this.transitioning=null,this.options.parent&&(this.$parent=h(this.options.parent)),this.options.toggle&&this.toggle()};n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=h.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.$parent&&this.$parent.find("> .panel > .in");if(e&&e.length){var i=e.data("bs.collapse");if(i&&i.transitioning)return;e.collapse("hide"),i||e.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var n=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!h.support.transition)return n.call(this);var s=h.camelCase(["scroll",o].join("-"));this.$element.one(h.support.transition.end,h.proxy(n,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=h.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var e=this.dimension();this.$element[e](this.$element[e]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return h.support.transition?void this.$element[e](0).one(h.support.transition.end,h.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var t=h.fn.collapse;h.fn.collapse=function(o){return this.each(function(){var t=h(this),e=t.data("bs.collapse"),i=h.extend({},n.DEFAULTS,t.data(),"object"==typeof o&&o);e||t.data("bs.collapse",e=new n(this,i)),"string"==typeof o&&e[o]()})},h.fn.collapse.Constructor=n,h.fn.collapse.noConflict=function(){return h.fn.collapse=t,this},h(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var e,i=h(this),o=i.attr("data-target")||t.preventDefault()||(e=i.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),n=h(o),s=n.data("bs.collapse"),a=s?"toggle":i.data(),r=i.attr("data-parent"),l=r&&h(r);s&&s.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+r+'"]').not(i).addClass("collapsed"),i[n.hasClass("in")?"addClass":"removeClass"]("collapsed")),n.collapse(a)})}(window.jQuery),function(a){"use strict";function n(){a(".dropdown-backdrop").remove(),a(l).each(function(t){var e=r(a(this));e.hasClass("open")&&(e.trigger(t=a.Event("hide.bs.dropdown")),t.isDefaultPrevented()||e.removeClass("open").trigger("hidden.bs.dropdown"))})}function r(t){var e=t.attr("data-target");e||(e=(e=t.attr("href"))&&/#/.test(e)&&e.replace(/.*(?=#[^\s]*$)/,""));var i=e&&a(e);return i&&i.length?i:t.parent()}var l="[data-toggle=dropdown]",o=function(t){a(t).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(t){var e=a(this);if(!e.is(".disabled, :disabled")){var i=r(e),o=i.hasClass("open");if(n(),!o){if("ontouchstart"in document.documentElement&&!i.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",n),i.trigger(t=a.Event("show.bs.dropdown")),t.isDefaultPrevented())return;i.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},o.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var e=a(this);if(t.preventDefault(),t.stopPropagation(),!e.is(".disabled, :disabled")){var i=r(e),o=i.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&i.find(l).focus(),e.click();var n=a("[role=menu] li:not(.divider):visible a",i);if(n.length){var s=n.index(n.filter(":focus"));38==t.keyCode&&0<s&&s--,40==t.keyCode&&s<n.length-1&&s++,~s||(s=0),n.eq(s).focus()}}}};var t=a.fn.dropdown;a.fn.dropdown=function(i){return this.each(function(){var t=a(this),e=t.data("dropdown");e||t.data("dropdown",e=new o(this)),"string"==typeof i&&e[i].call(t)})},a.fn.dropdown.Constructor=o,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=t,this},a(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",l,o.prototype.toggle).on("keydown.bs.dropdown.data-api",l+", [role=menu]",o.prototype.keydown)}(window.jQuery),function(s){"use strict";var a=function(t,e){this.options=e,this.$element=s(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},a.prototype.show=function(i){var o=this,t=s.Event("show.bs.modal",{relatedTarget:i});this.$element.trigger(t),this.isShown||t.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',s.proxy(this.hide,this)),this.backdrop(function(){var t=s.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(document.body),o.$element.show(),t&&o.$element[0].offsetWidth,o.$element.addClass("in").attr("aria-hidden",!1),o.enforceFocus();var e=s.Event("shown.bs.modal",{relatedTarget:i});t?o.$element.find(".modal-dialog").one(s.support.transition.end,function(){o.$element.focus().trigger(e)}).emulateTransitionEnd(300):o.$element.focus().trigger(e)}))},a.prototype.hide=function(t){t&&t.preventDefault(),t=s.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),s(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),s.support.transition&&this.$element.hasClass("fade")?this.$element.one(s.support.transition.end,s.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},a.prototype.enforceFocus=function(){s(document).off("focusin.bs.modal").on("focusin.bs.modal",s.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",s.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},a.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(t){var e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=s.support.transition&&e;if(this.$backdrop=s('<div class="modal-backdrop '+e+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",s.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(s.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(s.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var t=s.fn.modal;s.fn.modal=function(o,n){return this.each(function(){var t=s(this),e=t.data("bs.modal"),i=s.extend({},a.DEFAULTS,t.data(),"object"==typeof o&&o);e||t.data("bs.modal",e=new a(this,i)),"string"==typeof o?e[o](n):i.show&&e.show(n)})},s.fn.modal.Constructor=a,s.fn.modal.noConflict=function(){return s.fn.modal=t,this},s(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var e=s(this),i=e.attr("href"),o=s(e.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),n=o.data("modal")?"toggle":s.extend({remote:!/#/.test(i)&&i},o.data(),e.data());t.preventDefault(),o.modal(n,this).one("hide",function(){e.is(":visible")&&e.focus()})}),s(document).on("show.bs.modal",".modal",function(){s(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){s(document.body).removeClass("modal-open")})}(window.jQuery),function(v){"use strict";var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},n.prototype.init=function(t,e,i){this.enabled=!0,this.type=t,this.$element=v(e),this.options=this.getOptions(i);for(var o=this.options.trigger.split(" "),n=o.length;n--;){var s=o[n];if("click"==s)this.$element.on("click."+this.type,this.options.selector,v.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focus",r="hover"==s?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,v.proxy(this.enter,this)),this.$element.on(r+"."+this.type,this.options.selector,v.proxy(this.leave,this))}}this.options.selector?this._options=v.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return(t=v.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var i={},o=this.getDefaults();return this._options&&v.each(this._options,function(t,e){o[t]!=e&&(i[t]=e)}),i},n.prototype.enter=function(t){var e=t instanceof this.constructor?t:v(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(e.timeout),e.hoverState="in",e.options.delay&&e.options.delay.show?void(e.timeout=setTimeout(function(){"in"==e.hoverState&&e.show()},e.options.delay.show)):e.show()},n.prototype.leave=function(t){var e=t instanceof this.constructor?t:v(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(e.timeout),e.hoverState="out",e.options.delay&&e.options.delay.hide?void(e.timeout=setTimeout(function(){"out"==e.hoverState&&e.hide()},e.options.delay.hide)):e.hide()},n.prototype.show=function(){var t=v.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var e=this.tip();this.setContent(),this.options.animation&&e.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,n=o.test(i);n&&(i=i.replace(o,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var s=this.getPosition(),a=e[0].offsetWidth,r=e[0].offsetHeight;if(n){var l=this.$element.parent(),h=i,p=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:l.outerWidth(),c="body"==this.options.container?window.innerHeight:l.outerHeight(),f="body"==this.options.container?0:l.offset().left;i="bottom"==i&&s.top+s.height+r-p>c?"top":"top"==i&&s.top-p-r<0?"bottom":"right"==i&&s.right+a>d?"left":"left"==i&&s.left-a<f?"right":i,e.removeClass(h).addClass(i)}var u=this.getCalculatedOffset(i,s,a,r);this.applyPlacement(u,i),this.$element.trigger("shown.bs."+this.type)}},n.prototype.applyPlacement=function(t,e){var i,o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top=t.top+a,t.left=t.left+r,o.offset(t).addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;if("top"==e&&h!=s&&(i=!0,t.top=t.top+s-h),/bottom|top/.test(e)){var p=0;t.left<0&&(p=-2*t.left,t.left=0,o.offset(t),l=o[0].offsetWidth,h=o[0].offsetHeight),this.replaceArrow(p-n+l,l,"left")}else this.replaceArrow(h-s,h,"top");i&&o.offset(t)},n.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=e.hoverState&&i.detach()}var e=this,i=this.tip(),o=v.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(i.removeClass("in"),v.support.transition&&this.$tip.hasClass("fade")?i.one(v.support.transition.end,t).emulateTransitionEnd(150):t(),this.$element.trigger("hidden.bs."+this.type),this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(){var t=this.$element[0];return v.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},n.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},n.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},n.prototype.tip=function(){return this.$tip=this.$tip||v(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var e=t?v(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;e.tip().hasClass("in")?e.leave(e):e.enter(e)},n.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var t=v.fn.tooltip;v.fn.tooltip=function(o){return this.each(function(){var t=v(this),e=t.data("bs.tooltip"),i="object"==typeof o&&o;e||t.data("bs.tooltip",e=new n(this,i)),"string"==typeof o&&e[o]()})},v.fn.tooltip.Constructor=n,v.fn.tooltip.noConflict=function(){return v.fn.tooltip=t,this}}(window.jQuery),function(n){"use strict";var s=function(t,e){this.init("popover",t,e)};if(!n.fn.tooltip)throw new Error("Popover requires tooltip.js");s.DEFAULTS=n.extend({},n.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((s.prototype=n.extend({},n.fn.tooltip.Constructor.prototype)).constructor=s).prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},s.prototype.hasContent=function(){return this.getTitle()||this.getContent()},s.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},s.prototype.tip=function(){return this.$tip||(this.$tip=n(this.options.template)),this.$tip};var t=n.fn.popover;n.fn.popover=function(o){return this.each(function(){var t=n(this),e=t.data("bs.popover"),i="object"==typeof o&&o;e||t.data("bs.popover",e=new s(this,i)),"string"==typeof o&&e[o]()})},n.fn.popover.Constructor=s,n.fn.popover.noConflict=function(){return n.fn.popover=t,this}}(window.jQuery),function(s){"use strict";function n(t,e){var i,o=s.proxy(this.process,this);this.$element=s(t).is("body")?s(window):s(t),this.$body=s("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=s.extend({},n.DEFAULTS,e),this.selector=(this.options.target||(i=s(t).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=s([]),this.targets=s([]),this.activeTarget=null,this.refresh(),this.process()}n.DEFAULTS={offset:10},n.prototype.refresh=function(){var o=this.$element[0]==window?"offset":"position";this.offsets=s([]),this.targets=s([]);var n=this;this.$body.find(this.selector).map(function(){var t=s(this),e=t.data("target")||t.attr("href"),i=/^#\w/.test(e)&&s(e);return i&&i.length&&[[i[o]().top+(!s.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),e]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},n.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),o=this.offsets,n=this.targets,s=this.activeTarget;if(i<=e)return s!=(t=n.last()[0])&&this.activate(t);for(t=o.length;t--;)s!=n[t]&&e>=o[t]&&(!o[t+1]||e<=o[t+1])&&this.activate(n[t])},n.prototype.activate=function(t){this.activeTarget=t,s(this.selector).parents(".active").removeClass("active");var e=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=s(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")};var t=s.fn.scrollspy;s.fn.scrollspy=function(o){return this.each(function(){var t=s(this),e=t.data("bs.scrollspy"),i="object"==typeof o&&o;e||t.data("bs.scrollspy",e=new n(this,i)),"string"==typeof o&&e[o]()})},s.fn.scrollspy.Constructor=n,s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=t,this},s(window).on("load",function(){s('[data-spy="scroll"]').each(function(){var t=s(this);t.scrollspy(t.data())})})}(window.jQuery),function(a){"use strict";var o=function(t){this.element=a(t)};o.prototype.show=function(){var t=this.element,e=t.closest("ul:not(.dropdown-menu)"),i=t.attr("data-target");if(i||(i=(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=e.find(".active:last a")[0],n=a.Event("show.bs.tab",{relatedTarget:o});if(t.trigger(n),!n.isDefaultPrevented()){var s=a(i);this.activate(t.parent("li"),e),this.activate(s,s.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},o.prototype.activate=function(t,e,i){function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),i&&i()}var n=e.find("> .active"),s=i&&a.support.transition&&n.hasClass("fade");s?n.one(a.support.transition.end,o).emulateTransitionEnd(150):o(),n.removeClass("in")};var t=a.fn.tab;a.fn.tab=function(i){return this.each(function(){var t=a(this),e=t.data("bs.tab");e||t.data("bs.tab",e=new o(this)),"string"==typeof i&&e[i]()})},a.fn.tab.Constructor=o,a.fn.tab.noConflict=function(){return a.fn.tab=t,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),a(this).tab("show")})}(window.jQuery),function(r){"use strict";var l=function(t,e){this.options=r.extend({},l.DEFAULTS,e),this.$window=r(window).on("scroll.bs.affix.data-api",r.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",r.proxy(this.checkPositionWithEventLoop,this)),this.$element=r(t),this.affixed=this.unpin=null,this.checkPosition()};l.RESET="affix affix-top affix-bottom",l.DEFAULTS={offset:0},l.prototype.checkPositionWithEventLoop=function(){setTimeout(r.proxy(this.checkPosition,this),1)},l.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=r(document).height(),e=this.$window.scrollTop(),i=this.$element.offset(),o=this.options.offset,n=o.top,s=o.bottom;"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top()),"function"==typeof s&&(s=o.bottom());var a=!(null!=this.unpin&&e+this.unpin<=i.top)&&(null!=s&&i.top+this.$element.height()>=t-s?"bottom":null!=n&&e<=n&&"top");this.affixed!==a&&(this.unpin&&this.$element.css("top",""),this.affixed=a,this.unpin="bottom"==a?i.top-e:null,this.$element.removeClass(l.RESET).addClass("affix"+(a?"-"+a:"")),"bottom"==a&&this.$element.offset({top:document.body.offsetHeight-s-this.$element.height()}))}};var t=r.fn.affix;r.fn.affix=function(o){return this.each(function(){var t=r(this),e=t.data("bs.affix"),i="object"==typeof o&&o;e||t.data("bs.affix",e=new l(this,i)),"string"==typeof o&&e[o]()})},r.fn.affix.Constructor=l,r.fn.affix.noConflict=function(){return r.fn.affix=t,this},r(window).on("load",function(){r('[data-spy="affix"]').each(function(){var t=r(this),e=t.data();e.offset=e.offset||{},e.offsetBottom&&(e.offset.bottom=e.offsetBottom),e.offsetTop&&(e.offset.top=e.offsetTop),t.affix(e)})})}(window.jQuery);
!function(v,y,g){var t=function(f,h){function i(t){return(t=t.context[0]).oInit.editor||t._editor}function n(t,e,i,n){return e||(e={}),e.buttons===g&&(e.buttons="_basic"),e.title===g&&(e.title=t.i18n[i].title),e.message===g&&("remove"===i?(t=t.i18n[i].confirm,e.message=1!==n?t._.replace(/%d/,n):t[1]):e.message=""),e}if(!h||!h.versionCheck||!h.versionCheck("1.10"))throw"Editor requires DataTables 1.10 or newer";var r=function(t){!this instanceof r&&alert("DataTables Editor must be initialised as a 'new' instance'"),this._constructor(t)};h.Editor=r,f.fn.DataTable.Editor=r;var a=function(t,e){return e===g&&(e=y),f('*[data-dte-e="'+t+'"]',e)},d=0;r.Field=function(e,t,i){var n=this;e=f.extend(!0,{},r.Field.defaults,e);this.s=f.extend({},r.Field.settings,{type:r.fieldTypes[e.type],name:e.name,classes:t,host:i,opts:e}),e.id||(e.id="DTE_Field_"+e.name),e.dataProp&&(e.data=e.dataProp),""===e.data&&(e.data=e.name);var o=h.ext.oApi;this.valFromData=function(t){return o._fnGetObjectDataFn(e.data)(t,"editor")},this.valToData=o._fnSetObjectDataFn(e.data),t=f('<div class="'+t.wrapper+" "+t.typePrefix+e.type+" "+t.namePrefix+e.name+" "+e.className+'"><label data-dte-e="label" class="'+t.label+'" for="'+e.id+'">'+e.label+'<div data-dte-e="msg-label" class="'+t["msg-label"]+'">'+e.labelInfo+'</div></label><div data-dte-e="input" class="'+t.input+'"><div data-dte-e="msg-error" class="'+t["msg-error"]+'"></div><div data-dte-e="msg-message" class="'+t["msg-message"]+'"></div><div data-dte-e="msg-info" class="'+t["msg-info"]+'">'+e.fieldInfo+"</div></div></div>"),null!==(i=this._typeFn("create",e))?a("input",t).prepend(i):t.css("display","none"),this.dom=f.extend(!0,{},r.Field.models.dom,{container:t,label:a("label",t),fieldInfo:a("msg-info",t),labelInfo:a("msg-label",t),fieldError:a("msg-error",t),fieldMessage:a("msg-message",t)}),f.each(this.s.type,function(e,t){"function"==typeof t&&n[e]===g&&(n[e]=function(){var t=Array.prototype.slice.call(arguments);return t.unshift(e),(t=n._typeFn.apply(n,t))===g?n:t})})},r.Field.prototype={dataSrc:function(){return this.s.opts.data},valFromData:null,valToData:null,destroy:function(){return this.dom.container.remove(),this._typeFn("destroy"),this},def:function(t){var e=this.s.opts;return t===g?(t=e.default!==g?e.default:e.def,f.isFunction(t)?t():t):(e.def=t,this)},disable:function(){return this._typeFn("disable"),this},displayed:function(){var t=this.dom.container;return!(!t.parents("body").length||"none"==t.css("display"))},enable:function(){return this._typeFn("enable"),this},error:function(t,e){var i=this.s.classes;return t?this.dom.container.addClass(i.error):this.dom.container.removeClass(i.error),this._msg(this.dom.fieldError,t,e)},inError:function(){return this.dom.container.hasClass(this.s.classes.error)},input:function(){return this.s.type.input?this._typeFn("input"):f("input, select, textarea",this.dom.container)},focus:function(){return this.s.type.focus?this._typeFn("focus"):f("input, select, textarea",this.dom.container).focus(),this},get:function(){var t=this._typeFn("get");return t!==g?t:this.def()},hide:function(t){var e=this.dom.container;return t===g&&(t=!0),this.s.host.display()&&t?e.slideUp():e.css("display","none"),this},label:function(t){var e=this.dom.label;return t===g?e.html():(e.html(t),this)},message:function(t,e){return this._msg(this.dom.fieldMessage,t,e)},name:function(){return this.s.opts.name},node:function(){return this.dom.container[0]},set:function(t){return this._typeFn("set",t)},show:function(t){var e=this.dom.container;return t===g&&(t=!0),this.s.host.display()&&t?e.slideDown():e.css("display","block"),this},val:function(t){return t===g?this.get():this.set(t)},_errorNode:function(){return this.dom.fieldError},_msg:function(t,e,i){return t.parent().is(":visible")?(t.html(e),e?t.slideDown(i):t.slideUp(i)):(t.html(e||"").css("display",e?"block":"none"),i&&i()),this},_typeFn:function(t){var e=Array.prototype.slice.call(arguments);e.shift(),e.unshift(this.s.opts);var i=this.s.type[t];if(i)return i.apply(this.s.host,e)}},r.Field.models={},r.Field.defaults={className:"",data:"",def:"",fieldInfo:"",id:"",label:"",labelInfo:"",name:null,type:"text"},r.Field.models.settings={type:null,name:null,classes:null,opts:null,host:null},r.Field.models.dom={container:null,label:null,labelInfo:null,fieldInfo:null,fieldError:null,fieldMessage:null},r.models={},r.models.displayController={init:function(){},open:function(){},close:function(){}},r.models.fieldType={create:function(){},get:function(){},set:function(){},enable:function(){},disable:function(){}},r.models.settings={ajaxUrl:null,ajax:null,dataSource:null,domTable:null,opts:null,displayController:null,fields:{},order:[],id:-1,displayed:!1,processing:!1,modifier:null,action:null,idSrc:null},r.models.button={label:null,fn:null,className:null},r.models.formOptions={submitOnReturn:!0,submitOnBlur:!1,blurOnBackground:!0,closeOnComplete:!0,onEsc:"close",focus:0,buttons:!0,title:!0,message:!0},r.display={};var o,s=jQuery;r.display.lightbox=s.extend(!0,{},r.models.displayController,{init:function(){return o._init(),o},open:function(t,e,i){o._shown?i&&i():(o._dte=t,(t=o._dom.content).children().detach(),t.append(e).append(o._dom.close),o._shown=!0,o._show(i))},close:function(t,e){o._shown?(o._dte=t,o._hide(e),o._shown=!1):e&&e()},_init:function(){if(!o._ready){var t=o._dom;t.content=s("div.DTED_Lightbox_Content",o._dom.wrapper),t.wrapper.css("opacity",0),t.background.css("opacity",0)}},_show:function(t){var e=o._dom;v.orientation!==g&&s("body").addClass("DTED_Lightbox_Mobile"),e.content.css("height","auto"),e.wrapper.css({top:-o.conf.offsetAni}),s("body").append(o._dom.background).append(o._dom.wrapper),o._heightCalc(),e.wrapper.animate({opacity:1,top:0},t),e.background.animate({opacity:1}),e.close.bind("click.DTED_Lightbox",function(){o._dte.close()}),e.background.bind("click.DTED_Lightbox",function(){o._dte.blur()}),s("div.DTED_Lightbox_Content_Wrapper",e.wrapper).bind("click.DTED_Lightbox",function(t){s(t.target).hasClass("DTED_Lightbox_Content_Wrapper")&&o._dte.blur()}),s(v).bind("resize.DTED_Lightbox",function(){o._heightCalc()}),o._scrollTop=s("body").scrollTop(),v.orientation!==g&&(t=s("body").children().not(e.background).not(e.wrapper),s("body").append('<div class="DTED_Lightbox_Shown"/>'),s("div.DTED_Lightbox_Shown").append(t))},_heightCalc:function(){var t=o._dom,e=s(v).height()-2*o.conf.windowPadding-s("div.DTE_Header",t.wrapper).outerHeight()-s("div.DTE_Footer",t.wrapper).outerHeight();s("div.DTE_Body_Content",t.wrapper).css("maxHeight",e)},_hide:function(t){var e=o._dom;if(t||(t=function(){}),v.orientation!==g){var i=s("div.DTED_Lightbox_Shown");i.children().appendTo("body"),i.remove()}s("body").removeClass("DTED_Lightbox_Mobile").scrollTop(o._scrollTop),e.wrapper.animate({opacity:0,top:o.conf.offsetAni},function(){s(this).detach(),t()}),e.background.animate({opacity:0},function(){s(this).detach()}),e.close.unbind("click.DTED_Lightbox"),e.background.unbind("click.DTED_Lightbox"),s("div.DTED_Lightbox_Content_Wrapper",e.wrapper).unbind("click.DTED_Lightbox"),s(v).unbind("resize.DTED_Lightbox")},_dte:null,_ready:!1,_shown:!1,_dom:{wrapper:s('<div class="DTED DTED_Lightbox_Wrapper"><div class="DTED_Lightbox_Container"><div class="DTED_Lightbox_Content_Wrapper"><div class="DTED_Lightbox_Content"></div></div></div></div>'),background:s('<div class="DTED_Lightbox_Background"><div/></div>'),close:s('<div class="DTED_Lightbox_Close"></div>'),content:null}}),(o=r.display.lightbox).conf={offsetAni:25,windowPadding:25};var l,c=jQuery;r.display.envelope=c.extend(!0,{},r.models.displayController,{init:function(t){return l._dte=t,l._init(),l},open:function(t,e,i){l._dte=t,c(l._dom.content).children().detach(),l._dom.content.appendChild(e),l._dom.content.appendChild(l._dom.close),l._show(i)},close:function(t,e){l._dte=t,l._hide(e)},_init:function(){l._ready||(l._dom.content=c("div.DTED_Envelope_Container",l._dom.wrapper)[0],y.body.appendChild(l._dom.background),y.body.appendChild(l._dom.wrapper),l._dom.background.style.visbility="hidden",l._dom.background.style.display="block",l._cssBackgroundOpacity=c(l._dom.background).css("opacity"),l._dom.background.style.display="none",l._dom.background.style.visbility="visible")},_show:function(t){t||(t=function(){}),l._dom.content.style.height="auto";var e=l._dom.wrapper.style;e.opacity=0,e.display="block";var i=l._findAttachRow(),n=l._heightCalc(),o=i.offsetWidth;e.display="none",e.opacity=1,l._dom.wrapper.style.width=o+"px",l._dom.wrapper.style.marginLeft=-o/2+"px",l._dom.wrapper.style.top=c(i).offset().top+i.offsetHeight+"px",l._dom.content.style.top=-1*n-20+"px",l._dom.background.style.opacity=0,l._dom.background.style.display="block",c(l._dom.background).animate({opacity:l._cssBackgroundOpacity},"normal"),c(l._dom.wrapper).fadeIn(),l.conf.windowScroll?c("html,body").animate({scrollTop:c(i).offset().top+i.offsetHeight-l.conf.windowPadding},function(){c(l._dom.content).animate({top:0},600,t)}):c(l._dom.content).animate({top:0},600,t),c(l._dom.close).bind("click.DTED_Envelope",function(){l._dte.close()}),c(l._dom.background).bind("click.DTED_Envelope",function(){l._dte.blur()}),c("div.DTED_Lightbox_Content_Wrapper",l._dom.wrapper).bind("click.DTED_Envelope",function(t){c(t.target).hasClass("DTED_Envelope_Content_Wrapper")&&l._dte.blur()}),c(v).bind("resize.DTED_Envelope",function(){l._heightCalc()})},_heightCalc:function(){l.conf.heightCalc?l.conf.heightCalc(l._dom.wrapper):c(l._dom.content).children().height();var t=c(v).height()-2*l.conf.windowPadding-c("div.DTE_Header",l._dom.wrapper).outerHeight()-c("div.DTE_Footer",l._dom.wrapper).outerHeight();return c("div.DTE_Body_Content",l._dom.wrapper).css("maxHeight",t),c(l._dte.dom.wrapper).outerHeight()},_hide:function(t){t||(t=function(){}),c(l._dom.content).animate({top:-(l._dom.content.offsetHeight+50)},600,function(){c([l._dom.wrapper,l._dom.background]).fadeOut("normal",t)}),c(l._dom.close).unbind("click.DTED_Lightbox"),c(l._dom.background).unbind("click.DTED_Lightbox"),c("div.DTED_Lightbox_Content_Wrapper",l._dom.wrapper).unbind("click.DTED_Lightbox"),c(v).unbind("resize.DTED_Lightbox")},_findAttachRow:function(){var t=c(l._dte.s.table).DataTable();return"head"===l.conf.attach?t.table().header():"create"===l._dte.s.action?t.table().header():t.row(l._dte.s.modifier).node()},_dte:null,_ready:!1,_cssBackgroundOpacity:1,_dom:{wrapper:c('<div class="DTED DTED_Envelope_Wrapper"><div class="DTED_Envelope_ShadowLeft"></div><div class="DTED_Envelope_ShadowRight"></div><div class="DTED_Envelope_Container"></div></div>')[0],background:c('<div class="DTED_Envelope_Background"><div/></div>')[0],close:c('<div class="DTED_Envelope_Close">&times;</div>')[0],content:null}}),(l=r.display.envelope).conf={windowPadding:50,heightCalc:null,attach:"row",windowScroll:!0},r.prototype.add=function(t){if(f.isArray(t))for(var e=0,i=t.length;e<i;e++)this.add(t[e]);else{if((e=t.name)===g)throw"Error adding field. The field requires a `name` option";if(this.s.fields[e])throw"Error adding field '"+e+"'. A field already exists with this name";this._dataSource("initField",t),this.s.fields[e]=new r.Field(t,this.classes.field,this),this.s.order.push(e)}return this},r.prototype.blur=function(){return this._blur(),this},r.prototype.bubble=function(t,e,i){var n,o,s=this;if(this._tidy(function(){s.bubble(t,e,i)}))return this;if(f.isPlainObject(e)&&(i=e,e=g),i=f.extend({},this.s.formOptions.bubble,i),e?(f.isArray(e)||(e=[e]),f.isArray(t)||(t=[t]),n=f.map(e,function(t){return s.s.fields[t]}),o=f.map(t,function(){return s._dataSource("individual",t)})):(f.isArray(t)||(t=[t]),o=f.map(t,function(t){return s._dataSource("individual",t,null,s.s.fields)}),n=f.map(o,function(t){return t.field})),this.s.bubbleNodes=f.map(o,function(t){return t.node}),(o=f.map(o,function(t){return t.edit}).sort())[0]!==o[o.length-1])throw"Editing is limited to a single row only";this._edit(o[0],"bubble");var r=this._formOptions(i);if(f(v).on("resize."+r,function(){s.bubblePosition()}),!this._preopen("bubble"))return this;var a=this.classes.bubble;o=f('<div class="'+a.wrapper+'"><div class="'+a.liner+'"><div class="'+a.table+'"><div class="'+a.close+'" /></div></div><div class="'+a.pointer+'" /></div>').appendTo("body"),a=f('<div class="'+a.bg+'"><div/></div>').appendTo("body"),this._displayReorder(n);var d=o.children().eq(0),l=d.children(),c=l.children();d.append(this.dom.formError),l.prepend(this.dom.form),i.message&&d.prepend(this.dom.formInfo),i.title&&d.prepend(this.dom.header),i.buttons&&l.append(this.dom.buttons);var u=f().add(o).add(a);return this._closeReg(function(){u.animate({opacity:0},function(){u.detach(),f(v).off("resize."+r),s._clearDynamicInfo()})}),a.click(function(){s.blur()}),c.click(function(){s._close()}),this.bubblePosition(),u.animate({opacity:1}),this._focus(n,i.focus),this._postopen("bubble"),this},r.prototype.bubblePosition=function(){var t=f("div.DTE_Bubble"),e=f("div.DTE_Bubble_Liner"),i=this.s.bubbleNodes,n=0,o=0,s=0;f.each(i,function(t,e){var i=f(e).offset();n+=i.top,o+=i.left,s+=i.left+e.offsetWidth});n/=i.length,o/=i.length,s/=i.length,i=n;var r=(o+s)/2,a=r-(d=e.outerWidth())/2,d=a+d,l=f(v).width();return t.css({top:i,left:r}),l<d+15?e.css("left",a<15?-(a-15):-(d-l+15)):e.css("left",a<15?-(a-15):0),this},r.prototype.buttons=function(t){var i=this;return"_basic"===t?t=[{label:this.i18n[this.s.action].submit,fn:function(){this.submit()}}]:f.isArray(t)||(t=[t]),f(this.dom.buttons).empty(),f.each(t,function(t,e){"string"==typeof e&&(e={label:e,fn:function(){this.submit()}}),f("<button/>",{class:i.classes.form.button+(e.className?" "+e.className:"")}).html(e.label||"").attr("tabindex",0).on("keyup",function(t){13===t.keyCode&&e.fn&&e.fn.call(i)}).on("keypress",function(t){13===t.keyCode&&t.preventDefault()}).on("mousedown",function(t){t.preventDefault()}).on("click",function(t){t.preventDefault(),e.fn&&e.fn.call(i)}).appendTo(i.dom.buttons)}),this},r.prototype.clear=function(t){var e=this,i=this.s.fields;if(t)if(f.isArray(t)){i=0;for(var n=t.length;i<n;i++)this.clear(t[i])}else i[t].destroy(),delete i[t],t=f.inArray(t,this.s.order),this.s.order.splice(t,1);else f.each(i,function(t){e.clear(t)});return this},r.prototype.close=function(){return this._close(!1),this},r.prototype.create=function(t,e,i,n){var o=this;if(this._tidy(function(){o.create(t,e,i,n)}))return this;var s=this.s.fields,r=this._crudArgs(t,e,i,n);return this.s.action="create",this.s.modifier=null,this.dom.form.style.display="block",this._actionClass(),f.each(s,function(t,e){e.set(e.def())}),this._event("initCreate"),this._assembleMain(),this._formOptions(r.opts),r.maybeOpen(),this},r.prototype.dependent=function(t,i,o){var s=this,n=this.field(t),r={type:"POST",dataType:"json"},a=(o=f.extend({event:"change",data:null,preUpdate:null,postUpdate:null},o),function(n){o.preUpdate&&o.preUpdate(n),f.each({labels:"label",options:"update",values:"val",messages:"message",errors:"error"},function(t,i){n[t]&&f.each(n[t],function(t,e){s.field(t)[i](e)})}),f.each(["hide","show","enable","disable"],function(t,e){n[e]&&s[e](n[e])}),o.postUpdate&&o.postUpdate(n)});return n.input().on(o.event,function(){var t={};if(t.row=s._dataSource("get",s.modifier(),s.s.fields),t.values=s.val(),o.data){var e=o.data(t);e&&(o.data=e)}"function"==typeof i?(t=i(n.val(),t,a))&&a(t):(f.isPlainObject(i)?f.extend(r,i):r.url=i,f.ajax(f.extend(r,{url:i,data:t,success:a})))}),this},r.prototype.disable=function(t){var i=this.s.fields;return f.isArray(t)||(t=[t]),f.each(t,function(t,e){i[e].disable()}),this},r.prototype.display=function(t){return t===g?this.s.displayed:this[t?"open":"close"]()},r.prototype.displayed=function(){return f.map(this.s.fields,function(t,e){return t.displayed()?e:null})},r.prototype.edit=function(t,e,i,n,o){var s=this;if(this._tidy(function(){s.edit(t,e,i,n,o)}))return this;var r=this._crudArgs(e,i,n,o);return this._edit(t,"main"),this._assembleMain(),this._formOptions(r.opts),r.maybeOpen(),this},r.prototype.enable=function(t){var i=this.s.fields;return f.isArray(t)||(t=[t]),f.each(t,function(t,e){i[e].enable()}),this},r.prototype.error=function(t,e){return e===g?this._message(this.dom.formError,t):this.s.fields[t].error(e),this},r.prototype.field=function(t){return this.s.fields[t]},r.prototype.fields=function(){return f.map(this.s.fields,function(t,e){return e})},r.prototype.get=function(t){var i=this.s.fields;if(t||(t=this.fields()),f.isArray(t)){var n={};return f.each(t,function(t,e){n[e]=i[e].get()}),n}return i[t].get()},r.prototype.hide=function(t,i){t?f.isArray(t)||(t=[t]):t=this.fields();var n=this.s.fields;return f.each(t,function(t,e){n[e].hide(i)}),this},r.prototype.inline=function(t,e,i){var n=this;f.isPlainObject(e)&&(i=e,e=g);i=f.extend({},this.s.formOptions.inline,i);var o=this._dataSource("individual",t,e,this.s.fields),s=f(o.node),r=o.field;if(f("div.DTE_Field",s).length||this._tidy(function(){n.inline(t,e,i)}))return this;this._edit(o.edit,"inline");var a=this._formOptions(i);if(!this._preopen("inline"))return this;var d=s.contents().detach();return s.append(f('<div class="DTE DTE_Inline"><div class="DTE_Inline_Field"/><div class="DTE_Inline_Buttons"/></div>')),s.find("div.DTE_Inline_Field").append(r.node()),i.buttons&&s.find("div.DTE_Inline_Buttons").append(this.dom.buttons),this._closeReg(function(t){f(y).off("click"+a),t||(s.contents().detach(),s.append(d)),n._clearDynamicInfo()}),setTimeout(function(){f(y).on("click"+a,function(t){var e=f.fn.addBack?"addBack":"andSelf";!r._typeFn("owns",t.target)&&-1===f.inArray(s[0],f(t.target).parents()[e]())&&n.blur()})},0),this._focus([r],i.focus),this._postopen("inline"),this},r.prototype.message=function(t,e){return e===g?this._message(this.dom.formInfo,t):this.s.fields[t].message(e),this},r.prototype.mode=function(){return this.s.action},r.prototype.modifier=function(){return this.s.modifier},r.prototype.node=function(t){var e=this.s.fields;return t||(t=this.order()),f.isArray(t)?f.map(t,function(t){return e[t].node()}):e[t].node()},r.prototype.off=function(t,e){return f(this).off(this._eventName(t),e),this},r.prototype.on=function(t,e){return f(this).on(this._eventName(t),e),this},r.prototype.one=function(t,e){return f(this).one(this._eventName(t),e),this},r.prototype.open=function(){var e=this;return this._displayReorder(),this._closeReg(function(){e.s.displayController.close(e,function(){e._clearDynamicInfo()})}),this._preopen("main")&&(this.s.displayController.open(this,this.dom.wrapper),this._focus(f.map(this.s.order,function(t){return e.s.fields[t]}),this.s.editOpts.focus),this._postopen("main")),this},r.prototype.order=function(t){if(!t)return this.s.order;if(arguments.length&&!f.isArray(t)&&(t=Array.prototype.slice.call(arguments)),this.s.order.slice().sort().join("-")!==t.slice().sort().join("-"))throw"All fields, and no additional fields, must be provided for ordering.";return f.extend(this.s.order,t),this._displayReorder(),this},r.prototype.remove=function(t,e,i,n,o){var s=this;if(this._tidy(function(){s.remove(t,e,i,n,o)}))return this;t.length===g&&(t=[t]);var r=this._crudArgs(e,i,n,o);return this.s.action="remove",this.s.modifier=t,this.dom.form.style.display="none",this._actionClass(),this._event("initRemove",[this._dataSource("node",t),this._dataSource("get",t,this.s.fields),t]),this._assembleMain(),this._formOptions(r.opts),r.maybeOpen(),null!==(r=this.s.editOpts).focus&&f("button",this.dom.buttons).eq(r.focus).focus(),this},r.prototype.set=function(t,e){var i=this.s.fields;if(!f.isPlainObject(t)){var n={};n[t]=e,t=n}return f.each(t,function(t,e){i[t].set(e)}),this},r.prototype.show=function(t,i){t?f.isArray(t)||(t=[t]):t=this.fields();var n=this.s.fields;return f.each(t,function(t,e){n[e].show(i)}),this},r.prototype.submit=function(t,e,i,n){var o=this,s=this.s.fields,r=[],a=0,d=!1;if(this.s.processing||!this.s.action)return this;this._processing(!0);var l=function(){r.length!==a||d||(d=!0,o._submit(t,e,i,n))};return this.error(),f.each(s,function(t,e){e.inError()&&r.push(t)}),f.each(r,function(t,e){s[e].error("",function(){a++,l()})}),l(),this},r.prototype.title=function(t){var e=f(this.dom.header).children("div."+this.classes.header.content);return t===g?e.html():(e.html(t),this)},r.prototype.val=function(t,e){return e===g?this.get(t):this.set(t,e)},(t=h.Api.register)("editor()",function(){return i(this)}),t("row.create()",function(t){var e=i(this);e.create(n(e,t,"create"))}),t("row().edit()",function(t){var e=i(this);e.edit(this[0][0],n(e,t,"edit"))}),t("row().delete()",function(t){var e=i(this);e.remove(this[0][0],n(e,t,"remove",1))}),t("rows().delete()",function(t){var e=i(this);e.remove(this[0],n(e,t,"remove",this[0].length))}),t("cell().edit()",function(t){i(this).inline(this[0][0],t)}),t("cells().edit()",function(t){i(this).bubble(this[0],t)}),r.pairs=function(t,e,i){var n,o,s;e=f.extend({label:"label",value:"value"},e);if(f.isArray(t))for(n=0,o=t.length;n<o;n++)s=t[n],f.isPlainObject(s)?i(s[e.value]===g?s[e.label]:s[e.value],s[e.label],n):i(s,s,n);else n=0,f.each(t,function(t,e){i(e,t,n),n++})},r.safeId=function(t){return t.replace(".","-")},r.prototype._constructor=function(t){t=f.extend(!0,{},r.defaults,t),this.s=f.extend(!0,{},r.models.settings,{table:t.domTable||t.table,dbTable:t.dbTable||null,ajaxUrl:t.ajaxUrl,ajax:t.ajax,idSrc:t.idSrc,dataSource:t.domTable||t.table?r.dataSources.dataTable:r.dataSources.html,formOptions:t.formOptions}),this.classes=f.extend(!0,{},r.classes),this.i18n=t.i18n;var n=this,e=this.classes;if(this.dom={wrapper:f('<div class="'+e.wrapper+'"><div data-dte-e="processing" class="'+e.processing.indicator+'"></div><div data-dte-e="body" class="'+e.body.wrapper+'"><div data-dte-e="body_content" class="'+e.body.content+'"/></div><div data-dte-e="foot" class="'+e.footer.wrapper+'"><div class="'+e.footer.content+'"/></div></div>')[0],form:f('<form data-dte-e="form" class="'+e.form.tag+'"><div data-dte-e="form_content" class="'+e.form.content+'"/></form>')[0],formError:f('<div data-dte-e="form_error" class="'+e.form.error+'"/>')[0],formInfo:f('<div data-dte-e="form_info" class="'+e.form.info+'"/>')[0],header:f('<div data-dte-e="head" class="'+e.header.wrapper+'"><div class="'+e.header.content+'"/></div>')[0],buttons:f('<div data-dte-e="form_buttons" class="'+e.form.buttons+'"/>')[0]},f.fn.dataTable.TableTools){var i=f.fn.dataTable.TableTools.BUTTONS,o=this.i18n;f.each(["create","edit","remove"],function(t,e){i["editor_"+e].sButtonText=o[e].button})}f.each(t.events,function(t,e){n.on(t,function(){var t=Array.prototype.slice.call(arguments);t.shift(),e.apply(n,t)})});var s=(e=this.dom).wrapper;e.formContent=a("form_content",e.form)[0],e.footer=a("foot",s)[0],e.body=a("body",s)[0],e.bodyContent=a("body_content",s)[0],e.processing=a("processing",s)[0],t.fields&&this.add(t.fields),f(y).one("init.dt.dte",function(t,e){n.s.table&&e.nTable===f(n.s.table).get(0)&&(e._editor=n)}).on("xhr.dt",function(t,e,i){n.s.table&&e.nTable===f(n.s.table).get(0)&&n._optionsUpdate(i)}),this.s.displayController=r.display[t.display].init(this),this._event("initComplete",[])},r.prototype._actionClass=function(){var t=this.classes.actions,e=this.s.action,i=f(this.dom.wrapper);i.removeClass([t.create,t.edit,t.remove].join(" ")),"create"===e?i.addClass(t.create):"edit"===e?i.addClass(t.edit):"remove"===e&&i.addClass(t.remove)},r.prototype._ajax=function(t,e,i){var n,o={type:"POST",dataType:"json",data:null,success:e,error:i};n=this.s.action;var s=this.s.ajax||this.s.ajaxUrl,r="edit"===n||"remove"===n?this._dataSource("id",this.s.modifier):null;if(f.isArray(r)&&(r=r.join(",")),f.isPlainObject(s)&&s[n]&&(s=s[n]),f.isFunction(s)){var a=null;o=null;if(this.s.ajaxUrl){var d=this.s.ajaxUrl;d.create&&(a=d[n]),-1!==a.indexOf(" ")&&(o=(n=a.split(" "))[0],a=n[1]),a=a.replace(/_id_/,r)}s(o,a,t,e,i)}else"string"==typeof s?-1!==s.indexOf(" ")?(n=s.split(" "),o.type=n[0],o.url=n[1]):o.url=s:o=f.extend({},o,s||{}),o.url=o.url.replace(/_id_/,r),o.data&&(e=f.isFunction(o.data)?o.data(t):o.data,t=f.isFunction(o.data)&&e?e:f.extend(!0,t,e)),o.data=t,f.ajax(o)},r.prototype._assembleMain=function(){var t=this.dom;f(t.wrapper).prepend(t.header),f(t.footer).append(t.formError).append(t.buttons),f(t.bodyContent).append(t.formInfo).append(t.form)},r.prototype._blur=function(){var t=this.s.editOpts;t.blurOnBackground&&!1!==this._event("preBlur")&&(t.submitOnBlur?this.submit():this._close())},r.prototype._clearDynamicInfo=function(){var t=this.classes.field.error,e=this.s.fields;f("div."+t,this.dom.wrapper).removeClass(t),f.each(e,function(t,e){e.error("").message("")}),this.error("").message("")},r.prototype._close=function(t){!1!==this._event("preClose")&&(this.s.closeCb&&(this.s.closeCb(t),this.s.closeCb=null),this.s.closeIcb&&(this.s.closeIcb(),this.s.closeIcb=null),f("body").off("focus.editor-focus"),this.s.displayed=!1,this._event("close"))},r.prototype._closeReg=function(t){this.s.closeCb=t},r.prototype._crudArgs=function(t,e,i,n){var o,s,r,a=this;return f.isPlainObject(t)||("boolean"==typeof t?(r=t,t=e):(o=t,s=e,r=i,t=n)),r===g&&(r=!0),o&&a.title(o),s&&a.buttons(s),{opts:f.extend({},this.s.formOptions.main,t),maybeOpen:function(){r&&a.open()}}},r.prototype._dataSource=function(t){var e=Array.prototype.slice.call(arguments);e.shift();var i=this.s.dataSource[t];if(i)return i.apply(this,e)},r.prototype._displayReorder=function(t){var i=f(this.dom.formContent),n=this.s.fields;t=t||this.s.order;i.children().detach(),f.each(t,function(t,e){i.append(e instanceof r.Field?e.node():n[e].node())})},r.prototype._edit=function(t,e){var i=this.s.fields,n=this._dataSource("get",t,i);this.s.modifier=t,this.s.action="edit",this.dom.form.style.display="block",this._actionClass(),f.each(i,function(t,e){var i=e.valFromData(n);e.set(i!==g?i:e.def())}),this._event("initEdit",[this._dataSource("node",t),n,t,e])},r.prototype._event=function(t,e){if(e||(e=[]),!f.isArray(t))return i=f.Event(t),f(this).triggerHandler(i,e),i.result;for(var i=0,n=t.length;i<n;i++)this._event(t[i],e)},r.prototype._eventName=function(t){for(var e=t.split(" "),i=0,n=e.length;i<n;i++){var o=(t=e[i]).match(/^on([A-Z])/);o&&(t=o[1].toLowerCase()+t.substring(3)),e[i]=t}return e.join(" ")},r.prototype._focus=function(t,e){var i;"number"==typeof e?i=t[e]:e&&(i=0===e.indexOf("jq:")?f("div.DTE "+e.replace(/^jq:/,"")):this.s.fields[e]),(this.s.setFocus=i)&&i.focus()},r.prototype._formOptions=function(o){var s=this,t=d++,e=".dteInline"+t;return this.s.editOpts=o,this.s.editCount=t,"string"==typeof o.title&&(this.title(o.title),o.title=!0),"string"==typeof o.message&&(this.message(o.message),o.message=!0),"boolean"!=typeof o.buttons&&(this.buttons(o.buttons),o.buttons=!0),f(y).on("keydown"+e,function(t){var e=f(y.activeElement),i=e.length?e[0].nodeName.toLowerCase():null,n=f(e).attr("type");i="input"===i&&-1!==f.inArray(n,["color","date","datetime","datetime-local","email","month","number","password","range","search","tel","text","time","url","week"]);if(s.s.displayed&&o.submitOnReturn&&13===t.keyCode&&i)t.preventDefault(),s.submit();else if(27===t.keyCode)switch(t.preventDefault(),o.onEsc){case"blur":s.blur();break;case"close":s.close();break;case"submit":s.submit()}else e.parents(".DTE_Form_Buttons").length&&(37===t.keyCode?e.prev("button").focus():39===t.keyCode&&e.next("button").focus())}),this.s.closeIcb=function(){f(y).off("keydown"+e)},e},r.prototype._optionsUpdate=function(e){var i=this;e.options&&f.each(this.s.fields,function(t){e.options[t]!==g&&i.field(t).update(e.options[t])})},r.prototype._message=function(t,e){!e&&this.s.displayed?f(t).fadeOut():e?this.s.displayed?f(t).html(e).fadeIn():(f(t).html(e),t.style.display="block"):t.style.display="none"},r.prototype._postopen=function(t){var e=this;return f(this.dom.form).off("submit.editor-internal").on("submit.editor-internal",function(t){t.preventDefault()}),"main"!==t&&"bubble"!==t||f("body").on("focus.editor-focus",function(){0===f(y.activeElement).parents(".DTE").length&&0===f(y.activeElement).parents(".DTED").length&&e.s.setFocus&&e.s.setFocus.focus()}),this._event("open",[t]),!0},r.prototype._preopen=function(t){return!1!==this._event("preOpen",[t])&&(this.s.displayed=t,!0)},r.prototype._processing=function(t){var e=f(this.dom.wrapper),i=this.dom.processing.style,n=this.classes.processing.active;t?(i.display="block",e.addClass(n),f("div.DTE").addClass(n)):(i.display="none",e.removeClass(n),f("div.DTE").removeClass(n)),this.s.processing=t,this._event("processing",[t])},r.prototype._submit=function(i,n,t,o){var s=this,r=h.ext.oApi._fnSetObjectDataFn,a={},d=this.s.fields,l=this.s.action,c=this.s.editCount,u=this.s.modifier,p={action:this.s.action,data:{}};this.s.dbTable&&(p.table=this.s.dbTable),"create"!==l&&"edit"!==l||(f.each(d,function(t,e){r(e.name())(p.data,e.get())}),f.extend(!0,a,p.data)),"edit"!==l&&"remove"!==l||(p.id=this._dataSource("id",u),"edit"===l&&f.isArray(p.id)&&(p.id=p.id[0])),t&&t(p),!1===this._event("preSubmit",[p,l])?this._processing(!1):this._ajax(p,function(t){var e;s._event("postSubmit",[t,p,l]),t.error||(t.error=""),t.fieldErrors||(t.fieldErrors=[]),t.error||t.fieldErrors.length?(s.error(t.error),f.each(t.fieldErrors,function(t,e){var i=d[e.name];i.error(e.status||"Error"),0===t&&(f(s.dom.bodyContent,s.s.wrapper).animate({scrollTop:f(i.node()).position().top},500),i.focus())}),n&&n.call(s,t)):(e=t.row!==g?t.row:a,s._event("setData",[t,e,l]),"create"===l?(null===s.s.idSrc&&t.id?e.DT_RowId=t.id:t.id&&r(s.s.idSrc)(e,t.id),s._event("preCreate",[t,e]),s._dataSource("create",d,e),s._event(["create","postCreate"],[t,e])):"edit"===l?(s._event("preEdit",[t,e]),s._dataSource("edit",u,d,e),s._event(["edit","postEdit"],[t,e])):"remove"===l&&(s._event("preRemove",[t]),s._dataSource("remove",u,d),s._event(["remove","postRemove"],[t])),c===s.s.editCount&&(s.s.action=null,s.s.editOpts.closeOnComplete&&(o===g||o)&&s._close(!0)),i&&i.call(s,t),s._event("submitSuccess",[t,e])),s._processing(!1),s._event("submitComplete",[t,e])},function(t,e,i){s._event("postSubmit",[t,e,i,p]),s.error(s.i18n.error.system),s._processing(!1),n&&n.call(s,t,e,i),s._event(["submitError","submitComplete"],[t,e,i,p])})},r.prototype._tidy=function(e){if(this.s.processing)return this.one("submitComplete",e),!0;if(f("div.DTE_Inline").length||"inline"===this.display()){var i=this;return this.one("close",function(){i.s.processing?i.one("submitComplete",function(){var t=new f.fn.dataTable.Api(i.s.table);i.s.table&&t.settings()[0].oFeatures.bServerSide?t.one("draw",e):e()}):e()}).blur(),!0}return!1},r.defaults={table:null,ajaxUrl:null,fields:[],display:"lightbox",ajax:null,idSrc:null,events:{},i18n:{create:{button:"New",title:"Create new entry",submit:"Create"},edit:{button:"Edit",title:"Edit entry",submit:"Update"},remove:{button:"Delete",title:"Delete",submit:"Delete",confirm:{_:"Are you sure you wish to delete %d rows?",1:"Are you sure you wish to delete 1 row?"}},error:{system:'A system error has occurred (<a target="_blank" href="//datatables.net/tn/12">More information</a>).'}},formOptions:{bubble:f.extend({},r.models.formOptions,{title:!1,message:!1,buttons:"_basic"}),inline:f.extend({},r.models.formOptions,{buttons:!1}),main:f.extend({},r.models.formOptions)}};var u=function(i,t,n){f.each(t,function(t,e){p(i,e.dataSrc()).each(function(){for(;this.childNodes.length;)this.removeChild(this.firstChild)}).html(e.valFromData(n))})},p=function(t,e){var i=t?f('[data-editor-id="'+t+'"]').find('[data-editor-field="'+e+'"]'):[];return i.length?i:f('[data-editor-field="'+e+'"]')},t=r.dataSources={},_=function(t){t=f(t),setTimeout(function(){t.addClass("highlight"),setTimeout(function(){t.addClass("noHighlight").removeClass("highlight"),setTimeout(function(){t.removeClass("noHighlight")},550)},500)},20)},m=function(e,t,i){if(t&&t.length!==g&&"function"!=typeof t)return f.map(t,function(t){return m(e,t,i)});if(t=f(e).DataTable().row(t),null===i){var n=t.data();return n.DT_RowId!==g?n.DT_RowId:t.node().id}return h.ext.oApi._fnGetObjectDataFn(i)(t.data())};t.dataTable={id:function(t){return m(this.s.table,t,this.s.idSrc)},get:function(t){var e=f(this.s.table).DataTable().rows(t).data().toArray();return f.isArray(t)?e:e[0]},node:function(t){var e=f(this.s.table).DataTable().rows(t).nodes().toArray();return f.isArray(t)?e:e[0]},individual:function(t,e,i){var n,o,s=f(this.s.table).DataTable();if(f(t).hasClass("dtr-data")?o=s.responsive.index(f(t).closest("li")):(o=(t=s.cell(t)).index(),t=t.node()),i){if(e)n=i[e];else{var r=(e=s.settings()[0].aoColumns[o.column]).editField!==g?e.editField:e.mData;f.each(i,function(t,e){e.dataSrc()===r&&(n=e)})}if(!n)throw"Unable to automatically determine field from source. Please specify the field name"}return{node:t,edit:o.row,field:n}},create:function(t,e){var i=f(this.s.table).DataTable();if(i.settings()[0].oFeatures.bServerSide)i.draw();else if(null!==e){var n=i.row.add(e);i.draw(),_(n.node())}},edit:function(t,e,i){(e=f(this.s.table).DataTable()).settings()[0].oFeatures.bServerSide?e.draw(!1):(t=e.row(t),null===i?t.remove().draw(!1):(t.data(i).draw(!1),_(t.node())))},remove:function(t){var e=f(this.s.table).DataTable();e.settings()[0].oFeatures.bServerSide?e.draw():e.rows(t).remove().draw()}},t.html={id:function(t){return t},initField:function(t){var e=f('[data-editor-label="'+(t.data||t.name)+'"]');!t.label&&e.length&&(t.label=e.html())},get:function(n,t){var o={};return f.each(t,function(t,e){var i=p(n,e.dataSrc()).html();e.valToData(o,null===i?g:i)}),o},node:function(){return y},individual:function(t,e,i){var n,o;return"string"==typeof t&&null===e?(n=p(null,e=t)[0],o=null):"string"==typeof t?(n=p(t,e)[0],o=t):(e=e||f(t).attr("data-editor-field"),o=f(t).parents("[data-editor-id]").data("editor-id"),n=t),{node:n,edit:o,field:i?i[e]:null}},create:function(t,e){e&&f('[data-editor-id="'+e[this.s.idSrc]+'"]').length&&u(e[this.s.idSrc],t,e)},edit:function(t,e,i){u(t,e,i)},remove:function(t){f('[data-editor-id="'+t+'"]').remove()}},t.js={id:function(t){return t},get:function(t,e){var i={};return f.each(e,function(t,e){e.valToData(i,e.val())}),i},node:function(){return y}},r.classes={wrapper:"DTE",processing:{indicator:"DTE_Processing_Indicator",active:"DTE_Processing"},header:{wrapper:"DTE_Header",content:"DTE_Header_Content"},body:{wrapper:"DTE_Body",content:"DTE_Body_Content"},footer:{wrapper:"DTE_Footer",content:"DTE_Footer_Content"},form:{wrapper:"DTE_Form",content:"DTE_Form_Content",tag:"",info:"DTE_Form_Info",error:"DTE_Form_Error",buttons:"DTE_Form_Buttons",button:"btn"},field:{wrapper:"DTE_Field",typePrefix:"DTE_Field_Type_",namePrefix:"DTE_Field_Name_",label:"DTE_Label",input:"DTE_Field_Input",error:"DTE_Field_StateError","msg-label":"DTE_Label_Info","msg-error":"DTE_Field_Error","msg-message":"DTE_Field_Message","msg-info":"DTE_Field_Info"},actions:{create:"DTE_Action_Create",edit:"DTE_Action_Edit",remove:"DTE_Action_Remove"},bubble:{wrapper:"DTE DTE_Bubble",liner:"DTE_Bubble_Liner",table:"DTE_Bubble_Table",close:"DTE_Bubble_Close",pointer:"DTE_Bubble_Triangle",bg:"DTE_Bubble_Background"}},f.fn.dataTable.TableTools&&((t=f.fn.dataTable.TableTools.BUTTONS).editor_create=f.extend(!0,t.text,{sButtonText:null,editor:null,formTitle:null,formButtons:[{label:null,fn:function(){this.submit()}}],fnClick:function(t,e){var i=e.editor,n=i.i18n.create,o=e.formButtons;o[0].label||(o[0].label=n.submit),i.create({title:n.title,buttons:o})}}),t.editor_edit=f.extend(!0,t.select_single,{sButtonText:null,editor:null,formTitle:null,formButtons:[{label:null,fn:function(){this.submit()}}],fnClick:function(t,e){var i=this.fnGetSelectedIndexes();if(1===i.length){var n=e.editor,o=n.i18n.edit,s=e.formButtons;s[0].label||(s[0].label=o.submit),n.edit(i[0],{title:o.title,buttons:s})}}}),t.editor_remove=f.extend(!0,t.select,{sButtonText:null,editor:null,formTitle:null,formButtons:[{label:null,fn:function(){var t=this;this.submit(function(){f.fn.dataTable.TableTools.fnGetInstance(f(t.s.table).DataTable().table().node()).fnSelectNone()})}}],question:null,fnClick:function(t,e){var i=this.fnGetSelectedIndexes();if(0!==i.length){var n=e.editor,o=n.i18n.remove,s=e.formButtons,r="string"===o.confirm?o.confirm:o.confirm[i.length]?o.confirm[i.length]:o.confirm._;s[0].label||(s[0].label=o.submit),n.remove(i,{message:r.replace(/%d/g,i.length),title:o.title,buttons:s})}}})),r.fieldTypes={};var b=r.fieldTypes;t=f.extend(!0,{},r.models.fieldType,{get:function(t){return t._input.val()},set:function(t,e){t._input.val(e).trigger("change")},enable:function(t){t._input.prop("disabled",!1)},disable:function(t){t._input.prop("disabled",!0)}});return b.hidden=f.extend(!0,{},t,{create:function(t){return t._val=t.value,null},get:function(t){return t._val},set:function(t,e){t._val=e}}),b.readonly=f.extend(!0,{},t,{create:function(t){return t._input=f("<input/>").attr(f.extend({id:r.safeId(t.id),type:"text",readonly:"readonly"},t.attr||{})),t._input[0]}}),b.text=f.extend(!0,{},t,{create:function(t){return t._input=f("<input/>").attr(f.extend({id:r.safeId(t.id),type:"text"},t.attr||{})),t._input[0]}}),b.password=f.extend(!0,{},t,{create:function(t){return t._input=f("<input/>").attr(f.extend({id:r.safeId(t.id),type:"password"},t.attr||{})),t._input[0]}}),b.textarea=f.extend(!0,{},t,{create:function(t){return t._input=f("<textarea/>").attr(f.extend({id:r.safeId(t.id)},t.attr||{})),t._input[0]}}),b.select=f.extend(!0,{},t,{_addOptions:function(t,e){var n=t._input[0].options;n.length=0,e&&r.pairs(e,t.optionsPair,function(t,e,i){n[i]=new Option(e,t)})},create:function(t){return t._input=f("<select/>").attr(f.extend({id:r.safeId(t.id)},t.attr||{})),b.select._addOptions(t,t.options||t.ipOpts),t._input[0]},update:function(t,e){var i=f(t._input),n=i.val();b.select._addOptions(t,e),i.children('[value="'+n+'"]').length&&i.val(n)}}),b.checkbox=f.extend(!0,{},t,{_addOptions:function(n,t){var o=n._input.empty();t&&r.pairs(t,n.optionsPair,function(t,e,i){o.append('<div><input id="'+r.safeId(n.id)+"_"+i+'" type="checkbox" value="'+t+'" /><label for="'+r.safeId(n.id)+"_"+i+'">'+e+"</label></div>")})},create:function(t){return t._input=f("<div />"),b.checkbox._addOptions(t,t.options||t.ipOpts),t._input[0]},get:function(t){var e=[];return t._input.find("input:checked").each(function(){e.push(this.value)}),t.separator?e.join(t.separator):e},set:function(t,e){var i=t._input.find("input");f.isArray(e)||"string"!=typeof e?f.isArray(e)||(e=[e]):e=e.split(t.separator||"|");var n,o,s=e.length;i.each(function(){for(o=!1,n=0;n<s;n++)if(this.value==e[n]){o=!0;break}this.checked=o}).change()},enable:function(t){t._input.find("input").prop("disabled",!1)},disable:function(t){t._input.find("input").prop("disabled",!0)},update:function(t,e){var i=b.checkbox,n=i.get(t);i._addOptions(t,e),i.set(t,n)}}),b.radio=f.extend(!0,{},t,{_addOptions:function(n,t){var o=n._input.empty();t&&r.pairs(t,n.optionsPair,function(t,e,i){o.append('<div><input id="'+r.safeId(n.id)+"_"+i+'" type="radio" name="'+n.name+'" /><label for="'+r.safeId(n.id)+"_"+i+'">'+e+"</label></div>"),f("input:last",o).attr("value",t)[0]._editor_val=t})},create:function(t){return t._input=f("<div />"),b.radio._addOptions(t,t.options||t.ipOpts),this.on("open",function(){t._input.find("input").each(function(){this._preChecked&&(this.checked=!0)})}),t._input[0]},get:function(t){return(t=t._input.find("input:checked")).length?t[0]._editor_val:g},set:function(t,e){t._input.find("input").each(function(){this._preChecked=!1,this._editor_val==e?this._preChecked=this.checked=!0:this._preChecked=this.checked=!1}),t._input.find("input:checked").change()},enable:function(t){t._input.find("input").prop("disabled",!1)},disable:function(t){t._input.find("input").prop("disabled",!0)},update:function(t,e){var i=b.radio,n=i.get(t);i._addOptions(t,e);var o=t._input.find("input");i.set(t,o.filter('[value="'+n+'"]').length?n:o.eq(0).attr("value"))}}),b.date=f.extend(!0,{},t,{create:function(t){return f.datepicker?(t._input=f("<input />").attr(f.extend({type:"text",id:r.safeId(t.id),class:"jqueryui"},t.attr||{})),t.dateFormat||(t.dateFormat=f.datepicker.RFC_2822),t.dateImage===g&&(t.dateImage="../../images/calender.png"),setTimeout(function(){f(t._input).datepicker(f.extend({showOn:"both",dateFormat:t.dateFormat,buttonImage:t.dateImage,buttonImageOnly:!0},t.opts)),f("#ui-datepicker-div").css("display","none")},10)):t._input=f("<input/>").attr(f.extend({id:r.safeId(t.id),type:"date"},t.attr||{})),t._input[0]},set:function(t,e){f.datepicker&&t._input.hasClass("hasDatepicker")?t._input.datepicker("setDate",e).change():f(t._input).val(e)},enable:function(t){f.datepicker?t._input.datepicker("enable"):f(t._input).prop("disabled",!1)},disable:function(t){f.datepicker?t._input.datepicker("disable"):f(t._input).prop("disabled",!0)},owns:function(t,e){return!(!f(e).parents("div.ui-datepicker").length&&!f(e).parents("div.ui-datepicker-header").length)}}),r.prototype.CLASS="Editor",r.version="1.4.2",r};"function"==typeof define&&define.amd?define(["jquery","datatables"],t):"object"==typeof exports?t(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.Editor&&t(jQuery,jQuery.fn.dataTable)}(window,document);
!function(l){l.fn.clearSearch=function(e){var c=l.extend({clearClass:"clear_input",focusAfterClear:!0,linkText:"&times;"},e);return this.each(function(){var a,s=l(this),e=c.clearClass+"_div";function t(){var e,t;0<s.val().replace(/^\s+|\s+$/g,"").length?a.show():a.hide(),e=s.outerWidth(),t=s.outerHeight(),a.css({top:t/2-a.height()/2,left:e-t/2-a.height()/2})}s.parent().hasClass(e)||(s.wrap('<div style="position: relative;" class="'+e+'">'+s.html()+"</div>"),s.after('<a style="position: absolute; cursor: pointer;" class="'+c.clearClass+'">'+c.linkText+"</a>")),(a=s.next()).on("click",function(){s.val("").change(),t(),c.focusAfterClear&&s.focus(),"function"==typeof c.callback&&c.callback()}),s.on("keyup keydown change focus",t),t()})}}(jQuery);
function HighlightedDate(e,t,a){"use strict";this.date=e,this.desc=t,this.style=a}!function(I){"use strict";var e={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeek:["ن","ث","ع","خ","ج","س","ح"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Min","Sen","Sel","Rab","Kam","Jum","Sab"]},is:{months:["Janúar","Febrúar","Mars","Apríl","Maí","Júní","Júlí","Ágúst","September","Október","Nóvember","Desember"],dayOfWeek:["Sun","Mán","Þrið","Mið","Fim","Fös","Lau"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeek:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeek:["B","Be","Ça","Ç","Ca","C","Ş"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeek:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeek:["P","E","T","K","N","R","L"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeek:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeek:["Su","Ma","Ti","Ke","To","Pe","La"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeek:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeek:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeek:["Sv","Pr","Ot","Tr","Ct","Pk","St"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeek:["нед","пон","вто","сре","чет","пет","саб"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeek:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeek:["Ne","Po","Ut","St","Št","Pi","So"]},sq:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sre","čet","Pet","Sub"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeek:["нед","пон","уто","сре","чет","пет","суб"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeek:["א'","ב'","ג'","ד'","ה'","ו'","שבת"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeek:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeek:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,disabledMinTime:!1,disabledMaxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1};window.getComputedStyle||(window.getComputedStyle=function(a,e){return this.el=a,this.getPropertyValue=function(e){var t=/(\-([a-z]){1})/g;return"float"===e&&(e="styleFloat"),t.test(e)&&(e=e.replace(t,function(e,t,a){return a.toUpperCase()})),a.currentStyle[e]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var a,n;for(a=t||0,n=this.length;a<n;a+=1)if(this[a]===e)return a;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},I.fn.xdsoftScroller=function(p){return this.each(function(){var o,s,i,u,d,l=I(this),a=function(e){var t,a={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],a.x=t.clientX,a.y=t.clientY):"mousedown"!==e.type&&"mouseup"!==e.type&&"mousemove"!==e.type&&"mouseover"!==e.type&&"mouseout"!==e.type&&"mouseenter"!==e.type&&"mouseleave"!==e.type||(a.x=e.clientX,a.y=e.clientY),a},c=100,n=!1,r=0,f=0,m=0,t=!1,h=0,g=function(){};"hide"!==p?(I(this).hasClass("xdsoft_scroller_box")||(o=l.children().eq(0),s=l[0].clientHeight,i=o[0].offsetHeight,u=I('<div class="xdsoft_scrollbar"></div>'),d=I('<div class="xdsoft_scroller"></div>'),u.append(d),l.addClass("xdsoft_scroller_box").append(u),g=function(e){var t=a(e).y-r+h;t<0&&(t=0),t+d[0].offsetHeight>m&&(t=m-d[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[c?t/c:0])},d.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(e){s||l.trigger("resize_scroll.xdsoft_scroller",[p]),r=a(e).y,h=parseInt(d.css("margin-top"),10),m=u[0].offsetHeight,"mousedown"===e.type?(document&&I(document.body).addClass("xdsoft_noselect"),I([document.body,window]).on("mouseup.xdsoft_scroller",function e(){I([document.body,window]).off("mouseup.xdsoft_scroller",e).off("mousemove.xdsoft_scroller",g).removeClass("xdsoft_noselect")}),I(document.body).on("mousemove.xdsoft_scroller",g)):(t=!0,e.stopPropagation(),e.preventDefault())}).on("touchmove",function(e){t&&(e.preventDefault(),g(e))}).on("touchend touchcancel",function(e){t=!1,h=0}),l.on("scroll_element.xdsoft_scroller",function(e,t){s||l.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=1<t?1:t<0||isNaN(t)?0:t,d.css("margin-top",c*t),setTimeout(function(){o.css("marginTop",-parseInt((o[0].offsetHeight-s)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,a){var n,r;s=l[0].clientHeight,i=o[0].offsetHeight,r=(n=s/i)*u[0].offsetHeight,1<n?d.hide():(d.show(),d.css("height",parseInt(10<r?r:10,10)),c=u[0].offsetHeight-d[0].offsetHeight,!0!==a&&l.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(o.css("marginTop"),10))/(i-s)]))}),l.on("mousewheel",function(e){var t=Math.abs(parseInt(o.css("marginTop"),10));return(t-=20*e.deltaY)<0&&(t=0),l.trigger("scroll_element.xdsoft_scroller",[t/(i-s)]),e.stopPropagation(),!1}),l.on("touchstart",function(e){n=a(e),f=Math.abs(parseInt(o.css("marginTop"),10))}),l.on("touchmove",function(e){if(n){e.preventDefault();var t=a(e);l.trigger("scroll_element.xdsoft_scroller",[(f-(t.y-n.y))/(i-s)])}}),l.on("touchend touchcancel",function(e){n=!1,f=0})),l.trigger("resize_scroll.xdsoft_scroller",[p])):l.find(".xdsoft_scrollbar").hide()})},I.fn.datetimepicker=function(S){var n,t,m=17,h=13,g=27,p=37,D=38,y=39,O=40,_=9,F=116,A=65,W=67,C=86,P=90,Y=89,J=!1,H=I.isPlainObject(S)||!S?I.extend(!0,{},e,S):I.extend(!0,{},e),r=0;return n=function(s){var t,n,a,r,x,v=I('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),e=I('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),i=I('<div class="xdsoft_datepicker active"></div>'),b=I('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),T=I('<div class="xdsoft_calendar"></div>'),u=I('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),d=u.find(".xdsoft_time_box").eq(0),k=I('<div class="xdsoft_time_variant"></div>'),c=I('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),w=I('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),M=I('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),f=!1,o=0;function l(){var e,t=!1;return H.startDate?t=x.strToDate(H.startDate):(t=H.value||(s&&s.val&&s.val()?s.val():""))?t=x.strToDateTime(t):H.defaultDate&&(t=x.strToDateTime(H.defaultDate),H.defaultTime&&(e=x.strtotime(H.defaultTime),t.setHours(e.getHours()),t.setMinutes(e.getMinutes()))),t&&x.isValidDate(t)?v.data("changed",!0):t="",t||0}H.id&&v.attr("id",H.id),H.style&&v.attr("style",H.style),H.weeks&&v.addClass("xdsoft_showweeks"),v.addClass("xdsoft_"+H.theme),v.addClass(H.className),b.find(".xdsoft_month span").after(w),b.find(".xdsoft_year span").after(M),b.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(e){var t,a,n=I(this).find(".xdsoft_select").eq(0),r=0,o=0,s=n.is(":visible");for(b.find(".xdsoft_select").hide(),x.currentTime&&(r=x.currentTime[I(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),n[s?"hide":"show"](),t=n.find("div.xdsoft_option"),a=0;a<t.length&&t.eq(a).data("value")!==r;a+=1)o+=t[0].offsetHeight;return n.xdsoftScroller(o/(n.children()[0].offsetHeight-n[0].clientHeight)),e.stopPropagation(),!1}),b.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(e){void 0!==x.currentTime&&null!==x.currentTime||(x.currentTime=x.now());var t=x.currentTime.getFullYear();x&&x.currentTime&&x.currentTime[I(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](I(this).data("value")),I(this).parent().parent().hide(),v.trigger("xchange.xdsoft"),H.onChangeMonth&&I.isFunction(H.onChangeMonth)&&H.onChangeMonth.call(v,x.currentTime,v.data("input")),t!==x.currentTime.getFullYear()&&I.isFunction(H.onChangeYear)&&H.onChangeYear.call(v,x.currentTime,v.data("input"))}),v.setOptions=function(e){var l={},o=function(e,t){var a=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(a).test(t)};H=I.extend(!0,{},H,e),e.allowTimes&&I.isArray(e.allowTimes)&&e.allowTimes.length&&(H.allowTimes=I.extend(!0,[],e.allowTimes)),e.weekends&&I.isArray(e.weekends)&&e.weekends.length&&(H.weekends=I.extend(!0,[],e.weekends)),e.highlightedDates&&I.isArray(e.highlightedDates)&&e.highlightedDates.length&&(I.each(e.highlightedDates,function(e,t){var a,n=I.map(t.split(","),I.trim),r=new HighlightedDate(Date.parseDate(n[0],H.formatDate),n[1],n[2]),o=r.date.dateFormat(H.formatDate);void 0!==l[o]?(a=l[o].desc)&&a.length&&r.desc&&r.desc.length&&(l[o].desc=a+"\n"+r.desc):l[o]=r}),H.highlightedDates=I.extend(!0,[],l)),e.highlightedPeriods&&I.isArray(e.highlightedPeriods)&&e.highlightedPeriods.length&&(l=I.extend(!0,[],H.highlightedDates),I.each(e.highlightedPeriods,function(e,t){for(var a,n,r,o=I.map(t.split(","),I.trim),s=Date.parseDate(o[0],H.formatDate),i=Date.parseDate(o[1],H.formatDate),u=o[2],d=o[3];s<=i;)a=new HighlightedDate(s,u,d),n=s.dateFormat(H.formatDate),s.setDate(s.getDate()+1),void 0!==l[n]?(r=l[n].desc)&&r.length&&a.desc&&a.desc.length&&(l[n].desc=r+"\n"+a.desc):l[n]=a}),H.highlightedDates=I.extend(!0,[],l)),e.disabledDates&&I.isArray(e.disabledDates)&&e.disabledDates.length&&(H.disabledDates=I.extend(!0,[],e.disabledDates)),e.disabledWeekDays&&I.isArray(e.disabledWeekDays)&&e.disabledWeekDays.length&&(H.disabledWeekDays=I.extend(!0,[],e.disabledWeekDays)),!H.open&&!H.opened||H.inline||s.trigger("open.xdsoft"),H.inline&&(f=!0,v.addClass("xdsoft_inline"),s.after(v).hide()),H.inverseButton&&(H.next="xdsoft_prev",H.prev="xdsoft_next"),H.datepicker?i.addClass("active"):i.removeClass("active"),H.timepicker?u.addClass("active"):u.removeClass("active"),H.value&&(x.setCurrentTime(H.value),s&&s.val&&s.val(x.str)),isNaN(H.dayOfWeekStart)?H.dayOfWeekStart=0:H.dayOfWeekStart=parseInt(H.dayOfWeekStart,10)%7,H.timepickerScrollbar||d.xdsoftScroller("hide"),H.minDate&&/^-(.*)$/.test(H.minDate)&&(H.minDate=x.strToDateTime(H.minDate).dateFormat(H.formatDate)),H.maxDate&&/^\+(.*)$/.test(H.maxDate)&&(H.maxDate=x.strToDateTime(H.maxDate).dateFormat(H.formatDate)),c.toggle(H.showApplyButton),b.find(".xdsoft_today_button").css("visibility",H.todayButton?"visible":"hidden"),b.find("."+H.prev).css("visibility",H.prevButton?"visible":"hidden"),b.find("."+H.next).css("visibility",H.nextButton?"visible":"hidden"),H.mask&&(s.off("keydown.xdsoft"),!0===H.mask&&(H.mask=H.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===I.type(H.mask)&&(o(H.mask,s.val())||s.val(H.mask.replace(/[0-9]/g,"_")),s.on("keydown.xdsoft",function(e){var t,a,n=this.value,r=e.which;if(48<=r&&r<=57||96<=r&&r<=105||8===r||46===r){for(t=function(e){try{if(document.selection&&document.selection.createRange)return document.selection.createRange().getBookmark().charCodeAt(2)-2;if(e.setSelectionRange)return e.selectionStart}catch(e){return 0}}(this),a=8!==r&&46!==r?String.fromCharCode(96<=r&&r<=105?r-48:r):"_",8!==r&&46!==r||!t||(t-=1,a="_");/[^0-9_]/.test(H.mask.substr(t,1))&&t<H.mask.length&&0<t;)t+=8===r||46===r?-1:1;if(n=n.substr(0,t)+a+n.substr(t+1),""===I.trim(n))n=H.mask.replace(/[0-9]/g,"_");else if(t===H.mask.length)return e.preventDefault(),!1;for(t+=8===r||46===r?0:1;/[^0-9_]/.test(H.mask.substr(t,1))&&t<H.mask.length&&0<t;)t+=8===r||46===r?-1:1;o(H.mask,n)?(this.value=n,function(e,t){if(!(e="string"==typeof e||e instanceof String?document.getElementById(e):e))return;if(e.createTextRange){var a=e.createTextRange();return a.collapse(!0),a.moveEnd("character",t),a.moveStart("character",t),a.select()}!!e.setSelectionRange&&e.setSelectionRange(t,t)}(this,t)):""===I.trim(n)?this.value=H.mask.replace(/[0-9]/g,"_"):s.trigger("error_input.xdsoft")}else if(-1!==[A,W,C,P,Y].indexOf(r)&&J||-1!==[g,D,O,p,y,F,m,_,h].indexOf(r))return!0;return e.preventDefault(),!1}))),H.validateOnBlur&&s.off("blur.xdsoft").on("blur.xdsoft",function(){if(H.allowBlank&&!I.trim(I(this).val()).length)I(this).val(null),v.data("xdsoft_datetime").empty();else if(Date.parseDate(I(this).val(),H.format))v.data("xdsoft_datetime").setCurrentTime(I(this).val());else{var e=+[I(this).val()[0],I(this).val()[1]].join(""),t=+[I(this).val()[2],I(this).val()[3]].join("");!H.datepicker&&H.timepicker&&0<=e&&e<24&&0<=t&&t<60?I(this).val([e,t].map(function(e){return 9<e?e:"0"+e}).join(":")):I(this).val(x.now().dateFormat(H.format)),v.data("xdsoft_datetime").setCurrentTime(I(this).val())}v.trigger("changedatetime.xdsoft")}),H.dayOfWeekStartPrev=0===H.dayOfWeekStart?6:H.dayOfWeekStart-1,v.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},v.data("options",H).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),M.hide(),w.hide(),!1}),d.append(k),d.xdsoftScroller(),v.on("afterOpen.xdsoft",function(){d.xdsoftScroller()}),v.append(i).append(u),!0!==H.withoutCopyright&&v.append(e),i.append(b).append(T).append(c),I(H.parentID).append(v),x=new function(){var r=this;r.now=function(e){var t,a,n=new Date;return!e&&H.defaultDate&&(t=r.strToDateTime(H.defaultDate),n.setFullYear(t.getFullYear()),n.setMonth(t.getMonth()),n.setDate(t.getDate())),H.yearOffset&&n.setFullYear(n.getFullYear()+H.yearOffset),!e&&H.defaultTime&&(a=r.strtotime(H.defaultTime),n.setHours(a.getHours()),n.setMinutes(a.getMinutes())),n},r.isValidDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},r.setCurrentTime=function(e){r.currentTime="string"==typeof e?r.strToDateTime(e):r.isValidDate(e)?e:r.now(),v.trigger("xchange.xdsoft")},r.empty=function(){r.currentTime=null},r.getCurrentTime=function(e){return r.currentTime},r.nextMonth=function(){void 0!==r.currentTime&&null!==r.currentTime||(r.currentTime=r.now());var e,t=r.currentTime.getMonth()+1;return 12===t&&(r.currentTime.setFullYear(r.currentTime.getFullYear()+1),t=0),e=r.currentTime.getFullYear(),r.currentTime.setDate(Math.min(new Date(r.currentTime.getFullYear(),t+1,0).getDate(),r.currentTime.getDate())),r.currentTime.setMonth(t),H.onChangeMonth&&I.isFunction(H.onChangeMonth)&&H.onChangeMonth.call(v,x.currentTime,v.data("input")),e!==r.currentTime.getFullYear()&&I.isFunction(H.onChangeYear)&&H.onChangeYear.call(v,x.currentTime,v.data("input")),v.trigger("xchange.xdsoft"),t},r.prevMonth=function(){void 0!==r.currentTime&&null!==r.currentTime||(r.currentTime=r.now());var e=r.currentTime.getMonth()-1;return-1===e&&(r.currentTime.setFullYear(r.currentTime.getFullYear()-1),e=11),r.currentTime.setDate(Math.min(new Date(r.currentTime.getFullYear(),e+1,0).getDate(),r.currentTime.getDate())),r.currentTime.setMonth(e),H.onChangeMonth&&I.isFunction(H.onChangeMonth)&&H.onChangeMonth.call(v,x.currentTime,v.data("input")),v.trigger("xchange.xdsoft"),e},r.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},r.strToDateTime=function(e){var t,a,n=[];return e&&e instanceof Date&&r.isValidDate(e)?e:((n=/^(\+|\-)(.*)$/.exec(e))&&(n[2]=Date.parseDate(n[2],H.formatDate)),n&&n[2]?(t=n[2].getTime()-6e4*n[2].getTimezoneOffset(),a=new Date(r.now(!0).getTime()+parseInt(n[1]+"1",10)*t)):a=e?Date.parseDate(e,H.format):r.now(),r.isValidDate(a)||(a=r.now()),a)},r.strToDate=function(e){if(e&&e instanceof Date&&r.isValidDate(e))return e;var t=e?Date.parseDate(e,H.formatDate):r.now(!0);return r.isValidDate(t)||(t=r.now(!0)),t},r.strtotime=function(e){if(e&&e instanceof Date&&r.isValidDate(e))return e;var t=e?Date.parseDate(e,H.formatTime):r.now(!0);return r.isValidDate(t)||(t=r.now(!0)),t},r.str=function(){return r.currentTime.dateFormat(H.format)},r.currentTime=this.now()},c.on("click",function(e){e.preventDefault(),v.data("changed",!0),x.setCurrentTime(l()),s.val(x.str()),v.trigger("close.xdsoft")}),b.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){v.data("changed",!0),x.setCurrentTime(0),v.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e,t,a=x.getCurrentTime();a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e=x.strToDate(H.minDate),a<(e=new Date(e.getFullYear(),e.getMonth(),e.getDate()))||(t=x.strToDate(H.maxDate),(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()))<a||(s.val(x.str()),v.trigger("close.xdsoft")))}),b.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var a=I(this),n=0,r=!1;!function e(t){a.hasClass(H.next)?x.nextMonth():a.hasClass(H.prev)&&x.prevMonth(),H.monthChangeSpinner&&(r||(n=setTimeout(e,t||100)))}(500),I([document.body,window]).on("mouseup.xdsoft",function e(){clearTimeout(n),r=!0,I([document.body,window]).off("mouseup.xdsoft",e)})}),u.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var o=I(this),s=0,i=!1,u=110;!function e(t){var a=d[0].clientHeight,n=k[0].offsetHeight,r=Math.abs(parseInt(k.css("marginTop"),10));o.hasClass(H.next)&&n-a-H.timeHeightInTimePicker>=r?k.css("marginTop","-"+(r+H.timeHeightInTimePicker)+"px"):o.hasClass(H.prev)&&0<=r-H.timeHeightInTimePicker&&k.css("marginTop","-"+(r-H.timeHeightInTimePicker)+"px"),d.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(k.css("marginTop"),10)/(n-a))]),u=10<u?10:u-10,i||(s=setTimeout(e,t||u))}(500),I([document.body,window]).on("mouseup.xdsoft",function e(){clearTimeout(s),i=!0,I([document.body,window]).off("mouseup.xdsoft",e)})}),t=0,v.on("xchange.xdsoft",function(e){clearTimeout(t),t=setTimeout(function(){void 0!==x.currentTime&&null!==x.currentTime||(x.currentTime=x.now());for(var e,t,a,n,r,o,s,i,u,d,l="",c=new Date(x.currentTime.getFullYear(),x.currentTime.getMonth(),1,12,0,0),f=0,m=x.now(),h=!1,g=!1,p=[],D=!0,y="";c.getDay()!==H.dayOfWeekStart;)c.setDate(c.getDate()-1);for(l+="<table><thead><tr>",H.weeks&&(l+="<th></th>"),e=0;e<7;e+=1)l+="<th>"+H.i18n[H.lang].dayOfWeek[(e+H.dayOfWeekStart)%7]+"</th>";for(l+="</tr></thead>",l+="<tbody>",!1!==H.maxDate&&(h=x.strToDate(H.maxDate),h=new Date(h.getFullYear(),h.getMonth(),h.getDate(),23,59,59,999)),!1!==H.minDate&&(g=x.strToDate(H.minDate),g=new Date(g.getFullYear(),g.getMonth(),g.getDate()));f<x.currentTime.countDaysInMonth()||c.getDay()!==H.dayOfWeekStart||x.currentTime.getMonth()===c.getMonth();)p=[],f+=1,a=c.getDay(),n=c.getDate(),r=c.getFullYear(),o=c.getMonth(),s=x.getWeekOfYear(c),d="",p.push("xdsoft_date"),i=H.beforeShowDay&&I.isFunction(H.beforeShowDay.call)?H.beforeShowDay.call(v,c):null,!1!==h&&h<c||!1!==g&&c<g||i&&!1===i[0]?p.push("xdsoft_disabled"):-1!==H.disabledDates.indexOf(c.dateFormat(H.formatDate))?p.push("xdsoft_disabled"):-1!==H.disabledWeekDays.indexOf(a)&&p.push("xdsoft_disabled"),i&&""!==i[1]&&p.push(i[1]),x.currentTime.getMonth()!==o&&p.push("xdsoft_other_month"),(H.defaultSelect||v.data("changed"))&&x.currentTime.dateFormat(H.formatDate)===c.dateFormat(H.formatDate)&&p.push("xdsoft_current"),m.dateFormat(H.formatDate)===c.dateFormat(H.formatDate)&&p.push("xdsoft_today"),0!==c.getDay()&&6!==c.getDay()&&-1===H.weekends.indexOf(c.dateFormat(H.formatDate))||p.push("xdsoft_weekend"),void 0!==H.highlightedDates[c.dateFormat(H.formatDate)]&&(t=H.highlightedDates[c.dateFormat(H.formatDate)],p.push(void 0===t.style?"xdsoft_highlighted_default":t.style),d=void 0===t.desc?"":t.desc),H.beforeShowDay&&I.isFunction(H.beforeShowDay)&&p.push(H.beforeShowDay(c)),D&&(l+="<tr>",D=!1,H.weeks&&(l+="<th>"+s+"</th>")),l+='<td data-date="'+n+'" data-month="'+o+'" data-year="'+r+'" class="xdsoft_date xdsoft_day_of_week'+c.getDay()+" "+p.join(" ")+'" title="'+d+'"><div>'+n+"</div></td>",c.getDay()===H.dayOfWeekStartPrev&&(l+="</tr>",D=!0),c.setDate(n+1);if(l+="</tbody></table>",T.html(l),b.find(".xdsoft_label span").eq(0).text(H.i18n[H.lang].months[x.currentTime.getMonth()]),b.find(".xdsoft_label span").eq(1).text(x.currentTime.getFullYear()),o=y="",u=function(e,t){var a,n,r=x.now();r.setHours(e),e=parseInt(r.getHours(),10),r.setMinutes(t),t=parseInt(r.getMinutes(),10),(a=new Date(x.currentTime)).setHours(e),a.setMinutes(t),(!(p=[])!==H.minDateTime&&H.minDateTime>a||!1!==H.maxTime&&x.strtotime(H.maxTime).getTime()<r.getTime()||!1!==H.minTime&&x.strtotime(H.minTime).getTime()>r.getTime())&&p.push("xdsoft_disabled"),(!1!==H.minDateTime&&H.minDateTime>a||!1!==H.disabledMinTime&&r.getTime()>x.strtotime(H.disabledMinTime).getTime()&&!1!==H.disabledMaxTime&&r.getTime()<x.strtotime(H.disabledMaxTime).getTime())&&p.push("xdsoft_disabled"),(n=new Date(x.currentTime)).setHours(parseInt(x.currentTime.getHours(),10)),n.setMinutes(Math[H.roundTime](x.currentTime.getMinutes()/H.step)*H.step),(H.initTime||H.defaultSelect||v.data("changed"))&&n.getHours()===parseInt(e,10)&&(59<H.step||n.getMinutes()===parseInt(t,10))&&(H.defaultSelect||v.data("changed")?p.push("xdsoft_current"):H.initTime&&p.push("xdsoft_init_time")),parseInt(m.getHours(),10)===parseInt(e,10)&&parseInt(m.getMinutes(),10)===parseInt(t,10)&&p.push("xdsoft_today"),y+='<div class="xdsoft_time '+p.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+r.dateFormat(H.formatTime)+"</div>"},H.allowTimes&&I.isArray(H.allowTimes)&&H.allowTimes.length)for(f=0;f<H.allowTimes.length;f+=1)u(x.strtotime(H.allowTimes[f]).getHours(),o=x.strtotime(H.allowTimes[f]).getMinutes());else for(e=f=0;f<(H.hours12?12:24);f+=1)for(e=0;e<60;e+=H.step)u((f<10?"0":"")+f,o=(e<10?"0":"")+e);for(k.html(y),S="",f=0,f=parseInt(H.yearStart,10)+H.yearOffset;f<=parseInt(H.yearEnd,10)+H.yearOffset;f+=1)S+='<div class="xdsoft_option '+(x.currentTime.getFullYear()===f?"xdsoft_current":"")+'" data-value="'+f+'">'+f+"</div>";for(M.children().eq(0).html(S),f=parseInt(H.monthStart,10),S="";f<=parseInt(H.monthEnd,10);f+=1)S+='<div class="xdsoft_option '+(x.currentTime.getMonth()===f?"xdsoft_current":"")+'" data-value="'+f+'">'+H.i18n[H.lang].months[f]+"</div>";w.children().eq(0).html(S),I(v).trigger("generate.xdsoft")},10),e.stopPropagation()}).on("afterOpen.xdsoft",function(){var e,t,a,n;H.timepicker&&(k.find(".xdsoft_current").length?e=".xdsoft_current":k.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=d[0].clientHeight,(a=k[0].offsetHeight)-t<(n=k.find(e).index()*H.timeHeightInTimePicker+1)&&(n=a-t),d.trigger("scroll_element.xdsoft_scroller",[parseInt(n,10)/(a-t)])):d.trigger("scroll_element.xdsoft_scroller",[0]))}),n=0,T.on("click.xdsoft","td",function(e){e.stopPropagation(),n+=1;var t=I(this),a=x.currentTime;if(null==a&&(x.currentTime=x.now(),a=x.currentTime),t.hasClass("xdsoft_disabled"))return!1;a.setDate(1),a.setFullYear(t.data("year")),a.setMonth(t.data("month")),a.setDate(t.data("date")),v.trigger("select.xdsoft",[a]),s.val(x.str()),(1<n||!0===H.closeOnDateSelect||!1===H.closeOnDateSelect&&!H.timepicker)&&!H.inline&&v.trigger("close.xdsoft"),H.onSelectDate&&I.isFunction(H.onSelectDate)&&H.onSelectDate.call(v,x.currentTime,v.data("input"),e),v.data("changed",!0),v.trigger("xchange.xdsoft"),v.trigger("changedatetime.xdsoft"),setTimeout(function(){n=0},200)}),k.on("click.xdsoft","div",function(e){e.stopPropagation();var t=I(this),a=x.currentTime;if(null==a&&(x.currentTime=x.now(),a=x.currentTime),t.hasClass("xdsoft_disabled"))return!1;a.setHours(t.data("hour")),a.setMinutes(t.data("minute")),v.trigger("select.xdsoft",[a]),v.data("input").val(x.str()),!0!==H.inline&&!0===H.closeOnTimeSelect&&v.trigger("close.xdsoft"),H.onSelectTime&&I.isFunction(H.onSelectTime)&&H.onSelectTime.call(v,x.currentTime,v.data("input"),e),v.data("changed",!0),v.trigger("xchange.xdsoft"),v.trigger("changedatetime.xdsoft")}),i.on("mousewheel.xdsoft",function(e){return!H.scrollMonth||(e.deltaY<0?x.nextMonth():x.prevMonth(),!1)}),s.on("mousewheel.xdsoft",function(e){return!H.scrollInput||(!H.datepicker&&H.timepicker?(0<=(a=k.find(".xdsoft_current").length?k.find(".xdsoft_current").eq(0).index():0)+e.deltaY&&a+e.deltaY<k.children().length&&(a+=e.deltaY),k.children().eq(a).length&&k.children().eq(a).trigger("mousedown"),!1):H.datepicker&&!H.timepicker?(i.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),s.val&&s.val(x.str()),v.trigger("changedatetime.xdsoft"),!1):void 0)}),v.on("changedatetime.xdsoft",function(e){if(H.onChangeDateTime&&I.isFunction(H.onChangeDateTime)){var t=v.data("input");H.onChangeDateTime.call(v,x.currentTime,t,e),delete H.value,t.trigger("change")}}).on("generate.xdsoft",function(){H.onGenerate&&I.isFunction(H.onGenerate)&&H.onGenerate.call(v,x.currentTime,v.data("input")),f&&(v.trigger("afterOpen.xdsoft"),f=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),a=0,r=function(){var e,t=v.data("input").offset(),a=t.top+v.data("input")[0].offsetHeight-1,n=t.left,r="absolute";H.fixed?(a-=I(window).scrollTop(),n-=I(window).scrollLeft(),r="fixed"):(a+v[0].offsetHeight>I(window).height()+I(window).scrollTop()&&(a=t.top-v[0].offsetHeight+1),a<0&&(a=0),n+v[0].offsetWidth>I(window).width()&&(n=I(window).width()-v[0].offsetWidth)),e=v[0];do{if(e=e.parentNode,"relative"===window.getComputedStyle(e).getPropertyValue("position")&&I(window).width()>=e.offsetWidth){n-=(I(window).width()-e.offsetWidth)/2;break}}while("HTML"!==e.nodeName);v.css({left:n,top:a,position:r})},v.on("open.xdsoft",function(e){var t=!0;H.onShow&&I.isFunction(H.onShow)&&(t=H.onShow.call(v,x.currentTime,v.data("input"),e)),!1!==t&&(v.show(),r(),I(window).off("resize.xdsoft",r).on("resize.xdsoft",r),H.closeOnWithoutClick&&I([document.body,window]).on("mousedown.xdsoft",function e(){v.trigger("close.xdsoft"),I([document.body,window]).off("mousedown.xdsoft",e)}))}).on("close.xdsoft",function(e){var t=!0;b.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),H.onClose&&I.isFunction(H.onClose)&&(t=H.onClose.call(v,x.currentTime,v.data("input"),e)),!1===t||H.opened||H.inline||v.hide(),e.stopPropagation()}).on("toggle.xdsoft",function(e){v.is(":visible")?v.trigger("close.xdsoft"):v.trigger("open.xdsoft")}).data("input",s),o=0,v.data("xdsoft_datetime",x),v.setOptions(H),x.setCurrentTime(l()),s.data("xdsoft_datetimepicker",v).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(e){s.is(":disabled")||s.data("xdsoft_datetimepicker").is(":visible")&&H.closeOnInputClick||(clearTimeout(o),o=setTimeout(function(){s.is(":disabled")||(f=!0,x.setCurrentTime(l()),v.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(e){this.value;var t,a=e.which;return-1!==[h].indexOf(a)&&H.enterLikeTab?(t=I("input:visible,textarea:visible"),v.trigger("close.xdsoft"),t.eq(t.index(this)+1).focus(),!1):-1!==[_].indexOf(a)?(v.trigger("close.xdsoft"),!0):void 0})},t=function(e){var t=e.data("xdsoft_datetimepicker");t&&(t.data("xdsoft_datetime",null),t.remove(),e.data("xdsoft_datetimepicker",null).off(".xdsoft"),I(window).off("resize.xdsoft"),I([window,document.body]).off("mousedown.xdsoft"),e.unmousewheel&&e.unmousewheel())},I(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===m&&(J=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===m&&(J=!1)}),this.each(function(){var a,e=I(this).data("xdsoft_datetimepicker");if(e){if("string"===I.type(S))switch(S){case"show":I(this).select().focus(),e.trigger("open.xdsoft");break;case"hide":e.trigger("close.xdsoft");break;case"toggle":e.trigger("toggle.xdsoft");break;case"destroy":t(I(this));break;case"reset":this.value=this.defaultValue,this.value&&e.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,H.format))||e.data("changed",!1),e.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":e.data("input").trigger("blur.xdsoft")}else e.setOptions(S);return 0}"string"!==I.type(S)&&(!H.lazyInit||H.open||H.inline?n(I(this)):(a=I(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function e(t){a.is(":disabled")||a.data("xdsoft_datetimepicker")||(clearTimeout(r),r=setTimeout(function(){a.data("xdsoft_datetimepicker")||n(a),a.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",e).trigger("open.xdsoft")},100))}))})},I.fn.datetimepicker.defaults=e}(jQuery),function(){var Xd;Xd=function(f){function t(e){var t=e||window.event,a=D.call(arguments,1),n=0,r=0,o=0,s=0,i=0,u=0;if((e=f.event.fix(t)).type="mousewheel","detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*o,o=0),n=0===o?r:o,"deltaY"in t&&(n=o=-1*t.deltaY),"deltaX"in t&&(r=t.deltaX,0===o&&(n=-1*r)),0!==o||0!==r){if(1===t.deltaMode){var d=f.data(this,"mousewheel-line-height");n*=d,o*=d,r*=d}else if(2===t.deltaMode){var l=f.data(this,"mousewheel-page-height");n*=l,o*=l,r*=l}if(s=Math.max(Math.abs(o),Math.abs(r)),(!p||s<p)&&(h(t,p=s)&&(p/=40)),h(t,s)&&(n/=40,r/=40,o/=40),n=Math[1<=n?"floor":"ceil"](n/p),r=Math[1<=r?"floor":"ceil"](r/p),o=Math[1<=o?"floor":"ceil"](o/p),y.settings.normalizeOffset&&this.getBoundingClientRect){var c=this.getBoundingClientRect();i=e.clientX-c.left,u=e.clientY-c.top}return e.deltaX=r,e.deltaY=o,e.deltaFactor=p,e.offsetX=i,e.offsetY=u,e.deltaMode=0,a.unshift(e,n,r,o),g&&clearTimeout(g),g=setTimeout(m,200),(f.event.dispatch||f.event.handle).apply(this,a)}}function m(){p=null}function h(e,t){return y.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120==0}var g,p,e=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],a="onwheel"in document||9<=document.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],D=Array.prototype.slice;if(f.event.fixHooks)for(var n=e.length;n;)f.event.fixHooks[e[--n]]=f.event.mouseHooks;var y=f.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=a.length;e;)this.addEventListener(a[--e],t,!1);else this.onmousewheel=t;f.data(this,"mousewheel-line-height",y.getLineHeight(this)),f.data(this,"mousewheel-page-height",y.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=a.length;e;)this.removeEventListener(a[--e],t,!1);else this.onmousewheel=null;f.removeData(this,"mousewheel-line-height"),f.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var t=f(e),a=t["offsetParent"in f.fn?"offsetParent":"parent"]();return a.length||(a=f("body")),parseInt(a.css("fontSize"),10)||parseInt(t.css("fontSize"),10)||16},getPageHeight:function(e){return f(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};f.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})},"function"==typeof define&&define.amd?define(["jquery"],Xd):"object"==typeof exports?module.exports=Xd:Xd(jQuery),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){return"unixtime"==e?parseInt(this.getTime()/1e3):(null==Date.formatFunctions[e]&&Date.createNewFormat(e),this[Date.formatFunctions[e]]())},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var codePrefix="Date.prototype."+funcName+" = function() {return ",code="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;code=0==code.length?'""':code.substring(0,code.length-3),eval(codePrefix+code+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if("unixtime"==t)return new Date(isNaN(parseInt(e))?0:1e3*parseInt(e));null==Date.parseFunctions[t]&&Date.createParser(t);var a=Date.parseFunctions[t];return Date[a](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$","i"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(0<this.getTimezoneOffset()?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=7-new Date(this.getFullYear(),0,1).getDay()+4;return String.leftPad(Math.ceil((e-t)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return e<0?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return e<0?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,a){var n=new String(e);for(null==a&&(a=" ");n.length<t;)n=a+n;return n},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}();
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){var t=[],k=C.document,c=t.slice,g=t.concat,a=t.push,i=t.indexOf,n={},r=n.toString,h=n.hasOwnProperty,v={},o="2.2.0",E=function(e,t){return new E.fn.init(e,t)},s=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^-ms-/,l=/-([\da-z])/gi,f=function(e,t){return t.toUpperCase()};function p(e){var t=!!e&&"length"in e&&e.length,n=E.type(e);return"function"!==n&&!E.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}E.fn=E.prototype={jquery:o,constructor:E,selector:"",length:0,toArray:function(){return c.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:c.call(this)},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return E.each(this,e)},map:function(n){return this.pushStack(E.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:t.sort,splice:t.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||E.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(r=e[t])&&(l&&r&&(E.isPlainObject(r)||(i=E.isArray(r)))?(i?(i=!1,o=n&&E.isArray(n)?n:[]):o=n&&E.isPlainObject(n)?n:{},s[t]=E.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},E.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===E.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!E.isArray(e)&&0<=t-parseFloat(t)+1},isPlainObject:function(e){return"object"===E.type(e)&&!e.nodeType&&!E.isWindow(e)&&!(e.constructor&&!h.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[r.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=E.trim(e))&&(1===e.indexOf("use strict")?((t=k.createElement("script")).text=e,k.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(u,"ms-").replace(l,f)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(p(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(s,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?E.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,s=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&s.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&s.push(i);return g.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),E.isFunction(e)?(r=c.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(c.call(arguments)))}).guid=e.guid=e.guid||E.guid++,i):void 0},now:Date.now,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=t[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,h,b,o,i,g,f,v,w,u,l,T,C,s,k,m,a,c,y,E="sizzle"+1*new Date,x=n.document,N=0,r=0,p=ie(),d=ie(),S=ie(),D=function(e,t){return e===t&&(l=!0),0},j={}.hasOwnProperty,t=[],A=t.pop,L=t.push,q=t.push,H=t.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},F="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",P="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M="\\["+P+"*("+R+")(?:"+P+"*([*^$|!~]?=)"+P+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+P+"*\\]",W=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+M+")*)|.*)\\)|)",I=new RegExp(P+"+","g"),$=new RegExp("^"+P+"+|((?:^|[^\\\\])(?:\\\\.)*)"+P+"+$","g"),B=new RegExp("^"+P+"*,"+P+"*"),_=new RegExp("^"+P+"*([>+~]|"+P+")"+P+"*"),X=new RegExp("="+P+"*([^\\]'\"]*?)"+P+"*\\]","g"),z=new RegExp(W),U=new RegExp("^"+R+"$"),V={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+M),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+P+"*(even|odd|(([+-]|)(\\d*)n|)"+P+"*(?:([+-]|)"+P+"*(\\d+)|))"+P+"*\\)|)","i"),bool:new RegExp("^(?:"+F+")$","i"),needsContext:new RegExp("^"+P+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+P+"*((?:-\\d)?\\d*)"+P+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,Z=/'|\\/g,ee=new RegExp("\\\\([\\da-f]{1,6}"+P+"?|("+P+")|.)","ig"),te=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ne=function(){T()};try{q.apply(t=H.call(x.childNodes),x.childNodes),t[x.childNodes.length].nodeType}catch(e){q={apply:t.length?function(e,t){L.apply(e,H.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function re(e,t,n,r){var i,o,s,a,u,l,c,f,p=t&&t.ownerDocument,d=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return n;if(!r&&((t?t.ownerDocument||t:x)!==C&&T(t),t=t||C,k)){if(11!==d&&(l=J.exec(e)))if(i=l[1]){if(9===d){if(!(s=t.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(p&&(s=p.getElementById(i))&&y(t,s)&&s.id===i)return n.push(s),n}else{if(l[2])return q.apply(n,t.getElementsByTagName(e)),n;if((i=l[3])&&h.getElementsByClassName&&t.getElementsByClassName)return q.apply(n,t.getElementsByClassName(i)),n}if(h.qsa&&!S[e+" "]&&(!m||!m.test(e))){if(1!==d)p=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(Z,"\\$&"):t.setAttribute("id",a=E),o=(c=g(e)).length,u=U.test(a)?"#"+a:"[id='"+a+"']";o--;)c[o]=u+" "+he(c[o]);f=c.join(","),p=K.test(e)&&pe(t.parentNode)||t}if(f)try{return q.apply(n,p.querySelectorAll(f)),n}catch(e){}finally{a===E&&t.removeAttribute("id")}}}return v(e.replace($,"$1"),t,n,r)}function ie(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function oe(e){return e[E]=!0,e}function se(e){var t=C.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ae(e,t){for(var n=e.split("|"),r=n.length;r--;)b.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ce(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function fe(s){return oe(function(o){return o=+o,oe(function(e,t){for(var n,r=s([],e.length,o),i=r.length;i--;)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in h=re.support={},i=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=re.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:x;return r!==C&&9===r.nodeType&&r.documentElement&&(s=(C=r).documentElement,k=!i(C),(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",ne,!1):n.attachEvent&&n.attachEvent("onunload",ne)),h.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),h.getElementsByTagName=se(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),h.getElementsByClassName=Q.test(C.getElementsByClassName),h.getById=se(function(e){return s.appendChild(e).id=E,!C.getElementsByName||!C.getElementsByName(E).length}),h.getById?(b.find.ID=function(e,t){if(void 0!==t.getElementById&&k){var n=t.getElementById(e);return n?[n]:[]}},b.filter.ID=function(e){var t=e.replace(ee,te);return function(e){return e.getAttribute("id")===t}}):(delete b.find.ID,b.filter.ID=function(e){var n=e.replace(ee,te);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),b.find.TAG=h.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):h.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=h.getElementsByClassName&&function(e,t){return void 0!==t.getElementsByClassName&&k?t.getElementsByClassName(e):void 0},a=[],m=[],(h.qsa=Q.test(C.querySelectorAll))&&(se(function(e){s.appendChild(e).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+P+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+P+"*(?:value|"+F+")"),e.querySelectorAll("[id~="+E+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+E+"+*").length||m.push(".#.+[+~]")}),se(function(e){var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+P+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(h.matchesSelector=Q.test(c=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.oMatchesSelector||s.msMatchesSelector))&&se(function(e){h.disconnectedMatch=c.call(e,"div"),c.call(e,"[s!='']:x"),a.push("!=",W)}),m=m.length&&new RegExp(m.join("|")),a=a.length&&new RegExp(a.join("|")),t=Q.test(s.compareDocumentPosition),y=t||Q.test(s.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!h.sortDetached&&t.compareDocumentPosition(e)===n?e===C||e.ownerDocument===x&&y(x,e)?-1:t===C||t.ownerDocument===x&&y(x,t)?1:u?O(u,e)-O(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e===C?-1:t===C?1:i?-1:o?1:u?O(u,e)-O(u,t):0;if(i===o)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?ue(s[r],a[r]):s[r]===x?-1:a[r]===x?1:0}),C},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&T(e),t=t.replace(X,"='$1']"),h.matchesSelector&&k&&!S[t+" "]&&(!a||!a.test(t))&&(!m||!m.test(t)))try{var n=c.call(e,t);if(n||h.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<re(t,C,null,[e]).length},re.contains=function(e,t){return(e.ownerDocument||e)!==C&&T(e),y(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&j.call(b.attrHandle,t.toLowerCase())?n(e,t,!k):void 0;return void 0!==r?r:h.attributes||!k?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!h.detectDuplicates,u=!h.sortStable&&e.slice(0),e.sort(D),l){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return u=null,e},o=re.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=o(t);return n},(b=re.selectors={cacheLength:50,createPseudo:oe,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,te),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return V.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=g(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=p[e+" "];return t||(t=new RegExp("(^|"+P+")"+e+"("+P+"|$)"))&&p(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=re.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(I," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var m="nth"!==h.slice(0,3),y="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,s,a,u,l=m!==y?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(m){for(;l;){for(s=e;s=s[l];)if(x?s.nodeName.toLowerCase()===f:1===s.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[y?c.firstChild:c.lastChild],y&&p){for(d=(a=(r=(i=(o=(s=c)[E]||(s[E]={}))[s.uniqueID]||(o[s.uniqueID]={}))[h]||[])[0]===N&&r[1])&&r[2],s=a&&c.childNodes[a];s=++a&&s&&s[l]||(d=a=0)||u.pop();)if(1===s.nodeType&&++d&&s===e){i[h]=[N,a,d];break}}else if(p&&(d=a=(r=(i=(o=(s=e)[E]||(s[E]={}))[s.uniqueID]||(o[s.uniqueID]={}))[h]||[])[0]===N&&r[1]),!1===d)for(;(s=++a&&s&&s[l]||(d=a=0)||u.pop())&&((x?s.nodeName.toLowerCase()!==f:1!==s.nodeType)||!++d||(p&&((i=(o=s[E]||(s[E]={}))[s.uniqueID]||(o[s.uniqueID]={}))[h]=[N,d]),s!==e)););return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,s=b.pseudos[e]||b.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return s[E]?s(o):1<s.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?oe(function(e,t){for(var n,r=s(e,o),i=r.length;i--;)e[n=O(e,r[i])]=!(t[n]=r[i])}):function(e){return s(e,0,t)}):s}},pseudos:{not:oe(function(e){var r=[],i=[],a=f(e.replace($,"$1"));return a[E]?oe(function(e,t,n,r){for(var i,o=a(e,null,r,[]),s=e.length;s--;)(i=o[s])&&(e[s]=!(t[s]=i))}):function(e,t,n){return r[0]=e,a(r,null,n,i),r[0]=null,!i.pop()}}),has:oe(function(t){return function(e){return 0<re(t,e).length}}),contains:oe(function(t){return t=t.replace(ee,te),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:oe(function(n){return U.test(n||"")||re.error("unsupported lang: "+n),n=n.replace(ee,te).toLowerCase(),function(e){var t;do{if(t=k?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===s},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:fe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=le(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=ce(e);function de(){}function he(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ge(a,e,t){var u=e.dir,l=t&&"parentNode"===u,c=r++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var r,i,o,s=[N,c];if(n){for(;e=e[u];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||l){if((r=(i=(o=e[E]||(e[E]={}))[e.uniqueID]||(o[e.uniqueID]={}))[u])&&r[0]===N&&r[1]===c)return s[2]=r[2];if((i[u]=s)[2]=a(e,t,n))return!0}}}function ve(i){return 1<i.length?function(e,t,n){for(var r=i.length;r--;)if(!i[r](e,t,n))return!1;return!0}:i[0]}function me(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function ye(d,h,g,v,m,e){return v&&!v[E]&&(v=ye(v)),m&&!m[E]&&(m=ye(m,e)),oe(function(e,t,n,r){var i,o,s,a=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)re(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:me(c,a,d,n,r),p=g?m||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v)for(i=me(p,u),v(i,[],n,r),o=i.length;o--;)(s=i[o])&&(p[u[o]]=!(f[u[o]]=s));if(e){if(m||d){if(m){for(i=[],o=p.length;o--;)(s=p[o])&&i.push(f[o]=s);m(null,p=[],i,r)}for(o=p.length;o--;)(s=p[o])&&-1<(i=m?O(e,s):a[o])&&(e[i]=!(t[i]=s))}}else p=me(p===t?p.splice(l,p.length):p),m?m(null,t,p,r):q.apply(t,p)})}function xe(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],s=o||b.relative[" "],a=o?1:0,u=ge(function(e){return e===i},s,!0),l=ge(function(e){return-1<O(i,e)},s,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];a<r;a++)if(t=b.relative[e[a].type])c=[ge(ve(c),t)];else{if((t=b.filter[e[a].type].apply(null,e[a].matches))[E]){for(n=++a;n<r&&!b.relative[e[n].type];n++);return ye(1<a&&ve(c),1<a&&he(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace($,"$1"),t,a<n&&xe(e.slice(a,n)),n<r&&xe(e=e.slice(n)),n<r&&he(e))}c.push(t)}return ve(c)}return de.prototype=b.filters=b.pseudos,b.setFilters=new de,g=re.tokenize=function(e,t){var n,r,i,o,s,a,u,l=d[e+" "];if(l)return t?0:l.slice(0);for(s=e,a=[],u=b.preFilter;s;){for(o in(!n||(r=B.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),a.push(i=[])),n=!1,(r=_.exec(s))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),s=s.slice(n.length)),b.filter)!(r=V[o].exec(s))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?re.error(e):d(e,a).slice(0)},f=re.compile=function(e,t){var n,v,m,y,x,r,i=[],o=[],s=S[e+" "];if(!s){for(t||(t=g(e)),n=t.length;n--;)(s=xe(t[n]))[E]?i.push(s):o.push(s);(s=S(e,(v=o,y=0<(m=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,s,a,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=N+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t===C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){for(s=0,t||o.ownerDocument===C||(T(o),n=!k);a=v[s++];)if(a(o,t||C,n)){r.push(o);break}i&&(N=h)}y&&((o=!a&&o)&&u--,e&&c.push(o))}if(u+=l,y&&l!==u){for(s=0;a=m[s++];)a(c,f,t,n);if(e){if(0<u)for(;l--;)c[l]||f[l]||(f[l]=A.call(r));f=me(f)}q.apply(r,f),i&&!e&&0<f.length&&1<u+m.length&&re.uniqueSort(r)}return i&&(N=h,w=p),c},y?oe(r):r))).selector=e}return s},v=re.select=function(e,t,n,r){var i,o,s,a,u,l="function"==typeof e&&e,c=!r&&g(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(s=o[0]).type&&h.getById&&9===t.nodeType&&k&&b.relative[o[1].type]){if(!(t=(b.find.ID(s.matches[0].replace(ee,te),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=V.needsContext.test(e)?0:o.length;i--&&(s=o[i],!b.relative[a=s.type]);)if((u=b.find[a])&&(r=u(s.matches[0].replace(ee,te),K.test(o[0].type)&&pe(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&he(o)))return q.apply(n,r),n;break}}return(l||f(e,c))(r,t,!k,n,!t||K.test(e)&&pe(t.parentNode)||t),n},h.sortStable=E.split("").sort(D).join("")===E,h.detectDuplicates=!!l,T(),h.sortDetached=se(function(e){return 1&e.compareDocumentPosition(C.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ae("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),h.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ae("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||ae(F,function(e,t,n){var r;return n?void 0:!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),re}(C);E.find=d,E.expr=d.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=d.uniqueSort,E.text=d.getText,E.isXMLDoc=d.isXML,E.contains=d.contains;var m=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},y=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},x=E.expr.match.needsContext,b=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function T(e,n,r){if(E.isFunction(n))return E.grep(e,function(e,t){return!!n.call(e,t,e)!==r});if(n.nodeType)return E.grep(e,function(e){return e===n!==r});if("string"==typeof n){if(w.test(n))return E.filter(n,e,r);n=E.filter(n,e)}return E.grep(e,function(e){return-1<i.call(n,e)!==r})}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<n;t++)if(E.contains(i[t],this))return!0}));for(t=0;t<n;t++)E.find(e,i[t],r);return(r=this.pushStack(1<n?E.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&x.test(e)?E(e):e||[],!1).length}});var N,S=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||N,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:S.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof E?t[0]:t,E.merge(this,E.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:k,!0)),b.test(r[1])&&E.isPlainObject(t))for(r in t)E.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=k.getElementById(r[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=k,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):E.isFunction(e)?void 0!==n.ready?n.ready(e):e(E):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),E.makeArray(e,this))}).prototype=E.fn,N=E(k);var D=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=x.test(e)||"string"!=typeof e?E(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(E(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m(e,"parentNode")},parentsUntil:function(e,t,n){return m(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return m(e,"nextSibling")},prevAll:function(e){return m(e,"previousSibling")},nextUntil:function(e,t,n){return m(e,"nextSibling",n)},prevUntil:function(e,t,n){return m(e,"previousSibling",n)},siblings:function(e){return y((e.parentNode||{}).firstChild,e)},children:function(e){return y(e.firstChild)},contents:function(e){return e.contentDocument||E.merge([],e.childNodes)}},function(r,i){E.fn[r]=function(e,t){var n=E.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=E.filter(t,n)),1<this.length&&(j[r]||E.uniqueSort(n),D.test(r)&&n.reverse()),this.pushStack(n)}});var L,q=/\S+/g;function H(){k.removeEventListener("DOMContentLoaded",H),C.removeEventListener("load",H),E.ready()}E.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},E.each(e.match(q)||[],function(e,t){n[t]=!0}),n):E.extend({},r);var i,t,o,s,a=[],u=[],l=-1,c=function(){for(s=r.once,o=i=!0;u.length;l=-1)for(t=u.shift();++l<a.length;)!1===a[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=a.length,t=!1);r.memory||(t=!1),i=!1,s&&(a=t?[]:"")},f={add:function(){return a&&(t&&!i&&(l=a.length-1,u.push(t)),function n(e){E.each(e,function(e,t){E.isFunction(t)?r.unique&&f.has(t)||a.push(t):t&&t.length&&"string"!==E.type(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;-1<(n=E.inArray(t,a,n));)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<E.inArray(e,a):0<a.length},empty:function(){return a&&(a=[]),this},disable:function(){return s=u=[],a=t="",this},disabled:function(){return!a},lock:function(){return s=u=[],t||(a=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},E.extend({Deferred:function(e){var o=[["resolve","done",E.Callbacks("once memory"),"resolved"],["reject","fail",E.Callbacks("once memory"),"rejected"],["notify","progress",E.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var i=arguments;return E.Deferred(function(r){E.each(o,function(e,t){var n=E.isFunction(i[e])&&i[e];a[t[1]](function(){var e=n&&n.apply(this,arguments);e&&E.isFunction(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this===s?r.promise():this,n?[e]:arguments)})}),i=null}).promise()},promise:function(e){return null!=e?E.extend(e,s):s}},a={};return s.pipe=s.then,E.each(o,function(e,t){var n=t[2],r=t[3];s[t[1]]=n.add,r&&n.add(function(){i=r},o[1^e][2].disable,o[2][2].lock),a[t[0]]=function(){return a[t[0]+"With"](this===a?s:this,arguments),this},a[t[0]+"With"]=n.fireWith}),s.promise(a),e&&e.call(a,a),a},when:function(e){var i,t,n,r=0,o=c.call(arguments),s=o.length,a=1!==s||e&&E.isFunction(e.promise)?s:0,u=1===a?e:E.Deferred(),l=function(t,n,r){return function(e){n[t]=this,r[t]=1<arguments.length?c.call(arguments):e,r===i?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(1<s)for(i=new Array(s),t=new Array(s),n=new Array(s);r<s;r++)o[r]&&E.isFunction(o[r].promise)?o[r].promise().progress(l(r,t,i)).done(l(r,n,o)).fail(u.reject):--a;return a||u.resolveWith(n,o),u.promise()}}),E.fn.ready=function(e){return E.ready.promise().done(e),this},E.extend({isReady:!1,readyWait:1,holdReady:function(e){e?E.readyWait++:E.ready(!0)},ready:function(e){(!0===e?--E.readyWait:E.isReady)||((E.isReady=!0)!==e&&0<--E.readyWait||(L.resolveWith(k,[E]),E.fn.triggerHandler&&(E(k).triggerHandler("ready"),E(k).off("ready"))))}}),E.ready.promise=function(e){return L||(L=E.Deferred(),"complete"===k.readyState||"loading"!==k.readyState&&!k.documentElement.doScroll?C.setTimeout(E.ready):(k.addEventListener("DOMContentLoaded",H),C.addEventListener("load",H))),L.promise(e)},E.ready.promise();var O=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===E.type(n))for(a in i=!0,n)O(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,E.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(E(e),n)})),t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o},F=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function P(){this.expando=E.expando+P.uid++}P.uid=1,P.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!F(e))return{};var t=e[this.expando];return t||(t={},F(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,E.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{E.isArray(t)?r=t.concat(t.map(E.camelCase)):(i=E.camelCase(t),t in o?r=[t,i]:r=(r=i)in o?[r]:r.match(q)||[]),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||E.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var R=new P,M=new P,W=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/[A-Z]/g;function $(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(I,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:W.test(n)?E.parseJSON(n):n)}catch(e){}M.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return M.hasData(e)||R.hasData(e)},data:function(e,t,n){return M.access(e,t,n)},removeData:function(e,t){M.remove(e,t)},_data:function(e,t,n){return R.access(e,t,n)},_removeData:function(e,t){R.remove(e,t)}}),E.fn.extend({data:function(r,e){var t,n,i,o=this[0],s=o&&o.attributes;if(void 0===r){if(this.length&&(i=M.get(o),1===o.nodeType&&!R.get(o,"hasDataAttrs"))){for(t=s.length;t--;)s[t]&&(0===(n=s[t].name).indexOf("data-")&&(n=E.camelCase(n.slice(5)),$(o,n,i[n])));R.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof r?this.each(function(){M.set(this,r)}):O(this,function(t){var e,n;if(o&&void 0===t){if(void 0!==(e=M.get(o,r)||M.get(o,r.replace(I,"-$&").toLowerCase())))return e;if(n=E.camelCase(r),void 0!==(e=M.get(o,n)))return e;if(void 0!==(e=$(o,n,void 0)))return e}else n=E.camelCase(r),this.each(function(){var e=M.get(this,n);M.set(this,n,t),-1<r.indexOf("-")&&void 0!==e&&M.set(this,r,t)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){M.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=R.get(e,t),n&&(!r||E.isArray(n)?r=R.access(e,t,E.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=E.queue(e,t),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){E.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return R.get(e,n)||R.access(e,n,{empty:E.Callbacks("once memory").add(function(){R.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?E.queue(this[0],t):void 0===n?this:this.each(function(){var e=E.queue(this,t,n);E._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&E.dequeue(this,t)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=R.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),X=["Top","Right","Bottom","Left"],z=function(e,t){return e=t||e,"none"===E.css(e,"display")||!E.contains(e.ownerDocument,e)};function U(e,t,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return E.css(e,t,"")},u=a(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),c=(E.cssNumber[t]||"px"!==l&&+u)&&_.exec(E.css(e,t));if(c&&c[3]!==l)for(l=l||c[3],n=n||[],c=+u||1;c/=o=o||".5",E.style(e,t,c+l),o!==(o=a()/u)&&1!==o&&--s;);return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var V=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,G=/^$|\/(?:java|ecma)script/i,Q={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function J(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&E.nodeName(e,t)?E.merge([e],n):n}function K(e,t){for(var n=0,r=e.length;n<r;n++)R.set(e[n],"globalEval",!t||R.get(t[n],"globalEval"))}Q.optgroup=Q.option,Q.tbody=Q.tfoot=Q.colgroup=Q.caption=Q.thead,Q.th=Q.td;var Z,ee,te=/<|&#?\w+;/;function ne(e,t,n,r,i){for(var o,s,a,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===E.type(o))E.merge(p,o.nodeType?[o]:o);else if(te.test(o)){for(s=s||f.appendChild(t.createElement("div")),a=(Y.exec(o)||["",""])[1].toLowerCase(),u=Q[a]||Q._default,s.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;E.merge(p,s.childNodes),(s=f.firstChild).textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&-1<E.inArray(o,r))i&&i.push(o);else if(l=E.contains(o.ownerDocument,o),s=J(f.appendChild(o),"script"),l&&K(s),n)for(c=0;o=s[c++];)G.test(o.type||"")&&n.push(o);return f}Z=k.createDocumentFragment().appendChild(k.createElement("div")),(ee=k.createElement("input")).setAttribute("type","radio"),ee.setAttribute("checked","checked"),ee.setAttribute("name","t"),Z.appendChild(ee),v.checkClone=Z.cloneNode(!0).cloneNode(!0).lastChild.checked,Z.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!Z.cloneNode(!0).lastChild.defaultValue;var re=/^key/,ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,oe=/^([^.]*)(?:\.(.+)|)/;function se(){return!0}function ae(){return!1}function ue(){try{return k.activeElement}catch(e){}}function le(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)le(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ae;else if(!i)return this;return 1===o&&(s=i,(i=function(e){return E().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),e.each(function(){E.event.add(this,t,i,r,n)})}E.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,v=R.get(t);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=E.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(q)||[""]).length;l--;)d=g=(a=oe.exec(e[l])||[])[1],h=(a[2]||"").split(".").sort(),d&&(f=E.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=E.event.special[d]||{},c=E.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,s)||t.addEventListener&&t.addEventListener(d,s)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),E.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,p,d,h,g,v=R.hasData(e)&&R.get(e);if(v&&(u=v.events)){for(l=(t=(t||"").match(q)||[""]).length;l--;)if(d=g=(a=oe.exec(t[l])||[])[1],h=(a[2]||"").split(".").sort(),d){for(f=E.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],a=a[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));s&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||E.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)E.event.remove(e,d+t[l],n,r,!0);E.isEmptyObject(u)&&R.remove(e,"handle events")}},dispatch:function(e){e=E.event.fix(e);var t,n,r,i,o,s=[],a=c.call(arguments),u=(R.get(this,"events")||{})[e.type]||[],l=E.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=E.event.handlers.call(this,e,u),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(o.namespace))&&(e.handleObj=o,e.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<a;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?-1<E(i,this).index(u):E.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||k).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[E.expando])return e;var t,n,r,i=e.type,o=e,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=ie.test(i)?this.mouseHooks:re.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new E.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=k),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ue()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ue()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&E.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return E.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){return this instanceof E.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?se:ae):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||E.now(),void(this[E.expando]=!0)):new E.Event(e,t)},E.Event.prototype={constructor:E.Event,isDefaultPrevented:ae,isPropagationStopped:ae,isImmediatePropagationStopped:ae,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=se,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=se,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=se,e&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){E.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return(!n||n!==this&&!E.contains(this,n))&&(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),E.fn.extend({on:function(e,t,n,r){return le(this,e,t,n,r)},one:function(e,t,n,r){return le(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(!1===t||"function"==typeof t)&&(n=t,t=void 0),!1===n&&(n=ae),this.each(function(){E.event.remove(this,e,n,t)})}});var ce=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,fe=/<script|<style|<link/i,pe=/checked\s*(?:[^=]|=\s*.checked.)/i,de=/^true\/(.*)/,he=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ge(e,t){return E.nodeName(e,"table")&&E.nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&e.getElementsByTagName("tbody")[0]||e}function ve(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function me(e){var t=de.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ye(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(R.hasData(e)&&(o=R.access(e),s=R.set(t,o),l=o.events))for(i in delete s.handle,s.events={},l)for(n=0,r=l[i].length;n<r;n++)E.event.add(t,i,l[i][n]);M.hasData(e)&&(a=M.access(e),u=E.extend({},a),M.set(t,u))}}function xe(n,r,i,o){r=g.apply([],r);var e,t,s,a,u,l,c=0,f=n.length,p=f-1,d=r[0],h=E.isFunction(d);if(h||1<f&&"string"==typeof d&&!v.checkClone&&pe.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),xe(t,r,i,o)});if(f&&(t=(e=ne(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(a=(s=E.map(J(e,"script"),ve)).length;c<f;c++)u=e,c!==p&&(u=E.clone(u,!0,!0),a&&E.merge(s,J(u,"script"))),i.call(n[c],u,c);if(a)for(l=s[s.length-1].ownerDocument,E.map(s,me),c=0;c<a;c++)u=s[c],G.test(u.type||"")&&!R.access(u,"globalEval")&&E.contains(l,u)&&(u.src?E._evalUrl&&E._evalUrl(u.src):E.globalEval(u.textContent.replace(he,"")))}return n}function be(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(J(r)),r.parentNode&&(n&&E.contains(r.ownerDocument,r)&&K(J(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e.replace(ce,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a,u,l,c=e.cloneNode(!0),f=E.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(s=J(c),r=0,i=(o=J(e)).length;r<i;r++)a=o[r],u=s[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&V.test(a.type)?u.checked=a.checked:("input"===l||"textarea"===l)&&(u.defaultValue=a.defaultValue);if(t)if(n)for(o=o||J(e),s=s||J(c),r=0,i=o.length;r<i;r++)ye(o[r],s[r]);else ye(e,c);return 0<(s=J(c,"script")).length&&K(s,!f&&J(e,"script")),c},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(F(n)){if(t=n[R.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[R.expando]=void 0}n[M.expando]&&(n[M.expando]=void 0)}}}),E.fn.extend({domManip:xe,detach:function(e){return be(this,e,!0)},remove:function(e){return be(this,e)},text:function(e){return O(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return xe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ge(this,e).appendChild(e)})},prepend:function(){return xe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ge(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return xe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return xe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(J(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return O(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!fe.test(e)&&!Q[(Y.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(J(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return xe(this,arguments,function(e){var t=this.parentNode;E.inArray(this,n)<0&&(E.cleanData(J(this)),t&&t.replaceChild(e,this))},n)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,s){E.fn[e]=function(e){for(var t,n=[],r=E(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),E(r[o])[s](t),a.apply(n,t.get());return this.pushStack(n)}});var we,Te={HTML:"block",BODY:"block"};function Ce(e,t){var n=E(t.createElement(e)).appendTo(t.body),r=E.css(n[0],"display");return n.detach(),r}function ke(e){var t=k,n=Te[e];return n||("none"!==(n=Ce(e,t))&&n||((t=(we=(we||E("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Ce(e,t),we.detach()),Te[e]=n),n}var Ee=/^margin/,Ne=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),Se=function(e){var t=e.ownerDocument.defaultView;return t.opener||(t=C),t.getComputedStyle(e)},De=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=s[o];return i},je=k.documentElement;function Ae(e,t,n){var r,i,o,s,a=e.style;return(n=n||Se(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||E.contains(e.ownerDocument,e)||(s=E.style(e,t)),!v.pixelMarginRight()&&Ne.test(s)&&Ee.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function Le(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){var t,n,r,i,o=k.createElement("div"),s=k.createElement("div");if(s.style){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",je.appendChild(o);var e=C.getComputedStyle(s);t="1%"!==e.top,i="2px"===e.marginLeft,n="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,je.removeChild(o)}s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),E.extend(v,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},pixelMarginRight:function(){return null==n&&e(),r},reliableMarginLeft:function(){return null==n&&e(),i},reliableMarginRight:function(){var e,t=s.appendChild(k.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",je.appendChild(o),e=!parseFloat(C.getComputedStyle(t).marginRight),je.removeChild(o),s.removeChild(t),e}})}}();var qe=/^(none|table(?!-c[ea]).+)/,He={position:"absolute",visibility:"hidden",display:"block"},Oe={letterSpacing:"0",fontWeight:"400"},Fe=["Webkit","O","Moz","ms"],Pe=k.createElement("div").style;function Re(e){if(e in Pe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Fe.length;n--;)if((e=Fe[n]+t)in Pe)return e}function Me(e,t,n){var r=_.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function We(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=E.css(e,n+X[o],!0,i)),r?("content"===n&&(s-=E.css(e,"padding"+X[o],!0,i)),"margin"!==n&&(s-=E.css(e,"border"+X[o]+"Width",!0,i))):(s+=E.css(e,"padding"+X[o],!0,i),"padding"!==n&&(s+=E.css(e,"border"+X[o]+"Width",!0,i)));return s}function Ie(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Se(e),s="border-box"===E.css(e,"boxSizing",!1,o);if(k.msFullscreenElement&&C.top!==C&&e.getClientRects().length&&(i=Math.round(100*e.getBoundingClientRect()[t])),i<=0||null==i){if(((i=Ae(e,t,o))<0||null==i)&&(i=e.style[t]),Ne.test(i))return i;r=s&&(v.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+We(e,t,n||(s?"border":"content"),r,o)+"px"}function $e(e,t){for(var n,r,i,o=[],s=0,a=e.length;s<a;s++)(r=e[s]).style&&(o[s]=R.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&z(r)&&(o[s]=R.access(r,"olddisplay",ke(r.nodeName)))):(i=z(r),"none"===n&&i||R.set(r,"olddisplay",i?n:E.css(r,"display"))));for(s=0;s<a;s++)(r=e[s]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function Be(e,t,n,r,i){return new Be.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ae(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=E.camelCase(t),u=e.style;return t=E.cssProps[a]||(E.cssProps[a]=Re(a)||a),s=E.cssHooks[t]||E.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t]:("string"===(o=typeof n)&&(i=_.exec(n))&&i[1]&&(n=U(e,t,i),o="number"),void(null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(E.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n))))}},css:function(e,t,n,r){var i,o,s,a=E.camelCase(t);return t=E.cssProps[a]||(E.cssProps[a]=Re(a)||a),(s=E.cssHooks[t]||E.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=Ae(e,t,r)),"normal"===i&&t in Oe&&(i=Oe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],function(e,s){E.cssHooks[s]={get:function(e,t,n){return t?qe.test(E.css(e,"display"))&&0===e.offsetWidth?De(e,He,function(){return Ie(e,s,n)}):Ie(e,s,n):void 0},set:function(e,t,n){var r,i=n&&Se(e),o=n&&We(e,s,n,"border-box"===E.css(e,"boxSizing",!1,i),i);return o&&(r=_.exec(t))&&"px"!==(r[3]||"px")&&(e.style[s]=t,t=E.css(e,s)),Me(0,t,o)}}}),E.cssHooks.marginLeft=Le(v.reliableMarginLeft,function(e,t){return t?(parseFloat(Ae(e,"marginLeft"))||e.getBoundingClientRect().left-De(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),E.cssHooks.marginRight=Le(v.reliableMarginRight,function(e,t){return t?De(e,{display:"inline-block"},Ae,[e,"marginRight"]):void 0}),E.each({margin:"",padding:"",border:"Width"},function(i,o){E.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+X[t]+o]=r[t]||r[t-2]||r[0];return n}},Ee.test(i)||(E.cssHooks[i+o].set=Me)}),E.fn.extend({css:function(e,t){return O(this,function(e,t,n){var r,i,o={},s=0;if(E.isArray(t)){for(r=Se(e),i=t.length;s<i;s++)o[t[s]]=E.css(e,t[s],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,1<arguments.length)},show:function(){return $e(this,!0)},hide:function(){return $e(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){z(this)?E(this).show():E(this).hide()})}}),((E.Tween=Be).prototype={constructor:Be,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=Be.propHooks[this.prop];return e&&e.get?e.get(this):Be.propHooks._default.get(this)},run:function(e){var t,n=Be.propHooks[this.prop];return this.options.duration?this.pos=t=E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Be.propHooks._default.set(this),this}}).init.prototype=Be.prototype,(Be.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[E.cssProps[e.prop]]&&!E.cssHooks[e.prop]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Be.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=Be.prototype.init,E.fx.step={};var _e,Xe,ze,Ue,Ve,Ye=/^(?:toggle|show|hide)$/,Ge=/queueHooks$/;function Qe(){return C.setTimeout(function(){_e=void 0}),_e=E.now()}function Je(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=X[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ke(e,t,n){for(var r,i=(Ze.tweeners[t]||[]).concat(Ze.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function Ze(o,e,t){var n,s,r=0,i=Ze.prefilters.length,a=E.Deferred().always(function(){delete u.elem}),u=function(){if(s)return!1;for(var e=_e||Qe(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return a.notifyWith(o,[l,n,t]),n<1&&i?t:(a.resolveWith(o,[l]),!1)},l=a.promise({elem:o,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},t),originalProperties:e,originalOptions:t,startTime:_e||Qe(),duration:t.duration,tweens:[],createTween:function(e,t){var n=E.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(s)return this;for(s=!0;t<n;t++)l.tweens[t].run(1);return e?(a.notifyWith(o,[l,1,0]),a.resolveWith(o,[l,e])):a.rejectWith(o,[l,e]),this}}),c=l.props;for(function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=E.camelCase(n)],o=e[n],E.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=E.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=Ze.prefilters[r].call(l,o,c,l.opts))return E.isFunction(n.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=E.proxy(n.stop,n)),n;return E.map(c,Ke,l),E.isFunction(l.opts.start)&&l.opts.start.call(o,l),E.fx.timer(E.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}E.Animation=E.extend(Ze,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return U(n.elem,e,_.exec(t),n),n}]},tweener:function(e,t){E.isFunction(e)?(t=e,e=["*"]):e=e.match(q);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Ze.tweeners[n]=Ze.tweeners[n]||[],Ze.tweeners[n].unshift(t)},prefilters:[function(t,e,n){var r,i,o,s,a,u,l,c=this,f={},p=t.style,d=t.nodeType&&z(t),h=R.get(t,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,E.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===("none"===(l=E.css(t,"display"))?R.get(t,"olddisplay")||ke(t.nodeName):l)&&"none"===E.css(t,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),e)if(i=e[r],Ye.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(d?"hide":"show")){if("show"!==i||!h||void 0===h[r])continue;d=!0}f[r]=h&&h[r]||E.style(t,r)}else l=void 0;if(E.isEmptyObject(f))"inline"===("none"===l?ke(t.nodeName):l)&&(p.display=l);else for(r in h?"hidden"in h&&(d=h.hidden):h=R.access(t,"fxshow",{}),o&&(h.hidden=!d),d?E(t).show():c.done(function(){E(t).hide()}),c.done(function(){var e;for(e in R.remove(t,"fxshow"),f)E.style(t,e,f[e])}),f)s=Ke(d?h[r]:0,r,c),r in h||(h[r]=s.start,d&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}],prefilter:function(e,t){t?Ze.prefilters.unshift(e):Ze.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||E.isFunction(e)&&e,duration:e,easing:n&&t||t&&!E.isFunction(t)&&t};return r.duration=E.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in E.fx.speeds?E.fx.speeds[r.duration]:E.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){E.isFunction(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(z).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=E.isEmptyObject(t),o=E.speed(e,n,r),s=function(){var e=Ze(this,E.extend({},t),o);(i||R.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(i,e,o){var s=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=E.timers,r=R.get(this);if(t)r[t]&&r[t].stop&&s(r[t]);else for(t in r)r[t]&&r[t].stop&&Ge.test(t)&&s(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));(e||!o)&&E.dequeue(this,i)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var e,t=R.get(this),n=t[s+"queue"],r=t[s+"queueHooks"],i=E.timers,o=n?n.length:0;for(t.finish=!0,E.queue(this,s,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===s&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),E.each(["toggle","show","hide"],function(e,r){var i=E.fn[r];E.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(Je(r,!0),e,t,n)}}),E.each({slideDown:Je("show"),slideUp:Je("hide"),slideToggle:Je("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){E.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(_e=E.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),_e=void 0},E.fx.timer=function(e){E.timers.push(e),e()?E.fx.start():E.timers.pop()},E.fx.interval=13,E.fx.start=function(){Xe||(Xe=C.setInterval(E.fx.tick,E.fx.interval))},E.fx.stop=function(){C.clearInterval(Xe),Xe=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(r,e){return r=E.fx&&E.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},ze=k.createElement("input"),Ue=k.createElement("select"),Ve=Ue.appendChild(k.createElement("option")),ze.type="checkbox",v.checkOn=""!==ze.value,v.optSelected=Ve.selected,Ue.disabled=!0,v.optDisabled=!Ve.disabled,(ze=k.createElement("input")).value="t",ze.type="radio",v.radioValue="t"===ze.value;var et,tt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return O(this,E.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(t=t.toLowerCase(),i=E.attrHooks[t]||(E.expr.match.bool.test(t)?et:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&E.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(q);if(o&&1===e.nodeType)for(;n=o[i++];)r=E.propFix[n]||n,E.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),et={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var o=tt[t]||E.find.attr;tt[t]=function(e,t,n){var r,i;return n||(i=tt[t],tt[t]=r,r=null!=o(e,t,n)?t.toLowerCase():null,tt[t]=i),r}});var nt=/^(?:input|select|textarea|button)$/i,rt=/^(?:a|area)$/i;E.fn.extend({prop:function(e,t){return O(this,E.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(t=E.propFix[t]||t,i=E.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):nt.test(e.nodeName)||rt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this});var it=/[\t\r\n\f]/g;function ot(e){return e.getAttribute&&e.getAttribute("class")||""}E.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(E.isFunction(t))return this.each(function(e){E(this).addClass(t.call(this,e,ot(this)))});if("string"==typeof t&&t)for(e=t.match(q)||[];n=this[u++];)if(i=ot(n),r=1===n.nodeType&&(" "+i+" ").replace(it," ")){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=E.trim(r))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(E.isFunction(t))return this.each(function(e){E(this).removeClass(t.call(this,e,ot(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(q)||[];n=this[u++];)if(i=ot(n),r=1===n.nodeType&&(" "+i+" ").replace(it," ")){for(s=0;o=e[s++];)for(;-1<r.indexOf(" "+o+" ");)r=r.replace(" "+o+" "," ");i!==(a=E.trim(r))&&n.setAttribute("class",a)}return this},toggleClass:function(i,t){var o=typeof i;return"boolean"==typeof t&&"string"===o?t?this.addClass(i):this.removeClass(i):E.isFunction(i)?this.each(function(e){E(this).toggleClass(i.call(this,e,ot(this),t),t)}):this.each(function(){var e,t,n,r;if("string"===o)for(t=0,n=E(this),r=i.match(q)||[];e=r[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else(void 0===i||"boolean"===o)&&((e=ot(this))&&R.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":R.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&-1<(" "+ot(n)+" ").replace(it," ").indexOf(t))return!0;return!1}});var st=/\r/g;E.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=E.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,E(this).val()):n)?t="":"number"==typeof t?t+="":E.isArray(t)&&(t=E.map(t,function(e){return null==e?"":e+""})),(r=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=E.valHooks[t.type]||E.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(st,""):null==e?"":e:void 0}}),E.extend({valHooks:{option:{get:function(e){return E.trim(e.value)}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(((n=r[u]).selected||u===i)&&(v.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!E.nodeName(n.parentNode,"optgroup"))){if(t=E(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),s=i.length;s--;)((r=i[s]).selected=-1<E.inArray(E.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){return E.isArray(t)?e.checked=-1<E.inArray(E(e).val(),t):void 0}},v.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var at=/^(?:focusinfocus|focusoutblur)$/;E.extend(E.event,{trigger:function(e,t,n,r){var i,o,s,a,u,l,c,f=[n||k],p=h.call(e,"type")?e.type:e,d=h.call(e,"namespace")?e.namespace.split("."):[];if(o=s=n=n||k,3!==n.nodeType&&8!==n.nodeType&&!at.test(p+E.event.triggered)&&(-1<p.indexOf(".")&&(p=(d=p.split(".")).shift(),d.sort()),u=p.indexOf(":")<0&&"on"+p,(e=e[E.expando]?e:new E.Event(p,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=d.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:E.makeArray(t,[e]),c=E.event.special[p]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!E.isWindow(n)){for(a=c.delegateType||p,at.test(a+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),s=o;s===(n.ownerDocument||k)&&f.push(s.defaultView||s.parentWindow||C)}for(i=0;(o=f[i++])&&!e.isPropagationStopped();)e.type=1<i?a:c.bindType||p,(l=(R.get(o,"events")||{})[e.type]&&R.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&F(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(f.pop(),t)||!F(n)||u&&E.isFunction(n[p])&&!E.isWindow(n)&&((s=n[u])&&(n[u]=null),n[E.event.triggered=p](),E.event.triggered=void 0,s&&(n[u]=s)),e.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t),r.isDefaultPrevented()&&n.preventDefault()}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?E.event.trigger(e,t,n,!0):void 0}}),E.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){E.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),E.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.focusin="onfocusin"in C,v.focusin||E.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){E.event.simulate(r,e.target,E.event.fix(e))};E.event.special[r]={setup:function(){var e=this.ownerDocument||this,t=R.access(e,r);t||e.addEventListener(n,i,!0),R.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=R.access(e,r)-1;t?R.access(e,r,t):(e.removeEventListener(n,i,!0),R.remove(e,r))}}});var ut=C.location,lt=E.now(),ct=/\?/;E.parseJSON=function(e){return JSON.parse(e+"")},E.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&E.error("Invalid XML: "+e),t};var ft=/#.*$/,pt=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:GET|HEAD)$/,gt=/^\/\//,vt={},mt={},yt="*/".concat("*"),xt=k.createElement("a");function bt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(q)||[];if(E.isFunction(t))for(;n=i[r++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function wt(t,i,o,s){var a={},u=t===mt;function l(e){var r;return a[e]=!0,E.each(t[e]||[],function(e,t){var n=t(i,o,s);return"string"!=typeof n||u||a[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!a["*"]&&l("*")}function Tt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}xt.href=ut.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ut.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ut.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":yt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":E.parseJSON,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Tt(Tt(e,E.ajaxSettings),t):Tt(E.ajaxSettings,e)},ajaxPrefilter:bt(vt),ajaxTransport:bt(mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,i,g=E.ajaxSetup({},t),v=g.context||g,m=g.context&&(v.nodeType||v.jquery)?E(v):E.event,y=E.Deferred(),x=E.Callbacks("once memory"),b=g.statusCode||{},o={},s={},w=0,a="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!n)for(n={};t=dt.exec(p);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?p:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=s[n]=s[n]||e,o[e]=t),this},overrideMimeType:function(e){return w||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)b[t]=[b[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||a;return c&&c.abort(t),u(0,t),this}};if(y.promise(T).complete=x.add,T.success=T.done,T.error=T.fail,g.url=((e||g.url||ut.href)+"").replace(ft,"").replace(gt,ut.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=E.trim(g.dataType||"*").toLowerCase().match(q)||[""],null==g.crossDomain){r=k.createElement("a");try{r.href=g.url,r.href=r.href,g.crossDomain=xt.protocol+"//"+xt.host!=r.protocol+"//"+r.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=E.param(g.data,g.traditional)),wt(vt,g,t,T),2===w)return T;for(i in(h=E.event&&g.global)&&0==E.active++&&E.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!ht.test(g.type),f=g.url,g.hasContent||(g.data&&(f=g.url+=(ct.test(f)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=pt.test(f)?f.replace(pt,"$1_="+lt++):f+(ct.test(f)?"&":"?")+"_="+lt++)),g.ifModified&&(E.lastModified[f]&&T.setRequestHeader("If-Modified-Since",E.lastModified[f]),E.etag[f]&&T.setRequestHeader("If-None-Match",E.etag[f])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&T.setRequestHeader("Content-Type",g.contentType),T.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+yt+"; q=0.01":""):g.accepts["*"]),g.headers)T.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(v,T,g)||2===w))return T.abort();for(i in a="abort",{success:1,error:1,complete:1})T[i](g[i]);if(c=wt(mt,g,t,T)){if(T.readyState=1,h&&m.trigger("ajaxSend",[T,g]),2===w)return T;g.async&&0<g.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},g.timeout));try{w=1,c.send(o,u)}catch(e){if(!(w<2))throw e;u(-1,e)}}else u(-1,"No Transport");function u(e,t,n,r){var i,o,s,a,u,l=t;2!==w&&(w=2,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}(g,T,n)),a=function(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if((a=i.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(g,a,T,i),i?(g.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(E.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(E.etag[f]=u)),204===e||"HEAD"===g.type?l="nocontent":304===e?l="notmodified":(l=a.state,o=a.data,i=!(s=a.error))):(s=l,(e||!l)&&(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?y.resolveWith(v,[o,l,T]):y.rejectWith(v,[T,l,s]),T.statusCode(b),b=void 0,h&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,g,i?o:s]),x.fireWith(v,[T,l]),h&&(m.trigger("ajaxComplete",[T,g]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,i){E[i]=function(e,t,n,r){return E.isFunction(t)&&(r=r||n,n=t,t=void 0),E.ajax(E.extend({url:e,type:i,dataType:r,data:t,success:n},E.isPlainObject(e)&&e))}}),E._evalUrl=function(e){return E.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},E.fn.extend({wrapAll:function(t){var e;return E.isFunction(t)?this.each(function(e){E(this).wrapAll(t.call(this,e))}):(this[0]&&(e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return E.isFunction(n)?this.each(function(e){E(this).wrapInner(n.call(this,e))}):this.each(function(){var e=E(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=E.isFunction(t);return this.each(function(e){E(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){E.nodeName(this,"body")||E(this).replaceWith(this.childNodes)}).end()}}),E.expr.filters.hidden=function(e){return!E.expr.filters.visible(e)},E.expr.filters.visible=function(e){return 0<e.offsetWidth||0<e.offsetHeight||0<e.getClientRects().length};var Ct=/%20/g,kt=/\[\]$/,Et=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,St=/^(?:input|select|textarea|keygen)/i;function Dt(n,e,r,i){var t;if(E.isArray(e))E.each(e,function(e,t){r||kt.test(n)?i(n,t):Dt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==E.type(e))i(n,e);else for(t in e)Dt(n+"["+t+"]",e[t],r,i)}E.param=function(e,t){var n,r=[],i=function(e,t){t=E.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=E.ajaxSettings&&E.ajaxSettings.traditional),E.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){i(this.name,this.value)});else for(n in e)Dt(n,e[n],t,i);return r.join("&").replace(Ct,"+")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&St.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!V.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:E.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}}),E.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var jt={0:200,1223:204},At=E.ajaxSettings.xhr();v.cors=!!At&&"withCredentials"in At,v.ajax=At=!!At,E.ajaxTransport(function(i){var o,s;return v.cors||At&&!i.crossDomain?{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=s=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(jt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),s=r.onerror=o("error"),void 0!==r.onabort?r.onabort=s:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&s()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}:void 0}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(n){var r,i;if(n.crossDomain)return{send:function(e,t){r=E("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),k.head.appendChild(r[0])},abort:function(){i&&i()}}});var Lt,qt=[],Ht=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=qt.pop()||E.expando+"_"+lt++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,s=!1!==e.jsonp&&(Ht.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ht.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=E.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ht,"$1"+r):!1!==e.jsonp&&(e.url+=(ct.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||E.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?E(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,qt.push(r)),o&&E.isFunction(i)&&i(o[0]),o=i=void 0}),"script"):void 0}),v.createHTMLDocument=((Lt=k.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Lt.childNodes.length),E.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||(v.createHTMLDocument?k.implementation.createHTMLDocument(""):k);var r=b.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=ne([e],t,i),i&&i.length&&E(i).remove(),E.merge([],r.childNodes))};var Ot=E.fn.load;function Ft(e){return E.isWindow(e)?e:9===e.nodeType&&e.defaultView}E.fn.load=function(e,t,n){if("string"!=typeof e&&Ot)return Ot.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return-1<a&&(r=E.trim(e.slice(a)),e=e.slice(0,a)),E.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<s.length&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(s,o||[e.responseText,t,e])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.expr.filters.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l=E.css(e,"position"),c=E(e),f={};"static"===l&&(e.style.position="relative"),a=c.offset(),o=E.css(e,"top"),u=E.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(s=(r=c.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),E.isFunction(t)&&(t=t.call(e,n,E.extend({},a))),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using"in t?t.using.call(e,f):c.css(f)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(e=o.documentElement,E.contains(e,r)?(i=r.getBoundingClientRect(),n=Ft(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===E.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),E.nodeName(e[0],"html")||(r=e.offset()),r.top+=E.css(e[0],"borderTopWidth",!0)-e.scrollTop(),r.left+=E.css(e[0],"borderLeftWidth",!0)-e.scrollLeft()),{top:t.top-r.top-E.css(n,"marginTop",!0),left:t.left-r.left-E.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||je})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;E.fn[t]=function(e){return O(this,function(e,t,n){var r=Ft(e);return void 0===n?r?r[i]:e[t]:void(r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n)},t,e,arguments.length)}}),E.each(["top","left"],function(e,n){E.cssHooks[n]=Le(v.pixelPosition,function(e,t){return t?(t=Ae(e,n),Ne.test(t)?E(e).position()[n]+"px":t):void 0})}),E.each({Height:"height",Width:"width"},function(o,s){E.each({padding:"inner"+o,content:s,"":"outer"+o},function(r,e){E.fn[e]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return O(this,function(e,t,n){var r;return E.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+o],r["scroll"+o],e.body["offset"+o],r["offset"+o],r["client"+o])):void 0===n?E.css(e,t,i):E.style(e,t,n,i)},s,n?e:void 0,n,null)}})}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),E.fn.andSelf=E.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var Pt=C.jQuery,Rt=C.$;return E.noConflict=function(e){return C.$===E&&(C.$=Rt),e&&C.jQuery===E&&(C.jQuery=Pt),E},e||(C.jQuery=C.$=E),E});
(function(){"use strict";function t(h){var i="searcher",n="plugin_"+i,a={itemSelector:"tbody > tr",textSelector:"td",inputSelector:"",caseSensitive:!1,toggle:function(t,e){h(t).toggle(e)}};function o(t,e){this.element=t,this.options=h.extend({},a,e),this._create()}o.prototype={dispose:function(){this._$input.unbind("."+i);var t=this.options,e=t.toggle||a.toggle;this._$element.find(t.itemSelector).each(function(){e(this,!0)})},_create:function(){var t=this.options;this._$element=h(this.element),this._fn=h.proxy(this._onValueChange,this);this._$input=h(t.inputSelector).bind("input.searcher change.searcher keyup.searcher",this._fn),this._lastValue="";var e=t.toggle||a.toggle;this._$element.find(t.itemSelector).each(function(){e(this,!0)})},_onValueChange:function(){var t=this.options,n=t.textSelector,o=t.toggle||a.toggle,e="gm"+(t.caseSensitive?"":"i"),s=new RegExp("("+this._$input.val().replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+")",e);s.toString()!==this._lastValue&&(this._lastValue=s.toString(),this._$element.find(t.itemSelector).each(function(){var t=h(this),e=n?t.find(n):t,i=!1;e=e.each(function(){return!(i=i||!!h(this).text().match(s))}),o(this,i)}))}},h.fn[i]=function(e){return this.each(function(){var t=h.data(this,n);t&&"dispose"===e?(t.dispose(),h.removeData(this,n)):t?h.extend(t.options,e):"object"==typeof e&&h.data(this,n,new o(this,e))})}}"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}).call(this);
!function(p,g,e){var f={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof p)throw new Error(f.nojQuery);var v,t,n,o,m="complete"===g.document.readyState,h=p(g),S="__Negotiate Aborted__",b={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},_=function(e,t,n){return t===e.state&&(e.state=n,p(e).triggerHandler(b.onStateChanged,[{oldState:t,newState:n}]),!0)},T=function(e){return e._.keepAliveData.activated&&e.transport.supportsKeepAlive(e)};function r(e,t){return t.match(/:\d+$/)?t:t+":"+("http:"===(n=e)?80:"https:"===n?443:void 0);var n}function i(t,e){var n=[];this.tryBuffer=function(e){return t.state===p.signalR.connectionState.connecting&&(n.push(e),!0)},this.drain=function(){if(t.state===p.signalR.connectionState.connected)for(;0<n.length;)e(n.shift())},this.clear=function(){n=[]}}(v=function(e,t,n){return new v.fn.init(e,t,n)})._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:("Microsoft Internet Explorer"===g.navigator.appName&&(o=/MSIE ([0-9]+\.[0-9]+)/.exec(g.navigator.userAgent))&&(n=g.parseFloat(o[1])),n),error:function(e,t,n){var o=new Error(e);return o.source=t,void 0!==n&&(o.context=n),o},transportError:function(e,t,n,o){var r=this.error(e,n,o);return r.transport=t?t.name:void 0,r},format:function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace("{"+t+"}",arguments[t+1]);return e},firefoxMajorVersion:function(e){var t=e.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(t){var e=t._.config,n=function(e){p(t).triggerHandler(b.onError,[e])};e&&!t._.pingIntervalId&&e.pingInterval&&(t._.pingIntervalId=g.setInterval(function(){v.transports._logic.pingServer(t).fail(n)},e.pingInterval))}},v.events=b,v.resources=f,v.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1},v.changeState=_,v.isDisconnecting=function(e){return e.state===v.connectionState.disconnected},v.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},v.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.")}},h.load(function(){m=!0}),v.fn=v.prototype={init:function(e,t,n){var o=p(this);this.url=e,this.qs=t,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new i(this,function(e){o.triggerHandler(b.onReceived,[e])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof n&&(this.logging=n)},_parseResponse:function(e){return e&&"string"==typeof e?this.json.parse(e):e},_originalJson:g.JSON,json:g.JSON,isCrossDomain:function(e,t){var n;return e=p.trim(e),t=t||g.location,0===e.indexOf("http")&&((n=g.document.createElement("a")).href=e,n.protocol+r(n.protocol,n.host)!==t.protocol+r(t.protocol,t.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:v.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(e,n){var a,t,o,r,c=this,s={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},l=c._deferral||p.Deferred(),i=g.document.createElement("a");if(c.lastError=null,c._deferral=l,!c.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===p.type(e)?n=e:"object"===p.type(e)&&(p.extend(s,e),"function"===p.type(s.callback)&&(n=s.callback)),s.transport=function(e,t){if(p.isArray(e)){for(var n=e.length-1;0<=n;n--){var o=e[n];"string"===p.type(o)&&v.transports[o]||(t.log("Invalid transport: "+o+", removing it from the transports list."),e.splice(n,1))}0===e.length&&(t.log("No transports remain within the specified transport array."),e=null)}else if(v.transports[e]||"auto"===e){if("auto"===e&&v._.ieVersion<=8)return["longPolling"]}else t.log("Invalid transport: "+e.toString()+"."),e=null;return e}(s.transport,c),!s.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");if(c._.config=s,!m&&!0===s.waitForPageLoad)return c._.deferredStartHandler=function(){c.start(e,n)},h.bind("load",c._.deferredStartHandler),l.promise();if(c.state===v.connectionState.connecting)return l.promise();if(!1===_(c,v.connectionState.disconnected,v.connectionState.connecting))return l.resolve(c),l.promise();(t=c)._.configuredStopReconnectingTimeout||(r=function(e){var t=v._.format(v.resources.reconnectTimeout,e.disconnectTimeout);e.log(t),p(e).triggerHandler(b.onError,[v._.error(t,"TimeoutException")]),e.stop(!1,!1)},t.reconnecting(function(){var e=this;e.state===v.connectionState.reconnecting&&(o=g.setTimeout(function(){r(e)},e.disconnectTimeout))}),t.stateChanged(function(e){e.oldState===v.connectionState.reconnecting&&g.clearTimeout(o)}),t._.configuredStopReconnectingTimeout=!0),i.href=c.url,i.protocol&&":"!==i.protocol?(c.protocol=i.protocol,c.host=i.host):(c.protocol=g.document.location.protocol,c.host=i.host||g.document.location.host),c.baseUrl=c.protocol+"//"+c.host,c.wsProtocol="https:"===c.protocol?"wss://":"ws://","auto"===s.transport&&!0===s.jsonp&&(s.transport="longPolling"),0===c.url.indexOf("//")&&(c.url=g.location.protocol+c.url,c.log("Protocol relative URL detected, normalizing it to '"+c.url+"'.")),this.isCrossDomain(c.url)&&(c.log("Auto detected cross domain url."),"auto"===s.transport&&(s.transport=["webSockets","serverSentEvents","longPolling"]),void 0===s.withCredentials&&(s.withCredentials=!0),s.jsonp||(s.jsonp=!p.support.cors,s.jsonp&&c.log("Using jsonp because this browser doesn't support CORS.")),c.contentType=v._.defaultContentType),c.withCredentials=s.withCredentials,c.ajaxDataType=s.jsonp?"jsonp":"text",p(c).bind(b.onStart,function(e,t){"function"===p.type(n)&&n.call(c),l.resolve(c)}),c._.initHandler=v.transports._logic.initHandler(c),a=function(e,t){var n=v._.error(f.noTransportOnInit);if((t=t||0)>=e.length)return 0===t?c.log("No transports supported by the server were selected."):1===t?c.log("No fallback transports were selected."):c.log("Fallback transports exhausted."),p(c).triggerHandler(b.onError,[n]),l.reject(n),void c.stop();if(c.state!==v.connectionState.disconnected){var o=e[t],r=v.transports[o],i=function(){a(e,t+1)};c.transport=r;try{c._.initHandler.start(r,function(){var e=11<=v._.firefoxMajorVersion(g.navigator.userAgent),t=!!c.withCredentials&&e;c.log("The start request succeeded. Transitioning to the connected state."),T(c)&&v.transports._logic.monitorKeepAlive(c),v.transports._logic.startHeartbeat(c),v._.configurePingInterval(c),_(c,v.connectionState.connecting,v.connectionState.connected)||c.log("WARNING! The connection was not in the connecting state."),c._.connectingMessageBuffer.drain(),p(c).triggerHandler(b.onStart),h.bind("unload",function(){c.log("Window unloading, stopping the connection."),c.stop(t)}),e&&h.bind("beforeunload",function(){g.setTimeout(function(){c.stop(t)},0)})},i)}catch(e){c.log(r.name+" transport threw '"+e.message+"' when attempting to start."),i()}}};var u=c.url+"/negotiate",d=function(e,t){var n=v._.error(f.errorOnNegotiate,e,t._.negotiateRequest);p(t).triggerHandler(b.onError,n),l.reject(n),t.stop()};return p(c).triggerHandler(b.onStarting),u=v.transports._logic.prepareQueryString(c,u),c.log("Negotiating with '"+u+"'."),c._.negotiateRequest=v.transports._logic.ajax(c,{url:u,error:function(e,t){t!==S?d(e,c):l.reject(v._.error(f.stoppedWhileNegotiating,null,c._.negotiateRequest))},success:function(e){var t,n,o,r=[],i=[];try{t=c._parseResponse(e)}catch(e){return void d(v._.error(f.errorParsingNegotiateResponse,e),c)}if(n=c._.keepAliveData,c.appRelativeUrl=t.Url,c.id=t.ConnectionId,c.token=t.ConnectionToken,c.webSocketServerUrl=t.WebSocketServerUrl,c._.pollTimeout=1e3*t.ConnectionTimeout+1e4,c.disconnectTimeout=1e3*t.DisconnectTimeout,c._.totalTransportConnectTimeout=c.transportConnectTimeout+1e3*t.TransportConnectTimeout,t.KeepAliveTimeout?(n.activated=!0,n.timeout=1e3*t.KeepAliveTimeout,n.timeoutWarning=n.timeout*c.keepAliveWarnAt,c._.beatInterval=(n.timeout-n.timeoutWarning)/3):n.activated=!1,c.reconnectWindow=c.disconnectTimeout+(n.timeout||0),!t.ProtocolVersion||t.ProtocolVersion!==c.clientProtocol)return o=v._.error(v._.format(f.protocolIncompatible,c.clientProtocol,t.ProtocolVersion)),p(c).triggerHandler(b.onError,[o]),void l.reject(o);p.each(v.transports,function(e){if(0===e.indexOf("_")||"webSockets"===e&&!t.TryWebSockets)return!0;i.push(e)}),p.isArray(s.transport)?p.each(s.transport,function(e,t){0<=p.inArray(t,i)&&r.push(t)}):"auto"===s.transport?r=i:0<=p.inArray(s.transport,i)&&r.push(s.transport),a(r)}}),l.promise()},starting:function(n){var o=this;return p(o).bind(b.onStarting,function(e,t){n.call(o)}),o},send:function(e){var t=this;if(t.state===v.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(t.state===v.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return t.transport.send(t,e),t},received:function(n){var o=this;return p(o).bind(b.onReceived,function(e,t){n.call(o,t)}),o},stateChanged:function(n){var o=this;return p(o).bind(b.onStateChanged,function(e,t){n.call(o,t)}),o},error:function(o){var r=this;return p(r).bind(b.onError,function(e,t,n){r.lastError=t,o.call(r,t,n)}),r},disconnected:function(n){var o=this;return p(o).bind(b.onDisconnect,function(e,t){n.call(o)}),o},connectionSlow:function(n){var o=this;return p(o).bind(b.onConnectionSlow,function(e,t){n.call(o)}),o},reconnecting:function(n){var o=this;return p(o).bind(b.onReconnecting,function(e,t){n.call(o)}),o},reconnected:function(n){var o=this;return p(o).bind(b.onReconnect,function(e,t){n.call(o)}),o},stop:function(e,t){var n=this,o=n._deferral;return n._.deferredStartHandler&&h.unbind("load",n._.deferredStartHandler),delete n._.config,delete n._.deferredStartHandler,m||n._.config&&!0!==n._.config.waitForPageLoad?n.state!==v.connectionState.disconnected?(n.log("Stopping connection."),_(n,n.state,v.connectionState.disconnected),g.clearTimeout(n._.beatHandle),g.clearInterval(n._.pingIntervalId),n.transport&&(n.transport.stop(n),!1!==t&&n.transport.abort(n,e),T(n)&&v.transports._logic.stopMonitoringKeepAlive(n),n.transport=null),n._.negotiateRequest&&(n._.negotiateRequest.abort(S),delete n._.negotiateRequest),n._.initHandler&&n._.initHandler.stop(),p(n).triggerHandler(b.onDisconnect),delete n._deferral,delete n.messageId,delete n.groupsToken,delete n.id,delete n._.pingIntervalId,delete n._.lastMessageAt,delete n._.lastActiveAt,n._.connectingMessageBuffer.clear(),n):void 0:(n.log("Stopping connection prior to negotiate."),void(o&&o.reject(v._.error(f.stoppedWhileLoading))))},log:function(e){var t,n;t=e,!1!==this.logging&&void 0!==g.console&&(n="["+(new Date).toTimeString()+"] SignalR: "+t,g.console.debug?g.console.debug(n):g.console.log&&g.console.log(n))}},v.fn.init.prototype=v.fn,v.noConflict=function(){return p.connection===v&&(p.connection=t),v},p.connection&&(t=p.connection),p.connection=p.signalR=v}(window.jQuery,window),function(c,s,e){var l,u=c.signalR,d=c.signalR.events,t=c.signalR.changeState,p="__Start Aborted__";function r(e){var t,n,o;e._.keepAliveData.monitoring&&(o=(t=e)._.keepAliveData,t.state===u.connectionState.connected&&((n=(new Date).getTime()-t._.lastMessageAt)>=o.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):n>=o.timeoutWarning?o.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),c(t).triggerHandler(d.onConnectionSlow),o.userNotified=!0):o.userNotified=!1)),l.markActive(e)&&(e._.beatHandle=s.setTimeout(function(){r(e)},e._.beatInterval))}function g(e,t){var n=e.url+t;return e.transport&&(n+="?transport="+e.transport.name),l.prepareQueryString(e,n)}function n(e){this.connection=e,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}u.transports={},n.prototype={start:function(t,e,n){var o=this,r=o.connection,i=!1;o.startRequested||o.connectionStopped?r.log("WARNING! "+t.name+" transport cannot be started. Initialization ongoing or completed."):(r.log(t.name+" transport starting."),o.transportTimeoutHandle=s.setTimeout(function(){i||(i=!0,r.log(t.name+" transport timed out when trying to connect."),o.transportFailed(t,void 0,n))},r._.totalTransportConnectTimeout),t.start(r,function(){i||o.initReceived(t,e)},function(e){return i||(i=!0,o.transportFailed(t,e,n)),!o.startCompleted||o.connectionStopped}))},stop:function(){this.connectionStopped=!0,s.clearTimeout(this.transportTimeoutHandle),u.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(e,t){var n=this,o=n.connection;n.startRequested?o.log("WARNING! The client received multiple init messages."):n.connectionStopped||(n.startRequested=!0,s.clearTimeout(n.transportTimeoutHandle),o.log(e.name+" transport connected. Initiating start request."),u.transports._logic.ajaxStart(o,function(){n.startCompleted=!0,t()}))},transportFailed:function(e,t,n){var o,r=this.connection,i=r._deferral;this.connectionStopped||(s.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(o=u._.error(u.resources.errorDuringStartRequest,t),r.log(e.name+" transport failed during the start request. Stopping the connection."),c(r).triggerHandler(d.onError,[o]),i&&i.reject(o),r.stop()):(e.stop(r),r.log(e.name+" transport failed to connect. Attempting to fall back."),n()))}},l=u.transports._logic={ajax:function(e,t){return c.ajax(c.extend(!0,{},c.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:e.withCredentials},contentType:e.contentType,dataType:e.ajaxDataType},t))},pingServer:function(n){var e,o,r=c.Deferred();return n.transport?(e=n.url+"/ping",e=l.addQs(e,n.qs),o=l.ajax(n,{url:e,success:function(e){var t;try{t=n._parseResponse(e)}catch(e){return r.reject(u._.transportError(u.resources.pingServerFailedParse,n.transport,e,o)),void n.stop()}"pong"===t.Response?r.resolve():r.reject(u._.transportError(u._.format(u.resources.pingServerFailedInvalidResponse,e),n.transport,null,o))},error:function(e){401===e.status||403===e.status?(r.reject(u._.transportError(u._.format(u.resources.pingServerFailedStatusCode,e.status),n.transport,e,o)),n.stop()):r.reject(u._.transportError(u.resources.pingServerFailed,n.transport,e,o))}})):r.reject(u._.transportError(u.resources.noConnectionTransport,n.transport)),r.promise()},prepareQueryString:function(e,t){var n;return n=l.addQs(t,"clientProtocol="+e.clientProtocol),n=l.addQs(n,e.qs),e.token&&(n+="&connectionToken="+s.encodeURIComponent(e.token)),e.data&&(n+="&connectionData="+s.encodeURIComponent(e.data)),n},addQs:function(e,t){var n,o=-1!==e.indexOf("?")?"&":"?";if(!t)return e;if("object"==typeof t)return e+o+c.param(t);if("string"==typeof t)return"?"!==(n=t.charAt(0))&&"&"!==n||(o=""),e+o+t;throw new Error("Query string property must be either a string or object.")},getUrl:function(e,t,n,o,r){var i=("webSockets"===t?"":e.baseUrl)+e.appRelativeUrl,a="transport="+t;return!r&&e.groupsToken&&(a+="&groupsToken="+s.encodeURIComponent(e.groupsToken)),n?(i+=o?"/poll":"/reconnect",!r&&e.messageId&&(a+="&messageId="+s.encodeURIComponent(e.messageId))):i+="/connect",i+="?"+a,i=l.prepareQueryString(e,i),r||(i+="&tid="+Math.floor(11*Math.random())),i},maximizePersistentResponse:function(e){return{MessageId:e.C,Messages:e.M,Initialized:void 0!==e.S,ShouldReconnect:void 0!==e.T,LongPollDelay:e.L,GroupsToken:e.G}},updateGroups:function(e,t){t&&(e.groupsToken=t)},stringifySend:function(e,t){return"string"==typeof t||null==t?t:e.json.stringify(t)},ajaxSend:function(n,o){var r,e=l.stringifySend(n,o),t=g(n,"/send"),i=function(e,t){c(t).triggerHandler(d.onError,[u._.transportError(u.resources.sendFailed,t.transport,e,r),o])};return r=l.ajax(n,{url:t,type:"jsonp"===n.ajaxDataType?"GET":"POST",contentType:u._.defaultContentType,data:{data:e},success:function(e){var t;if(e){try{t=n._parseResponse(e)}catch(e){return i(e,n),void n.stop()}l.triggerReceived(n,t)}},error:function(e,t){"abort"!==t&&"parsererror"!==t&&i(e,n)}})},ajaxAbort:function(e,t){if(void 0!==e.transport){t=void 0===t||t;var n=g(e,"/abort");l.ajax(e,{url:n,async:t,timeout:1e3,type:"POST"}),e.log("Fired ajax abort async = "+t+".")}},ajaxStart:function(r,i){var o=function(e){var t=r._deferral;t&&t.reject(e)},a=function(e){r.log("The start request failed. Stopping the connection."),c(r).triggerHandler(d.onError,[e]),o(e),r.stop()};r._.startRequest=l.ajax(r,{url:g(r,"/start"),success:function(t,e,n){var o;try{o=r._parseResponse(t)}catch(e){return void a(u._.error(u._.format(u.resources.errorParsingStartResponse,t),e,n))}"started"===o.Response?i():a(u._.error(u._.format(u.resources.invalidStartResponse,t),null,n))},error:function(e,t,n){t!==p?a(u._.error(u.resources.errorDuringStartRequest,n,e)):(r.log("The start request aborted because connection.stop() was called."),o(u._.error(u.resources.stoppedDuringStartRequest,null,e)))}})},tryAbortStartRequest:function(e){e._.startRequest&&(e._.startRequest.abort(p),delete e._.startRequest)},tryInitialize:function(e,t){e.Initialized&&t()},triggerReceived:function(e,t){e._.connectingMessageBuffer.tryBuffer(t)||c(e).triggerHandler(d.onReceived,[t])},processMessages:function(n,e,t){var o;l.markLastMessage(n),e&&(o=l.maximizePersistentResponse(e),l.updateGroups(n,o.GroupsToken),o.MessageId&&(n.messageId=o.MessageId),o.Messages&&(c.each(o.Messages,function(e,t){l.triggerReceived(n,t)}),l.tryInitialize(o,t)))},monitorKeepAlive:function(e){var t=e._.keepAliveData;t.monitoring?e.log("Tried to monitor keep alive but it's already being monitored."):(t.monitoring=!0,l.markLastMessage(e),e._.keepAliveData.reconnectKeepAliveUpdate=function(){l.markLastMessage(e)},c(e).bind(d.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e.log("Now monitoring keep alive with a warning timeout of "+t.timeoutWarning+", keep alive timeout of "+t.timeout+" and disconnecting timeout of "+e.disconnectTimeout))},stopMonitoringKeepAlive:function(e){var t=e._.keepAliveData;t.monitoring&&(t.monitoring=!1,c(e).unbind(d.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e._.keepAliveData={},e.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(e){e._.lastActiveAt=(new Date).getTime(),r(e)},markLastMessage:function(e){e._.lastMessageAt=(new Date).getTime()},markActive:function(e){return!!l.verifyLastActive(e)&&(e._.lastActiveAt=(new Date).getTime(),!0)},isConnectedOrReconnecting:function(e){return e.state===u.connectionState.connected||e.state===u.connectionState.reconnecting},ensureReconnectingState:function(e){return!0===t(e,u.connectionState.connected,u.connectionState.reconnecting)&&c(e).triggerHandler(d.onReconnecting),e.state===u.connectionState.reconnecting},clearReconnectTimeout:function(e){e&&e._.reconnectTimeout&&(s.clearTimeout(e._.reconnectTimeout),delete e._.reconnectTimeout)},verifyLastActive:function(e){if((new Date).getTime()-e._.lastActiveAt>=e.reconnectWindow){var t=u._.format(u.resources.reconnectWindowTimeout,new Date(e._.lastActiveAt),e.reconnectWindow);return e.log(t),c(e).triggerHandler(d.onError,[u._.error(t,"TimeoutException")]),e.stop(!1,!1),!1}return!0},reconnect:function(e,t){var n=u.transports[t];if(l.isConnectedOrReconnecting(e)&&!e._.reconnectTimeout){if(!l.verifyLastActive(e))return;e._.reconnectTimeout=s.setTimeout(function(){l.verifyLastActive(e)&&(n.stop(e),l.ensureReconnectingState(e)&&(e.log(t+" reconnecting."),n.start(e)))},e.reconnectDelay)}},handleParseFailure:function(e,t,n,o,r){var i=u._.transportError(u._.format(u.resources.parseFailed,t),e.transport,n,r);o&&o(i)?e.log("Failed to parse server response while attempting to connect."):(c(e).triggerHandler(d.onError,[i]),e.stop())},initHandler:function(e){return new n(e)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(s,l,e){var u=s.signalR,d=s.signalR.events,p=s.signalR.changeState,g=u.transports._logic;u.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(t,n){var e=g.stringifySend(t,n);try{t.socket.send(e)}catch(e){s(t).triggerHandler(d.onError,[u._.transportError(u.resources.webSocketsInvalidState,t.transport,e,t.socket),n])}},start:function(n,o,r){var e,i=!1,a=this,t=!o,c=s(n);l.WebSocket?n.socket||(e=n.webSocketServerUrl?n.webSocketServerUrl:n.wsProtocol+n.host,e+=g.getUrl(n,this.name,t),n.log("Connecting to websocket endpoint '"+e+"'."),n.socket=new l.WebSocket(e),n.socket.onopen=function(){i=!0,n.log("Websocket opened."),g.clearReconnectTimeout(n),!0===p(n,u.connectionState.reconnecting,u.connectionState.connected)&&c.triggerHandler(d.onReconnect)},n.socket.onclose=function(e){var t;this===n.socket&&(i&&void 0!==e.wasClean&&!1===e.wasClean?(t=u._.transportError(u.resources.webSocketClosed,n.transport,e),n.log("Unclean disconnect from websocket: "+(e.reason||"[no reason given]."))):n.log("Websocket closed."),r&&r(t)||(t&&s(n).triggerHandler(d.onError,[t]),a.reconnect(n)))},n.socket.onmessage=function(t){var e;try{e=n._parseResponse(t.data)}catch(e){return void g.handleParseFailure(n,t.data,e,r,t)}e&&(s.isEmptyObject(e)||e.M?g.processMessages(n,e,o):g.triggerReceived(n,e))}):r()},reconnect:function(e){g.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},stop:function(e){g.clearReconnectTimeout(e),e.socket&&(e.log("Closing the Websocket."),e.socket.close(),e.socket=null)},abort:function(e,t){g.ajaxAbort(e,t)}}}(window.jQuery,window),function(s,l,e){var u=s.signalR,d=s.signalR.events,p=s.signalR.changeState,g=u.transports._logic,f=function(e){l.clearTimeout(e._.reconnectAttemptTimeoutHandle),delete e._.reconnectAttemptTimeoutHandle};u.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(n,o,r){var e,i=this,t=!1,a=s(n),c=!o;if(n.eventSource&&(n.log("The connection already has an event source. Stopping it."),n.stop()),l.EventSource){e=g.getUrl(n,this.name,c);try{n.log("Attempting to connect to SSE endpoint '"+e+"'."),n.eventSource=new l.EventSource(e,{withCredentials:n.withCredentials})}catch(e){return n.log("EventSource failed trying to connect with error "+e.Message+"."),void(r?r():(a.triggerHandler(d.onError,[u._.transportError(u.resources.eventSourceFailedToConnect,n.transport,e)]),c&&i.reconnect(n)))}c&&(n._.reconnectAttemptTimeoutHandle=l.setTimeout(function(){!1===t&&n.eventSource.readyState!==l.EventSource.OPEN&&i.reconnect(n)},i.timeOut)),n.eventSource.addEventListener("open",function(e){n.log("EventSource connected."),f(n),g.clearReconnectTimeout(n),!1===t&&(t=!0)===p(n,u.connectionState.reconnecting,u.connectionState.connected)&&a.triggerHandler(d.onReconnect)},!1),n.eventSource.addEventListener("message",function(t){var e;if("initialized"!==t.data){try{e=n._parseResponse(t.data)}catch(e){return void g.handleParseFailure(n,t.data,e,r,t)}g.processMessages(n,e,o)}},!1),n.eventSource.addEventListener("error",function(e){var t=u._.transportError(u.resources.eventSourceError,n.transport,e);this===n.eventSource&&(r&&r(t)||(n.log("EventSource readyState: "+n.eventSource.readyState+"."),e.eventPhase===l.EventSource.CLOSED?(n.log("EventSource reconnecting due to the server connection ending."),i.reconnect(n)):(n.log("EventSource error."),a.triggerHandler(d.onError,[t]))))},!1)}else r&&(n.log("This browser doesn't support SSE."),r())},reconnect:function(e){g.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){g.ajaxSend(e,t)},stop:function(e){f(e),g.clearReconnectTimeout(e),e&&e.eventSource&&(e.log("EventSource calling close()."),e.eventSource.close(),e.eventSource=null,delete e.eventSource)},abort:function(e,t){g.ajaxAbort(e,t)}}}(window.jQuery,window),function(i,s,e){var t,n,a=i.signalR,o=i.signalR.events,r=i.signalR.changeState,l=a.transports._logic,u=function(){var e=s.document.createElement("iframe");return e.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),e},d=(t=null,n=0,{prevent:function(){a._.ieVersion<=8&&(0===n&&(t=s.setInterval(function(){var e=u();s.document.body.appendChild(e),s.document.body.removeChild(e),e=null},1e3)),n++)},cancel:function(){1===n&&s.clearInterval(t),0<n&&n--}});a.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(e,t,n){var o,r=this,i=l.foreverFrame.count+=1,a=u(),c=function(){e.log("Forever frame iframe finished loading and is no longer receiving messages."),n&&n()||r.reconnect(e)};s.EventSource?n&&(e.log("Forever Frame is not supported by SignalR on browsers with SSE support."),n()):(a.setAttribute("data-signalr-connection-id",e.id),d.prevent(),o=l.getUrl(e,this.name),o+="&frameId="+i,s.document.documentElement.appendChild(a),e.log("Binding to iframe's load event."),a.addEventListener?a.addEventListener("load",c,!1):a.attachEvent&&a.attachEvent("onload",c),a.src=o,(l.foreverFrame.connections[i]=e).frame=a,e.frameId=i,t&&(e.onSuccess=function(){e.log("Iframe transport started."),t()}))},reconnect:function(n){var o=this;l.isConnectedOrReconnecting(n)&&l.verifyLastActive(n)&&s.setTimeout(function(){if(l.verifyLastActive(n)&&n.frame&&l.ensureReconnectingState(n)){var e=n.frame,t=l.getUrl(n,o.name,!0)+"&frameId="+n.frameId;n.log("Updating iframe src to '"+t+"'."),e.src=t}},n.reconnectDelay)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){l.ajaxSend(e,t)},receive:function(e,t){var n,o,r;if(e.json!==e._originalJson&&(t=e._originalJson.stringify(t)),r=e._parseResponse(t),l.processMessages(e,r,e.onSuccess),e.state===i.signalR.connectionState.connected&&(e.frameMessageCount=(e.frameMessageCount||0)+1,e.frameMessageCount>a.transports.foreverFrame.iframeClearThreshold&&(e.frameMessageCount=0,(n=e.frame.contentWindow||e.frame.contentDocument)&&n.document&&n.document.body)))for(o=n.document.body;o.firstChild;)o.removeChild(o.firstChild)},stop:function(t){var e=null;if(d.cancel(),t.frame){if(t.frame.stop)t.frame.stop();else try{(e=t.frame.contentWindow||t.frame.contentDocument).document&&e.document.execCommand&&e.document.execCommand("Stop")}catch(e){t.log("Error occured when stopping foreverFrame transport. Message = "+e.message+".")}t.frame.parentNode===s.document.body&&s.document.body.removeChild(t.frame),delete l.foreverFrame.connections[t.frameId],t.frame=null,t.frameId=null,delete t.frame,delete t.frameId,delete t.onSuccess,delete t.frameMessageCount,t.log("Stopping forever frame.")}},abort:function(e,t){l.ajaxAbort(e,t)},getConnection:function(e){return l.foreverFrame.connections[e]},started:function(e){!0===r(e,a.connectionState.reconnecting,a.connectionState.connected)&&i(e).triggerHandler(o.onReconnect)}}}(window.jQuery,window),function(f,v,e){var m=f.signalR,h=f.signalR.events,n=f.signalR.changeState,S=f.signalR.isDisconnecting,b=m.transports._logic;m.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(c,e,t){var s=this,l=function(){l=f.noop,c.log("LongPolling connected."),e()},u=function(e){return!!t(e)&&(c.log("LongPolling failed to connect."),!0)},d=c._,p=0,g=function(e){v.clearTimeout(d.reconnectTimeoutId),!(d.reconnectTimeoutId=null)===n(e,m.connectionState.reconnecting,m.connectionState.connected)&&(e.log("Raising the reconnect event"),f(e).triggerHandler(h.onReconnect))};c.pollXhr&&(c.log("Polling xhr requests already exists, aborting."),c.stop()),c.messageId=null,d.reconnectTimeoutId=null,d.pollTimeoutId=v.setTimeout(function(){!function i(a,e){var t=!(null===a.messageId),n=!e,o=b.getUrl(a,s.name,t,n,!0),r={};a.messageId&&(r.messageId=a.messageId),a.groupsToken&&(r.groupsToken=a.groupsToken),!0!==S(a)&&(c.log("Opening long polling request to '"+o+"'."),a.pollXhr=b.ajax(c,{xhrFields:{onprogress:function(){b.markLastMessage(c)}},url:o,type:"POST",contentType:m._.defaultContentType,data:r,timeout:c._.pollTimeout,success:function(t){var e,n,o,r=0;c.log("Long poll complete."),p=0;try{e=c._parseResponse(t)}catch(e){return void b.handleParseFailure(a,t,e,u,a.pollXhr)}null!==d.reconnectTimeoutId&&g(a),e&&(n=b.maximizePersistentResponse(e)),b.processMessages(a,e,l),n&&"number"===f.type(n.LongPollDelay)&&(r=n.LongPollDelay),!0!==S(a)&&((o=n&&n.ShouldReconnect)&&!b.ensureReconnectingState(a)||(0<r?d.pollTimeoutId=v.setTimeout(function(){i(a,o)},r):i(a,o)))},error:function(e,t){var n=m._.transportError(m.resources.longPollFailed,c.transport,e,a.pollXhr);if(v.clearTimeout(d.reconnectTimeoutId),d.reconnectTimeoutId=null,"abort"!==t){if(!u(n)){if(p++,c.state!==m.connectionState.reconnecting&&(c.log("An error occurred using longPolling. Status = "+t+".  Response = "+e.responseText+"."),f(a).triggerHandler(h.onError,[n])),(c.state===m.connectionState.connected||c.state===m.connectionState.reconnecting)&&!b.verifyLastActive(c))return;if(!b.ensureReconnectingState(a))return;d.pollTimeoutId=v.setTimeout(function(){i(a,!0)},s.reconnectDelay)}}else c.log("Aborted xhr request.")}}),t&&!0===e&&(d.reconnectTimeoutId=v.setTimeout(function(){g(a)},Math.min(1e3*(Math.pow(2,p)-1),36e5))))}(c)},250)},lostConnection:function(e){e.pollXhr&&e.pollXhr.abort("lostConnection")},send:function(e,t){b.ajaxSend(e,t)},stop:function(e){v.clearTimeout(e._.pollTimeoutId),v.clearTimeout(e._.reconnectTimeoutId),delete e._.pollTimeoutId,delete e._.reconnectTimeoutId,e.pollXhr&&(e.pollXhr.abort(),e.pollXhr=null,delete e.pollXhr)},abort:function(e,t){b.ajaxAbort(e,t)}}}(window.jQuery,window),function(s,e,t){var l=s.signalR;function u(e){return e+".hubProxy"}function n(e){return s.isFunction(e)?null:"undefined"===s.type(e)?null:e}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function o(e,t){var n,o=e._.invocationCallbacks;for(var r in i(o)&&e.log("Clearing hub invocation callbacks with error: "+t+"."),e._.invocationCallbackId=0,delete e._.invocationCallbacks,e._.invocationCallbacks={},o)(n=o[r]).method.call(n.scope,{E:t})}function r(e,t){return new r.fn.init(e,t)}function a(e,t){var n={qs:null,logging:!1,useDefaultPath:!0};return s.extend(n,t),e&&!n.useDefaultPath||(e=(e||"")+"/signalr"),new a.fn.init(e,n)}(r.fn=r.prototype={init:function(e,t){this.state={},this.connection=e,this.hubName=t,this._={callbackMap:{}}},constructor:r,hasSubscriptions:function(){return i(this._.callbackMap)},on:function(e,n){var o=this,t=o._.callbackMap;return t[e=e.toLowerCase()]||(t[e]={}),t[e][n]=function(e,t){n.apply(o,t)},s(o).bind(u(e),t[e][n]),o},off:function(e,t){var n,o=this._.callbackMap;return(n=o[e=e.toLowerCase()])&&(n[t]?(s(this).unbind(u(e),n[t]),delete n[t],i(n)||delete o[e]):t||(s(this).unbind(u(e)),delete o[e])),this},invoke:function(r){var i=this,a=i.connection,e=function(e,t,n){var o,r=e.length,i=[];for(o=0;o<r;o+=1)e.hasOwnProperty(o)&&(i[o]=t.call(n,e[o],o,e));return i}(s.makeArray(arguments).slice(1),n),t={H:i.hubName,M:r,A:e,I:a._.invocationCallbackId},c=s.Deferred();return a._.invocationCallbacks[a._.invocationCallbackId.toString()]={scope:i,method:function(e){var t,n,o=i._maximizeHubResponse(e);s.extend(i.state,o.State),o.Progress?c.notifyWith?c.notifyWith(i,[o.Progress.Data]):a._.progressjQueryVersionLogged||(a.log("A hub method invocation progress update was received but the version of jQuery in use ("+s.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),a._.progressjQueryVersionLogged=!0):o.Error?(o.StackTrace&&a.log(o.Error+"\n"+o.StackTrace+"."),t=o.IsHubException?"HubException":"Exception",(n=l._.error(o.Error,t)).data=o.ErrorData,a.log(i.hubName+"."+r+" failed to execute. Error: "+n.message),c.rejectWith(i,[n])):(a.log("Invoked "+i.hubName+"."+r),c.resolveWith(i,[o.Result]))}},a._.invocationCallbackId+=1,s.isEmptyObject(i.state)||(t.S=i.state),a.log("Invoking "+i.hubName+"."+r),a.send(t),c.promise()},_maximizeHubResponse:function(e){return{State:e.S,Result:e.R,Progress:e.P?{Id:e.P.I,Data:e.P.D}:null,Id:e.I,IsHubException:e.H,Error:e.E,StackTrace:e.T,ErrorData:e.D}}}).init.prototype=r.fn,(a.fn=a.prototype=s.connection()).init=function(e,t){var n={qs:null,logging:!1,useDefaultPath:!0},c=this;s.extend(n,t),s.signalR.fn.init.call(c,e,n.qs,n.logging),c.proxies={},c._.invocationCallbackId=0,c._.invocationCallbacks={},c.received(function(e){var t,n,o,r,i,a;e&&(void 0!==e.P?(o=e.P.I.toString(),(r=c._.invocationCallbacks[o])&&r.method.call(r.scope,e)):void 0!==e.I?(o=e.I.toString(),(r=c._.invocationCallbacks[o])&&(c._.invocationCallbacks[o]=null,delete c._.invocationCallbacks[o],r.method.call(r.scope,e))):(t=this._maximizeClientHubInvocation(e),c.log("Triggering client hub event '"+t.Method+"' on hub '"+t.Hub+"'."),i=t.Hub.toLowerCase(),a=t.Method.toLowerCase(),n=this.proxies[i],s.extend(n.state,t.State),s(n).triggerHandler(u(a),[t.Args])))}),c.error(function(e,t){var n,o;t&&(n=t.I,(o=c._.invocationCallbacks[n])&&(c._.invocationCallbacks[n]=null,delete c._.invocationCallbacks[n],o.method.call(o.scope,{E:e})))}),c.reconnecting(function(){c.transport&&"webSockets"===c.transport.name&&o(c,"Connection started reconnecting before invocation result was received.")}),c.disconnected(function(){o(c,"Connection was disconnected before invocation result was received.")})},a.fn._maximizeClientHubInvocation=function(e){return{Hub:e.H,Method:e.M,Args:e.A,State:e.S}},a.fn._registerSubscribedHubs=function(){var n=this;n._subscribedToHubs||(n._subscribedToHubs=!0,n.starting(function(){var t=[];s.each(n.proxies,function(e){this.hasSubscriptions()&&(t.push({name:e}),n.log("Client subscribed to hub '"+e+"'."))}),0===t.length&&n.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),n.data=n.json.stringify(t)}))},a.fn.createHubProxy=function(e){e=e.toLowerCase();var t=this.proxies[e];return t||(t=r(this,e),this.proxies[e]=t),this._registerSubscribedHubs(),t},a.fn.init.prototype=a.fn,s.hubConnection=a}(window.jQuery,window),window.jQuery.signalR.version="2.2.0";
(function(p,g,e){function o(e,t){return t.match(/:\d+$/)?t:t+":"+("http:"===(n=e)?80:"https:"===n?443:void 0);var n}function r(t,e){var n=this,o=[];n.tryBuffer=function(e){return t.state===p.signalR.connectionState.connecting&&(o.push(e),!0)},n.drain=function(){if(t.state===p.signalR.connectionState.connected)for(;0<o.length;)e(o.shift())},n.clear=function(){o=[]}}var f={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof p)throw new Error(f.nojQuery);var v,t,n,i,m="complete"===g.document.readyState,h=p(g),S="__Negotiate Aborted__",b={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},_=function(e,t,n){return t===e.state&&(e.state=n,p(e).triggerHandler(b.onStateChanged,[{oldState:t,newState:n}]),!0)},T=function(e){return e._.keepAliveData.activated&&e.transport.supportsKeepAlive(e)};(v=function(e,t,n){return new v.fn.init(e,t,n)})._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:("Microsoft Internet Explorer"===g.navigator.appName&&(i=/MSIE ([0-9]+\.[0-9]+)/.exec(g.navigator.userAgent))&&(n=g.parseFloat(i[1])),n),error:function(e,t,n){var o=new Error(e);return o.source=t,void 0!==n&&(o.context=n),o},transportError:function(e,t,n,o){var r=this.error(e,n,o);return r.transport=t?t.name:void 0,r},format:function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace("{"+t+"}",arguments[t+1]);return e},firefoxMajorVersion:function(e){var t=e.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(t){var e=t._.config,n=function(e){p(t).triggerHandler(b.onError,[e])};e&&!t._.pingIntervalId&&e.pingInterval&&(t._.pingIntervalId=g.setInterval(function(){v.transports._logic.pingServer(t).fail(n)},e.pingInterval))}},v.events=b,v.resources=f,v.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1},v.changeState=_,v.isDisconnecting=function(e){return e.state===v.connectionState.disconnected},v.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},v.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.")}},h.load(function(){m=!0}),v.fn=v.prototype={init:function(e,t,n){var o=p(this);this.url=e,this.qs=t,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new r(this,function(e){o.triggerHandler(b.onReceived,[e])}),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof n&&(this.logging=n)},_parseResponse:function(e){return e&&"string"==typeof e?this.json.parse(e):e},_originalJson:g.JSON,json:g.JSON,isCrossDomain:function(e,t){var n;return e=p.trim(e),t=t||g.location,0===e.indexOf("http")&&((n=g.document.createElement("a")).href=e,n.protocol+o(n.protocol,n.host)!==t.protocol+o(t.protocol,t.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:v.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(e,t){var a,n,c,o,r,i,s=this,l={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},u=s._deferral||p.Deferred(),d=g.document.createElement("a");if(s.lastError=null,s._deferral=u,!s.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===p.type(e)?t=e:"object"===p.type(e)&&(p.extend(l,e),"function"===p.type(l.callback)&&(t=l.callback)),l.transport=function(e,t){var n,o;if(p.isArray(e)){for(n=e.length-1;0<=n;n--)o=e[n],"string"===p.type(o)&&v.transports[o]||(t.log("Invalid transport: "+o+", removing it from the transports list."),e.splice(n,1));0===e.length&&(t.log("No transports remain within the specified transport array."),e=null)}else if(v.transports[e]||"auto"===e){if("auto"===e&&v._.ieVersion<=8)return["longPolling"]}else t.log("Invalid transport: "+e.toString()+"."),e=null;return e}(l.transport,s),!l.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");return s._.config=l,m||!0!==l.waitForPageLoad?s.state===v.connectionState.connecting||(!1===_(s,v.connectionState.disconnected,v.connectionState.connecting)?u.resolve(s):((o=s)._.configuredStopReconnectingTimeout||(i=function(e){var t=v._.format(v.resources.reconnectTimeout,e.disconnectTimeout);e.log(t),p(e).triggerHandler(b.onError,[v._.error(t,"TimeoutException")]),e.stop(!1,!1)},o.reconnecting(function(){var e=this;e.state===v.connectionState.reconnecting&&(r=g.setTimeout(function(){i(e)},e.disconnectTimeout))}),o.stateChanged(function(e){e.oldState===v.connectionState.reconnecting&&g.clearTimeout(r)}),o._.configuredStopReconnectingTimeout=!0),d.href=s.url,d.protocol&&":"!==d.protocol?(s.protocol=d.protocol,s.host=d.host):(s.protocol=g.document.location.protocol,s.host=d.host||g.document.location.host),s.baseUrl=s.protocol+"//"+s.host,s.wsProtocol="https:"===s.protocol?"wss://":"ws://","auto"===l.transport&&!0===l.jsonp&&(l.transport="longPolling"),0===s.url.indexOf("//")&&(s.url=g.location.protocol+s.url,s.log("Protocol relative URL detected, normalizing it to '"+s.url+"'.")),this.isCrossDomain(s.url)&&(s.log("Auto detected cross domain url."),"auto"===l.transport&&(l.transport=["webSockets","serverSentEvents","longPolling"]),void 0===l.withCredentials&&(l.withCredentials=!0),l.jsonp||(l.jsonp=!p.support.cors,l.jsonp&&s.log("Using jsonp because this browser doesn't support CORS.")),s.contentType=v._.defaultContentType),s.withCredentials=l.withCredentials,s.ajaxDataType=l.jsonp?"jsonp":"text",p(s).bind(b.onStart,function(){"function"===p.type(t)&&t.call(s),u.resolve(s)}),s._.initHandler=v.transports._logic.initHandler(s),a=function(e,t){var n=v._.error(f.noTransportOnInit);if((t=t||0)>=e.length)return 0===t?s.log("No transports supported by the server were selected."):1===t?s.log("No fallback transports were selected."):s.log("Fallback transports exhausted."),p(s).triggerHandler(b.onError,[n]),u.reject(n),void s.stop();if(s.state!==v.connectionState.disconnected){var o=e[t],r=v.transports[o],i=function(){a(e,t+1)};s.transport=r;try{s._.initHandler.start(r,function(){var e=11<=v._.firefoxMajorVersion(g.navigator.userAgent),t=!!s.withCredentials&&e;s.log("The start request succeeded. Transitioning to the connected state."),T(s)&&v.transports._logic.monitorKeepAlive(s),v.transports._logic.startHeartbeat(s),v._.configurePingInterval(s),_(s,v.connectionState.connecting,v.connectionState.connected)||s.log("WARNING! The connection was not in the connecting state."),s._.connectingMessageBuffer.drain(),p(s).triggerHandler(b.onStart),h.bind("unload",function(){s.log("Window unloading, stopping the connection."),s.stop(t)}),e&&h.bind("beforeunload",function(){g.setTimeout(function(){s.stop(t)},0)})},i)}catch(e){s.log(r.name+" transport threw '"+e.message+"' when attempting to start."),i()}}},n=s.url+"/negotiate",c=function(e,t){var n=v._.error(f.errorOnNegotiate,e,t._.negotiateRequest);p(t).triggerHandler(b.onError,n),u.reject(n),t.stop()},p(s).triggerHandler(b.onStarting),n=v.transports._logic.prepareQueryString(s,n),s.log("Negotiating with '"+n+"'."),s._.negotiateRequest=v.transports._logic.ajax(s,{url:n,error:function(e,t){t!==S?c(e,s):u.reject(v._.error(f.stoppedWhileNegotiating,null,s._.negotiateRequest))},success:function(e){var t,n,o,r=[],i=[];try{t=s._parseResponse(e)}catch(e){return void c(v._.error(f.errorParsingNegotiateResponse,e),s)}if(n=s._.keepAliveData,s.appRelativeUrl=t.Url,s.id=t.ConnectionId,s.token=t.ConnectionToken,s.webSocketServerUrl=t.WebSocketServerUrl,s._.pollTimeout=1e3*t.ConnectionTimeout+1e4,s.disconnectTimeout=1e3*t.DisconnectTimeout,s._.totalTransportConnectTimeout=s.transportConnectTimeout+1e3*t.TransportConnectTimeout,t.KeepAliveTimeout?(n.activated=!0,n.timeout=1e3*t.KeepAliveTimeout,n.timeoutWarning=n.timeout*s.keepAliveWarnAt,s._.beatInterval=(n.timeout-n.timeoutWarning)/3):n.activated=!1,s.reconnectWindow=s.disconnectTimeout+(n.timeout||0),!t.ProtocolVersion||t.ProtocolVersion!==s.clientProtocol)return o=v._.error(v._.format(f.protocolIncompatible,s.clientProtocol,t.ProtocolVersion)),p(s).triggerHandler(b.onError,[o]),void u.reject(o);p.each(v.transports,function(e){if(0===e.indexOf("_")||"webSockets"===e&&!t.TryWebSockets)return!0;i.push(e)}),p.isArray(l.transport)?p.each(l.transport,function(e,t){0<=p.inArray(t,i)&&r.push(t)}):"auto"===l.transport?r=i:0<=p.inArray(l.transport,i)&&r.push(l.transport),a(r)}}))):(s._.deferredStartHandler=function(){s.start(e,t)},h.bind("load",s._.deferredStartHandler)),u.promise()},starting:function(e){var t=this;return p(t).bind(b.onStarting,function(){e.call(t)}),t},send:function(e){var t=this;if(t.state===v.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(t.state===v.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return t.transport.send(t,e),t},received:function(n){var o=this;return p(o).bind(b.onReceived,function(e,t){n.call(o,t)}),o},stateChanged:function(n){var o=this;return p(o).bind(b.onStateChanged,function(e,t){n.call(o,t)}),o},error:function(o){var r=this;return p(r).bind(b.onError,function(e,t,n){r.lastError=t,o.call(r,t,n)}),r},disconnected:function(e){var t=this;return p(t).bind(b.onDisconnect,function(){e.call(t)}),t},connectionSlow:function(e){var t=this;return p(t).bind(b.onConnectionSlow,function(){e.call(t)}),t},reconnecting:function(e){var t=this;return p(t).bind(b.onReconnecting,function(){e.call(t)}),t},reconnected:function(e){var t=this;return p(t).bind(b.onReconnect,function(){e.call(t)}),t},stop:function(e,t){var n=this,o=n._deferral;return n._.deferredStartHandler&&h.unbind("load",n._.deferredStartHandler),delete n._.config,delete n._.deferredStartHandler,m||n._.config&&!0!==n._.config.waitForPageLoad?n.state!==v.connectionState.disconnected?(n.log("Stopping connection."),_(n,n.state,v.connectionState.disconnected),g.clearTimeout(n._.beatHandle),g.clearInterval(n._.pingIntervalId),n.transport&&(n.transport.stop(n),!1!==t&&n.transport.abort(n,e),T(n)&&v.transports._logic.stopMonitoringKeepAlive(n),n.transport=null),n._.negotiateRequest&&(n._.negotiateRequest.abort(S),delete n._.negotiateRequest),n._.initHandler&&n._.initHandler.stop(),p(n).triggerHandler(b.onDisconnect),delete n._deferral,delete n.messageId,delete n.groupsToken,delete n.id,delete n._.pingIntervalId,delete n._.lastMessageAt,delete n._.lastActiveAt,n._.connectingMessageBuffer.clear(),n):void 0:(n.log("Stopping connection prior to negotiate."),void(o&&o.reject(v._.error(f.stoppedWhileLoading))))},log:function(e){var t,n;t=e,!1!==this.logging&&void 0!==g.console&&(n="["+(new Date).toTimeString()+"] SignalR: "+t,g.console.debug?g.console.debug(n):g.console.log&&g.console.log(n))}},v.fn.init.prototype=v.fn,v.noConflict=function(){return p.connection===v&&(p.connection=t),v},p.connection&&(t=p.connection),p.connection=p.signalR=v})(window.jQuery,window),function(c,s,e){function r(e){var t,n,o;e._.keepAliveData.monitoring&&(o=(t=e)._.keepAliveData,t.state===d.connectionState.connected&&((n=(new Date).getTime()-t._.lastMessageAt)>=o.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):n>=o.timeoutWarning?o.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),c(t).triggerHandler(p.onConnectionSlow),o.userNotified=!0):o.userNotified=!1)),u.markActive(e)&&(e._.beatHandle=s.setTimeout(function(){r(e)},e._.beatInterval))}function l(e,t){var n=e.url+t;return e.transport&&(n+="?transport="+e.transport.name),u.prepareQueryString(e,n)}function t(e){this.connection=e,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}var u,d=c.signalR,p=c.signalR.events,n=c.signalR.changeState,g="__Start Aborted__";d.transports={},t.prototype={start:function(t,e,n){var o=this,r=o.connection,i=!1;o.startRequested||o.connectionStopped?r.log("WARNING! "+t.name+" transport cannot be started. Initialization ongoing or completed."):(r.log(t.name+" transport starting."),o.transportTimeoutHandle=s.setTimeout(function(){i||(i=!0,r.log(t.name+" transport timed out when trying to connect."),o.transportFailed(t,void 0,n))},r._.totalTransportConnectTimeout),t.start(r,function(){i||o.initReceived(t,e)},function(e){return i||(i=!0,o.transportFailed(t,e,n)),!o.startCompleted||o.connectionStopped}))},stop:function(){this.connectionStopped=!0,s.clearTimeout(this.transportTimeoutHandle),d.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(e,t){var n=this,o=n.connection;n.startRequested?o.log("WARNING! The client received multiple init messages."):n.connectionStopped||(n.startRequested=!0,s.clearTimeout(n.transportTimeoutHandle),o.log(e.name+" transport connected. Initiating start request."),d.transports._logic.ajaxStart(o,function(){n.startCompleted=!0,t()}))},transportFailed:function(e,t,n){var o,r=this.connection,i=r._deferral;this.connectionStopped||(s.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(o=d._.error(d.resources.errorDuringStartRequest,t),r.log(e.name+" transport failed during the start request. Stopping the connection."),c(r).triggerHandler(p.onError,[o]),i&&i.reject(o),r.stop()):(e.stop(r),r.log(e.name+" transport failed to connect. Attempting to fall back."),n()))}},u=d.transports._logic={ajax:function(e,t){return c.ajax(c.extend(!0,{},c.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:e.withCredentials},contentType:e.contentType,dataType:e.ajaxDataType},t))},pingServer:function(n){var e,o,r=c.Deferred();return n.transport?(e=n.url+"/ping",e=u.addQs(e,n.qs),o=u.ajax(n,{url:e,success:function(e){var t;try{t=n._parseResponse(e)}catch(e){return r.reject(d._.transportError(d.resources.pingServerFailedParse,n.transport,e,o)),void n.stop()}"pong"===t.Response?r.resolve():r.reject(d._.transportError(d._.format(d.resources.pingServerFailedInvalidResponse,e),n.transport,null,o))},error:function(e){401===e.status||403===e.status?(r.reject(d._.transportError(d._.format(d.resources.pingServerFailedStatusCode,e.status),n.transport,e,o)),n.stop()):r.reject(d._.transportError(d.resources.pingServerFailed,n.transport,e,o))}})):r.reject(d._.transportError(d.resources.noConnectionTransport,n.transport)),r.promise()},prepareQueryString:function(e,t){var n;return n=u.addQs(t,"clientProtocol="+e.clientProtocol),n=u.addQs(n,e.qs),e.token&&(n+="&connectionToken="+s.encodeURIComponent(e.token)),e.data&&(n+="&connectionData="+s.encodeURIComponent(e.data)),n},addQs:function(e,t){var n,o=-1!==e.indexOf("?")?"&":"?";if(!t)return e;if("object"==typeof t)return e+o+c.param(t);if("string"==typeof t)return("?"===(n=t.charAt(0))||"&"===n)&&(o=""),e+o+t;throw new Error("Query string property must be either a string or object.")},getUrl:function(e,t,n,o,r){var i=("webSockets"===t?"":e.baseUrl)+e.appRelativeUrl,a="transport="+t;return!r&&e.groupsToken&&(a+="&groupsToken="+s.encodeURIComponent(e.groupsToken)),n?(i+=o?"/poll":"/reconnect",!r&&e.messageId&&(a+="&messageId="+s.encodeURIComponent(e.messageId))):i+="/connect",i+="?"+a,i=u.prepareQueryString(e,i),r||(i+="&tid="+Math.floor(11*Math.random())),i},maximizePersistentResponse:function(e){return{MessageId:e.C,Messages:e.M,Initialized:void 0!==e.S,ShouldReconnect:void 0!==e.T,LongPollDelay:e.L,GroupsToken:e.G}},updateGroups:function(e,t){t&&(e.groupsToken=t)},stringifySend:function(e,t){return"string"==typeof t||null==t?t:e.json.stringify(t)},ajaxSend:function(n,o){var r,e=u.stringifySend(n,o),t=l(n,"/send"),i=function(e,t){c(t).triggerHandler(p.onError,[d._.transportError(d.resources.sendFailed,t.transport,e,r),o])};return r=u.ajax(n,{url:t,type:"jsonp"===n.ajaxDataType?"GET":"POST",contentType:d._.defaultContentType,data:{data:e},success:function(e){var t;if(e){try{t=n._parseResponse(e)}catch(e){return i(e,n),void n.stop()}u.triggerReceived(n,t)}},error:function(e,t){"abort"!==t&&"parsererror"!==t&&i(e,n)}})},ajaxAbort:function(e,t){if(void 0!==e.transport){t=void 0===t||t;var n=l(e,"/abort");u.ajax(e,{url:n,async:t,timeout:1e3,type:"POST"}),e.log("Fired ajax abort async = "+t+".")}},ajaxStart:function(r,i){var o=function(e){var t=r._deferral;t&&t.reject(e)},a=function(e){r.log("The start request failed. Stopping the connection."),c(r).triggerHandler(p.onError,[e]),o(e),r.stop()};r._.startRequest=u.ajax(r,{url:l(r,"/start"),success:function(t,e,n){var o;try{o=r._parseResponse(t)}catch(e){return void a(d._.error(d._.format(d.resources.errorParsingStartResponse,t),e,n))}"started"===o.Response?i():a(d._.error(d._.format(d.resources.invalidStartResponse,t),null,n))},error:function(e,t,n){t!==g?a(d._.error(d.resources.errorDuringStartRequest,n,e)):(r.log("The start request aborted because connection.stop() was called."),o(d._.error(d.resources.stoppedDuringStartRequest,null,e)))}})},tryAbortStartRequest:function(e){e._.startRequest&&(e._.startRequest.abort(g),delete e._.startRequest)},tryInitialize:function(e,t){e.Initialized&&t()},triggerReceived:function(e,t){e._.connectingMessageBuffer.tryBuffer(t)||c(e).triggerHandler(p.onReceived,[t])},processMessages:function(n,e,t){var o;u.markLastMessage(n),e&&(o=u.maximizePersistentResponse(e),u.updateGroups(n,o.GroupsToken),o.MessageId&&(n.messageId=o.MessageId),o.Messages&&(c.each(o.Messages,function(e,t){u.triggerReceived(n,t)}),u.tryInitialize(o,t)))},monitorKeepAlive:function(e){var t=e._.keepAliveData;t.monitoring?e.log("Tried to monitor keep alive but it's already being monitored."):(t.monitoring=!0,u.markLastMessage(e),e._.keepAliveData.reconnectKeepAliveUpdate=function(){u.markLastMessage(e)},c(e).bind(p.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e.log("Now monitoring keep alive with a warning timeout of "+t.timeoutWarning+", keep alive timeout of "+t.timeout+" and disconnecting timeout of "+e.disconnectTimeout))},stopMonitoringKeepAlive:function(e){var t=e._.keepAliveData;t.monitoring&&(t.monitoring=!1,c(e).unbind(p.onReconnect,e._.keepAliveData.reconnectKeepAliveUpdate),e._.keepAliveData={},e.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(e){e._.lastActiveAt=(new Date).getTime(),r(e)},markLastMessage:function(e){e._.lastMessageAt=(new Date).getTime()},markActive:function(e){return!!u.verifyLastActive(e)&&(e._.lastActiveAt=(new Date).getTime(),!0)},isConnectedOrReconnecting:function(e){return e.state===d.connectionState.connected||e.state===d.connectionState.reconnecting},ensureReconnectingState:function(e){return!0===n(e,d.connectionState.connected,d.connectionState.reconnecting)&&c(e).triggerHandler(p.onReconnecting),e.state===d.connectionState.reconnecting},clearReconnectTimeout:function(e){e&&e._.reconnectTimeout&&(s.clearTimeout(e._.reconnectTimeout),delete e._.reconnectTimeout)},verifyLastActive:function(e){if((new Date).getTime()-e._.lastActiveAt>=e.reconnectWindow){var t=d._.format(d.resources.reconnectWindowTimeout,new Date(e._.lastActiveAt),e.reconnectWindow);return e.log(t),c(e).triggerHandler(p.onError,[d._.error(t,"TimeoutException")]),e.stop(!1,!1),!1}return!0},reconnect:function(e,t){var n=d.transports[t];if(u.isConnectedOrReconnecting(e)&&!e._.reconnectTimeout){if(!u.verifyLastActive(e))return;e._.reconnectTimeout=s.setTimeout(function(){u.verifyLastActive(e)&&(n.stop(e),u.ensureReconnectingState(e)&&(e.log(t+" reconnecting."),n.start(e)))},e.reconnectDelay)}},handleParseFailure:function(e,t,n,o,r){var i=d._.transportError(d._.format(d.resources.parseFailed,t),e.transport,n,r);o&&o(i)?e.log("Failed to parse server response while attempting to connect."):(c(e).triggerHandler(p.onError,[i]),e.stop())},initHandler:function(e){return new t(e)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(s,l){var u=s.signalR,d=s.signalR.events,p=s.signalR.changeState,g=u.transports._logic;u.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(t,n){var e=g.stringifySend(t,n);try{t.socket.send(e)}catch(e){s(t).triggerHandler(d.onError,[u._.transportError(u.resources.webSocketsInvalidState,t.transport,e,t.socket),n])}},start:function(n,o,r){var e,i=!1,a=this,t=!o,c=s(n);l.WebSocket?n.socket||(e=n.webSocketServerUrl?n.webSocketServerUrl:n.wsProtocol+n.host,e+=g.getUrl(n,this.name,t),n.log("Connecting to websocket endpoint '"+e+"'."),n.socket=new l.WebSocket(e),n.socket.onopen=function(){i=!0,n.log("Websocket opened."),g.clearReconnectTimeout(n),!0===p(n,u.connectionState.reconnecting,u.connectionState.connected)&&c.triggerHandler(d.onReconnect)},n.socket.onclose=function(e){var t;this===n.socket&&(i&&void 0!==e.wasClean&&!1===e.wasClean?(t=u._.transportError(u.resources.webSocketClosed,n.transport,e),n.log("Unclean disconnect from websocket: "+(e.reason||"[no reason given]."))):n.log("Websocket closed."),r&&r(t)||(t&&s(n).triggerHandler(d.onError,[t]),a.reconnect(n)))},n.socket.onmessage=function(t){var e;try{e=n._parseResponse(t.data)}catch(e){return void g.handleParseFailure(n,t.data,e,r,t)}e&&(s.isEmptyObject(e)||e.M?g.processMessages(n,e,o):g.triggerReceived(n,e))}):r()},reconnect:function(e){g.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},stop:function(e){g.clearReconnectTimeout(e),e.socket&&(e.log("Closing the Websocket."),e.socket.close(),e.socket=null)},abort:function(e,t){g.ajaxAbort(e,t)}}}(window.jQuery,window),function(s,l){var u=s.signalR,d=s.signalR.events,p=s.signalR.changeState,g=u.transports._logic,f=function(e){l.clearTimeout(e._.reconnectAttemptTimeoutHandle),delete e._.reconnectAttemptTimeoutHandle};u.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(n,o,r){var e,i=this,t=!1,a=s(n),c=!o;if(n.eventSource&&(n.log("The connection already has an event source. Stopping it."),n.stop()),l.EventSource){e=g.getUrl(n,this.name,c);try{n.log("Attempting to connect to SSE endpoint '"+e+"'."),n.eventSource=new l.EventSource(e,{withCredentials:n.withCredentials})}catch(e){return n.log("EventSource failed trying to connect with error "+e.Message+"."),void(r?r():(a.triggerHandler(d.onError,[u._.transportError(u.resources.eventSourceFailedToConnect,n.transport,e)]),c&&i.reconnect(n)))}c&&(n._.reconnectAttemptTimeoutHandle=l.setTimeout(function(){!1===t&&n.eventSource.readyState!==l.EventSource.OPEN&&i.reconnect(n)},i.timeOut)),n.eventSource.addEventListener("open",function(){n.log("EventSource connected."),f(n),g.clearReconnectTimeout(n),!1===t&&((t=!0)===p(n,u.connectionState.reconnecting,u.connectionState.connected)&&a.triggerHandler(d.onReconnect))},!1),n.eventSource.addEventListener("message",function(t){var e;if("initialized"!==t.data){try{e=n._parseResponse(t.data)}catch(e){return void g.handleParseFailure(n,t.data,e,r,t)}g.processMessages(n,e,o)}},!1),n.eventSource.addEventListener("error",function(e){var t=u._.transportError(u.resources.eventSourceError,n.transport,e);this===n.eventSource&&(r&&r(t)||(n.log("EventSource readyState: "+n.eventSource.readyState+"."),e.eventPhase===l.EventSource.CLOSED?(n.log("EventSource reconnecting due to the server connection ending."),i.reconnect(n)):(n.log("EventSource error."),a.triggerHandler(d.onError,[t]))))},!1)}else r&&(n.log("This browser doesn't support SSE."),r())},reconnect:function(e){g.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){g.ajaxSend(e,t)},stop:function(e){f(e),g.clearReconnectTimeout(e),e&&e.eventSource&&(e.log("EventSource calling close()."),e.eventSource.close(),e.eventSource=null,delete e.eventSource)},abort:function(e,t){g.ajaxAbort(e,t)}}}(window.jQuery,window),function(i,s){var e,t,a=i.signalR,n=i.signalR.events,o=i.signalR.changeState,l=a.transports._logic,u=function(){var e=s.document.createElement("iframe");return e.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),e},d=(e=null,t=0,{prevent:function(){a._.ieVersion<=8&&(0===t&&(e=s.setInterval(function(){var e=u();s.document.body.appendChild(e),s.document.body.removeChild(e),e=null},1e3)),t++)},cancel:function(){1===t&&s.clearInterval(e),0<t&&t--}});a.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(e,t,n){var o,r=this,i=l.foreverFrame.count+=1,a=u(),c=function(){e.log("Forever frame iframe finished loading and is no longer receiving messages."),n&&n()||r.reconnect(e)};s.EventSource?n&&(e.log("Forever Frame is not supported by SignalR on browsers with SSE support."),n()):(a.setAttribute("data-signalr-connection-id",e.id),d.prevent(),o=l.getUrl(e,this.name),o+="&frameId="+i,s.document.documentElement.appendChild(a),e.log("Binding to iframe's load event."),a.addEventListener?a.addEventListener("load",c,!1):a.attachEvent&&a.attachEvent("onload",c),a.src=o,(l.foreverFrame.connections[i]=e).frame=a,e.frameId=i,t&&(e.onSuccess=function(){e.log("Iframe transport started."),t()}))},reconnect:function(n){var o=this;l.isConnectedOrReconnecting(n)&&l.verifyLastActive(n)&&s.setTimeout(function(){if(l.verifyLastActive(n)&&n.frame&&l.ensureReconnectingState(n)){var e=n.frame,t=l.getUrl(n,o.name,!0)+"&frameId="+n.frameId;n.log("Updating iframe src to '"+t+"'."),e.src=t}},n.reconnectDelay)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){l.ajaxSend(e,t)},receive:function(e,t){var n,o,r;if(e.json!==e._originalJson&&(t=e._originalJson.stringify(t)),r=e._parseResponse(t),l.processMessages(e,r,e.onSuccess),e.state===i.signalR.connectionState.connected&&(e.frameMessageCount=(e.frameMessageCount||0)+1,e.frameMessageCount>a.transports.foreverFrame.iframeClearThreshold&&(e.frameMessageCount=0,(n=e.frame.contentWindow||e.frame.contentDocument)&&n.document&&n.document.body)))for(o=n.document.body;o.firstChild;)o.removeChild(o.firstChild)},stop:function(t){var e=null;if(d.cancel(),t.frame){if(t.frame.stop)t.frame.stop();else try{(e=t.frame.contentWindow||t.frame.contentDocument).document&&e.document.execCommand&&e.document.execCommand("Stop")}catch(e){t.log("Error occured when stopping foreverFrame transport. Message = "+e.message+".")}t.frame.parentNode===s.document.body&&s.document.body.removeChild(t.frame),delete l.foreverFrame.connections[t.frameId],t.frame=null,t.frameId=null,delete t.frame,delete t.frameId,delete t.onSuccess,delete t.frameMessageCount,t.log("Stopping forever frame.")}},abort:function(e,t){l.ajaxAbort(e,t)},getConnection:function(e){return l.foreverFrame.connections[e]},started:function(e){!0===o(e,a.connectionState.reconnecting,a.connectionState.connected)&&i(e).triggerHandler(n.onReconnect)}}}(window.jQuery,window),function(f,v){var m=f.signalR,h=f.signalR.events,n=f.signalR.changeState,S=f.signalR.isDisconnecting,b=m.transports._logic;m.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(c,e,t){var s=this,l=function(){l=f.noop,c.log("LongPolling connected."),e()},u=function(e){return!!t(e)&&(c.log("LongPolling failed to connect."),!0)},d=c._,p=0,g=function(e){v.clearTimeout(d.reconnectTimeoutId),!(d.reconnectTimeoutId=null)===n(e,m.connectionState.reconnecting,m.connectionState.connected)&&(e.log("Raising the reconnect event"),f(e).triggerHandler(h.onReconnect))};c.pollXhr&&(c.log("Polling xhr requests already exists, aborting."),c.stop()),c.messageId=null,d.reconnectTimeoutId=null,d.pollTimeoutId=v.setTimeout(function(){!function i(a,e){var t=!(null===a.messageId),n=!e,o=b.getUrl(a,s.name,t,n,!0),r={};a.messageId&&(r.messageId=a.messageId),a.groupsToken&&(r.groupsToken=a.groupsToken),!0!==S(a)&&(c.log("Opening long polling request to '"+o+"'."),a.pollXhr=b.ajax(c,{xhrFields:{onprogress:function(){b.markLastMessage(c)}},url:o,type:"POST",contentType:m._.defaultContentType,data:r,timeout:c._.pollTimeout,success:function(t){var e,n,o,r=0;c.log("Long poll complete."),p=0;try{e=c._parseResponse(t)}catch(e){return void b.handleParseFailure(a,t,e,u,a.pollXhr)}null!==d.reconnectTimeoutId&&g(a),e&&(n=b.maximizePersistentResponse(e)),b.processMessages(a,e,l),n&&"number"===f.type(n.LongPollDelay)&&(r=n.LongPollDelay),!0!==S(a)&&(!(o=n&&n.ShouldReconnect)||b.ensureReconnectingState(a))&&(0<r?d.pollTimeoutId=v.setTimeout(function(){i(a,o)},r):i(a,o))},error:function(e,t){var n=m._.transportError(m.resources.longPollFailed,c.transport,e,a.pollXhr);if(v.clearTimeout(d.reconnectTimeoutId),d.reconnectTimeoutId=null,"abort"!==t){if(!u(n)){if(p++,c.state!==m.connectionState.reconnecting&&(c.log("An error occurred using longPolling. Status = "+t+".  Response = "+e.responseText+"."),f(a).triggerHandler(h.onError,[n])),(c.state===m.connectionState.connected||c.state===m.connectionState.reconnecting)&&!b.verifyLastActive(c))return;if(!b.ensureReconnectingState(a))return;d.pollTimeoutId=v.setTimeout(function(){i(a,!0)},s.reconnectDelay)}}else c.log("Aborted xhr request.")}}),t&&!0===e&&(d.reconnectTimeoutId=v.setTimeout(function(){g(a)},Math.min(1e3*(Math.pow(2,p)-1),36e5))))}(c)},250)},lostConnection:function(e){e.pollXhr&&e.pollXhr.abort("lostConnection")},send:function(e,t){b.ajaxSend(e,t)},stop:function(e){v.clearTimeout(e._.pollTimeoutId),v.clearTimeout(e._.reconnectTimeoutId),delete e._.pollTimeoutId,delete e._.reconnectTimeoutId,e.pollXhr&&(e.pollXhr.abort(),e.pollXhr=null,delete e.pollXhr)},abort:function(e,t){b.ajaxAbort(e,t)}}}(window.jQuery,window),function(s){function l(e){return e+".hubProxy"}function n(e){return s.isFunction(e)?null:"undefined"===s.type(e)?null:e}function i(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function o(e,t){var n,o,r=e._.invocationCallbacks;for(o in i(r)&&e.log("Clearing hub invocation callbacks with error: "+t+"."),e._.invocationCallbackId=0,delete e._.invocationCallbacks,e._.invocationCallbacks={},r)(n=r[o]).method.call(n.scope,{E:t})}function r(e,t){return new r.fn.init(e,t)}function a(e,t){var n={qs:null,logging:!1,useDefaultPath:!0};return s.extend(n,t),(!e||n.useDefaultPath)&&(e=(e||"")+"/signalr"),new a.fn.init(e,n)}var u=s.signalR;(r.fn=r.prototype={init:function(e,t){this.state={},this.connection=e,this.hubName=t,this._={callbackMap:{}}},constructor:r,hasSubscriptions:function(){return i(this._.callbackMap)},on:function(e,n){var o=this,t=o._.callbackMap;return t[e=e.toLowerCase()]||(t[e]={}),t[e][n]=function(e,t){n.apply(o,t)},s(o).bind(l(e),t[e][n]),o},off:function(e,t){var n,o=this._.callbackMap;return(n=o[e=e.toLowerCase()])&&(n[t]?(s(this).unbind(l(e),n[t]),delete n[t],i(n)||delete o[e]):t||(s(this).unbind(l(e)),delete o[e])),this},invoke:function(r){var i=this,a=i.connection,e=function(e,t,n){for(var o=e.length,r=[],i=0;i<o;i+=1)e.hasOwnProperty(i)&&(r[i]=t.call(n,e[i],i,e));return r}(s.makeArray(arguments).slice(1),n),t={H:i.hubName,M:r,A:e,I:a._.invocationCallbackId},c=s.Deferred();return a._.invocationCallbacks[a._.invocationCallbackId.toString()]={scope:i,method:function(e){var t,n,o=i._maximizeHubResponse(e);s.extend(i.state,o.State),o.Progress?c.notifyWith?c.notifyWith(i,[o.Progress.Data]):a._.progressjQueryVersionLogged||(a.log("A hub method invocation progress update was received but the version of jQuery in use ("+s.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),a._.progressjQueryVersionLogged=!0):o.Error?(o.StackTrace&&a.log(o.Error+"\n"+o.StackTrace+"."),t=o.IsHubException?"HubException":"Exception",(n=u._.error(o.Error,t)).data=o.ErrorData,a.log(i.hubName+"."+r+" failed to execute. Error: "+n.message),c.rejectWith(i,[n])):(a.log("Invoked "+i.hubName+"."+r),c.resolveWith(i,[o.Result]))}},a._.invocationCallbackId+=1,s.isEmptyObject(i.state)||(t.S=i.state),a.log("Invoking "+i.hubName+"."+r),a.send(t),c.promise()},_maximizeHubResponse:function(e){return{State:e.S,Result:e.R,Progress:e.P?{Id:e.P.I,Data:e.P.D}:null,Id:e.I,IsHubException:e.H,Error:e.E,StackTrace:e.T,ErrorData:e.D}}}).init.prototype=r.fn,(a.fn=a.prototype=s.connection()).init=function(e,t){var n={qs:null,logging:!1,useDefaultPath:!0},c=this;s.extend(n,t),s.signalR.fn.init.call(c,e,n.qs,n.logging),c.proxies={},c._.invocationCallbackId=0,c._.invocationCallbacks={},c.received(function(e){var t,n,o,r,i,a;e&&(void 0!==e.P?(o=e.P.I.toString(),(r=c._.invocationCallbacks[o])&&r.method.call(r.scope,e)):void 0!==e.I?(o=e.I.toString(),(r=c._.invocationCallbacks[o])&&(c._.invocationCallbacks[o]=null,delete c._.invocationCallbacks[o],r.method.call(r.scope,e))):(t=this._maximizeClientHubInvocation(e),c.log("Triggering client hub event '"+t.Method+"' on hub '"+t.Hub+"'."),i=t.Hub.toLowerCase(),a=t.Method.toLowerCase(),n=this.proxies[i],s.extend(n.state,t.State),s(n).triggerHandler(l(a),[t.Args])))}),c.error(function(e,t){var n,o;t&&(n=t.I,(o=c._.invocationCallbacks[n])&&(c._.invocationCallbacks[n]=null,delete c._.invocationCallbacks[n],o.method.call(o.scope,{E:e})))}),c.reconnecting(function(){c.transport&&"webSockets"===c.transport.name&&o(c,"Connection started reconnecting before invocation result was received.")}),c.disconnected(function(){o(c,"Connection was disconnected before invocation result was received.")})},a.fn._maximizeClientHubInvocation=function(e){return{Hub:e.H,Method:e.M,Args:e.A,State:e.S}},a.fn._registerSubscribedHubs=function(){var n=this;n._subscribedToHubs||(n._subscribedToHubs=!0,n.starting(function(){var t=[];s.each(n.proxies,function(e){this.hasSubscriptions()&&(t.push({name:e}),n.log("Client subscribed to hub '"+e+"'."))}),0===t.length&&n.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),n.data=n.json.stringify(t)}))},a.fn.createHubProxy=function(e){e=e.toLowerCase();var t=this.proxies[e];return t||(t=r(this,e),this.proxies[e]=t),this._registerSubscribedHubs(),t},a.fn.init.prototype=a.fn,s.hubConnection=a}(window.jQuery,window),window.jQuery.signalR.version="2.2.0";
function configureAlertPaneMessageSuccess(e,s,a,l){0<e.rowsAffected&&null==e.error?(s!=alertClasses.success&&($("#globalAlertPane").removeClass(s),$("#globalAlertPane").addClass(alertClasses.success)),$($("#globalAlertPane").children()[1]).html("All <b><u>"+e.rowsAffected+"</u></b> "+a+"(s) were successfully "+l+".")):(s!=alertClasses.warning&&($("#globalAlertPane").removeClass(s),$("#globalAlertPane").addClass(alertClasses.warning)),$($("#globalAlertPane").children()[1]).html("Only <b><u>"+e.rowsAffected+"</u></b> "+a+"(s) were "+l+" because; "+e.error+" Please contact your system administrator for assistance, if neccesary."))}function configureAlertPaneMessageError(e,s){s!=alertClasses.danger&&($("#globalAlertPane").removeClass(s),$("#globalAlertPane").addClass(alertClasses.danger)),$($("#globalAlertPane").children()[1]).text("Sorry, HTTP "+e.status+" "+e.statusText+" error has occured, please contact your system administrator for assistance.")}$("document").ready(function(){$("button[data-hide='alert']").on("click",function(){$("#globalAlertPane").addClass("hidden")})});var alertClasses={success:"alert-success",info:"alert-info",warning:"alert-warning",danger:"alert-danger"};function getCurrentAlertClass(){for(var e,s=$("#globalAlertPane").attr("class").split(/\s+/),a=0;a<s.length;++a)if(s[a]==alertClasses.success||s[a]==alertClasses.info||s[a]==alertClasses.warning||s[a]==alertClasses.danger){e=s[a];break}return e}
function refreshGroupTable(d,l){var e={groupNumber:"forward"==l?parseInt(d)+1:"backward"==l?parseInt(d)-1:parseInt(d),supervisorToAssign:null,projectToAssign:null,allSupervisors:null,allProjects:null,groupRoles:null,allStudents:null,groupDetails:null};$.ajax({url:"/Group/ViewGroups",data:e,dataType:"json",type:"GET",error:function(e,r,o){$("#groupTable tbody").html(""),$("#groupTable tbody").append("<tr><td colspan='7'>Sorry, no students are shown as a HTTP "+e.status+" "+e.statusText+" error has occured. Please contact your system administrator for assistance.</td></tr>")},success:function(e,r,o){if(null!=e.error)return $("#groupTable tbody").html(""),void $("#groupTable tbody").append("<tr><td colspan='7'>Sorry, no students are shown as the following error occured; "+e.error+" Please contact your system administrator for assistance.</td></tr>");$("#previousSupervisorToAssignHiddenField").val(e.groupDetails.lecturerId),$("#previousProjectToAssignHiddenField").val(e.groupDetails.projectId),$("#supervisorToAssign").val(e.groupDetails.lecturerId),$("#projectToAssign").val(e.groupDetails.projectId),$("#groupTable tbody").html("");var t=0;if(null!=e.groupDetails.groupMembers){if(0==e.groupDetails.groupMembers.length)(s=$("<tr>")).append("<td colspan='5'>No student(s) in Group "+e.groupDetails.groupNumber+" yet.</td>"),s.append("<td rowspan='5' style='vertical-align:middle;text-align:center'><button type='button' class='btn btn-success btn-block addGroupMembersButton'>Add</button></td>"),s.append("<td rowspan='5' style='vertical-align:middle;text-align:center'><button type='button' class='btn btn-success btn-block deleteGroupButton'>Delete</button><input type='hidden' id='groupIdHiddenField' value='"+e.groupDetails.groupId+"'/></td>"),$("#groupTable tbody").append(s);for(var n=0;n<e.groupDetails.groupMembers.length;++n){++t;var s=$("<tr>");1==t&&s.append("<td rowspan='"+e.groupDetails.groupMembers.length+"' style='vertical-align:middle;text-align:center'><strong>"+e.groupDetails.groupNumber+"</strong></td>"),s.append("<td>"+e.groupDetails.groupMembers[n].admin_number+"</td>"),s.append("<td>"+e.groupDetails.groupMembers[n].full_name+"</td>"),s.append("<td><select class='form-control groupRoleDropDownList' id='"+e.groupDetails.groupMembers[n].student_id+"studentIdGroupRole' name='"+e.groupDetails.groupMembers[n].student_id+"studentIdGroupRole'"+(5!=e.groupDetails.groupMembers.length?"disabled":"")+"><option value='1'"+("1"==e.groupDetails.groupMembers[n].group_role?"selected":"")+">Leader</option><option value='2'"+("2"==e.groupDetails.groupMembers[n].group_role?"selected":"")+">Assistant Leader</option><option value='3'"+("3"==e.groupDetails.groupMembers[n].group_role?"selected":"")+">Member</option></select><input type='hidden' id='previous"+e.groupDetails.groupMembers[n].student_id+"studentIdGroupRoleHiddenField' value='"+e.groupDetails.groupMembers[n].group_role+"'/></td>"),s.append("<td><button type='button' class='btn btn-success deleteGroupMemberButton' id='"+e.groupDetails.groupMembers[n].student_id+"studentIdDeleteGroupMember'>Delete</button></td>"),1==t&&(s.append("<td rowspan='"+e.groupDetails.groupMembers.length+"' style='vertical-align:middle;text-align:center'><button type='button' class='btn btn-success btn-block addGroupMembersButton'"+(5==e.groupDetails.groupMembers.length?"disabled":"")+">Add</button></td>"),s.append("<td rowspan='"+e.groupDetails.groupMembers.length+"' style='vertical-align:middle;text-align:center'><button type='button' class='btn btn-success btn-block deleteGroupButton'>Delete</button><input type='hidden' id='groupIdHiddenField' value='"+e.groupDetails.groupId+"'/></td>")),$("#groupTable tbody").append(s)}}return 0==e.numberOfGroups?($("#assignSupervisorAndProjectForGroupForm").addClass("hidden"),$("#groupTable").addClass("hidden"),$("#leftArrowViewGroup").addClass("hidden"),$("#rightArrowViewGroup").addClass("hidden"),$("#groupNumberIndicationSpan").addClass("hidden"),void $("#noGroupsCreatedYetH4").removeClass("hidden")):(1==e.numberOfGroups?($("#assignSupervisorAndProjectForGroupForm").removeClass("hidden"),$("#groupTable").removeClass("hidden"),$("#leftArrowViewGroup").removeClass("hidden"),$("#rightArrowViewGroup").removeClass("hidden"),$("#groupNumberIndicationSpan").removeClass("hidden"),$("#noGroupsCreatedYetH4").addClass("hidden"),$("#leftArrowViewGroup").attr("disabled","disabled"),$("#rightArrowViewGroup").attr("disabled","disabled"),$("#groupNumberIndicationSpan").html("<strong>"+d+"</strong> of <strong>"+e.numberOfGroups+" </strong>")):("forward"==l||"backward"==l?("forward"==l?"1"==d&&$("#leftArrowViewGroup").removeAttr("disabled"):"2"==d&&$("#leftArrowViewGroup").attr("disabled","disabled"),"forward"==l?parseInt(d)+1==e.numberOfGroups&&$("#rightArrowViewGroup").attr("disabled","disabled"):parseInt(d)-1!=e.numberOfGroups&&$("#rightArrowViewGroup").removeAttr("disabled")):"1"==d&&($("#leftArrowViewGroup").attr("disabled","disabled"),$("#rightArrowViewGroup").removeAttr("disabled")),$("#groupNumberIndicationSpan").html("<strong>"+("forward"==l?parseInt(d)+1:"backward"==l?parseInt(d)-1:parseInt(d))+"</strong> of <strong>"+e.numberOfGroups+" </strong>")),void wireViewGroupsEventHandlers())}})}function wireViewGroupsEventHandlers(){$(".groupRoleDropDownList").change(function(){var o=$(this),t=$(".groupRoleDropDownList").index($(this));"Leader"==$(this).find(":selected").text()?$.each($(".groupRoleDropDownList"),function(e,r){if(e!=t){if("Leader"==$(r).find(":selected").text())return $(r).val("3"),$("#studentIdGroupRoleOneHiddenField").val(o.attr("id").split("studentIdGroupRole")[0]),$("#studentIdGroupRoleTwoHiddenField").val($(r).attr("id").split("studentIdGroupRole")[0]),!1;$("#studentIdGroupRoleOneHiddenField").val(o.attr("id").split("studentIdGroupRole")[0])}}):"Assistant Leader"==$(this).find(":selected").text()?$.each($(".groupRoleDropDownList"),function(e,r){if(e!=t){if("Assistant Leader"==$(r).find(":selected").text())return $(r).val("3"),$("#studentIdGroupRoleOneHiddenField").val(o.attr("id").split("studentIdGroupRole")[0]),$("#studentIdGroupRoleTwoHiddenField").val($(r).attr("id").split("studentIdGroupRole")[0]),!1;$("#studentIdGroupRoleOneHiddenField").val(o.attr("id").split("studentIdGroupRole")[0])}}):$("#studentIdGroupRoleOneHiddenField").val(o.attr("id").split("studentIdGroupRole")[0]),$("#confirmChangeGroupRolesModal").modal()}),$(".deleteGroupButton").click(function(){$("#confirmDeleteGroupModal").modal()}),$(".deleteGroupMemberButton").click(function(){$("#studentIdDeleteGroupMemberHiddenField").val($(this).attr("id").split("studentIdDeleteGroupMember")[0]),$("#confirmDeleteGroupMemberModal").modal()}),$(".addGroupMembersButton").click(function(){$("#chooseGroupMembersToAddModal").modal()})}function cancelAssignProject(){$("#projectToAssign").val($("#previousProjectToAssignHiddenField").val())}function cancelAssignSupervisor(){$("#supervisorToAssign").val($("#previousSupervisorToAssignHiddenField").val())}function cancelAddGroupMembers(){$.each($(".studentCheckBox"),function(e,r){$(r).attr("checked",!1)})}function cancelChangeGroupRoles(){$.each($(".groupRoleDropDownList"),function(e,r){$(r).val($("#previous"+$(r).attr("id").split("studentIdGroupRole")[0]+"studentIdGroupRoleHiddenField").val())}),$("#studentIdGroupRoleOneHiddenField").val(""),$("#studentIdGroupRoleTwoHiddenField").val("")}function AJAXChangeGroupRoles(){var t=getCurrentAlertClass(),e=[],r=[];e.push($("#studentIdGroupRoleOneHiddenField").val()),r.push($("#"+$("#studentIdGroupRoleOneHiddenField").val()+"studentIdGroupRole").val()),""!=$("#studentIdGroupRoleTwoHiddenField").val()&&(e.push($("#studentIdGroupRoleTwoHiddenField").val()),r.push($("#"+$("#studentIdGroupRoleTwoHiddenField").val()+"studentIdGroupRole").val())),$.ajax({url:"/Group/ChangeGroupRoles",data:{studentIds:e,groupRoles:r},traditional:!0,dataType:"json",type:"GET",error:function(e,r,o){configureAlertPaneMessageError(e,t),$("#globalAlertPane").removeClass("hidden"),$.each($(".groupRoleDropDownList"),function(e,r){$(r).val($("#previous"+$(r).attr("id").split("studentIdGroupRole")[0]+"studentIdGroupRoleHiddenField").val())}),$("#studentIdGroupRoleOneHiddenField").val(""),$("#studentIdGroupRoleTwoHiddenField").val("")},success:function(e,r,o){configureAlertPaneMessageSuccess(e,t,"group member","updated"),$("#globalAlertPane").removeClass("hidden"),refreshGroupTable($("#groupNumberIndicationSpan").text().split(" ")[0],"none"),$("#studentIdGroupRoleOneHiddenField").val(""),$("#studentIdGroupRoleTwoHiddenField").val("")}})}function AJAXDeleteGroup(){var t=getCurrentAlertClass();$.ajax({url:"/Group/DeleteGroup",data:{groupId:$("#groupIdHiddenField").val()},dataType:"json",type:"GET",error:function(e,r,o){configureAlertPaneMessageError(e,t),$("#globalAlertPane").removeClass("hidden")},success:function(e,r,o){configureAlertPaneMessageSuccess(e,t,"group","deleted"),$("#globalAlertPane").removeClass("hidden"),refreshGroupTable(1,"none")}})}function AJAXDeleteGroupMember(){var t=getCurrentAlertClass();$.ajax({url:"/Group/DeleteGroupMember",data:{studentId:$("#studentIdDeleteGroupMemberHiddenField").val()},dataType:"json",type:"GET",error:function(e,r,o){configureAlertPaneMessageError(e,t),$("#globalAlertPane").removeClass("hidden")},success:function(e,r,o){configureAlertPaneMessageSuccess(e,t,"group member","deleted"),$("#globalAlertPane").removeClass("hidden"),refreshGroupTable($("#groupNumberIndicationSpan").text().split(" ")[0],"none")}})}function AJAXAddGroupMembers(e){var d=getCurrentAlertClass();if(0!=e.length){var o=[];$.each(e,function(e,r){o.push($(r).attr("id").split("studentIdGroup")[0])}),$.ajax({url:"/Group/AddGroupMembers",traditional:!0,data:{studentIds:o,groupId:$("#groupIdHiddenField").val()},dataType:"json",type:"GET",error:function(e,r,o){configureAlertPaneMessageError(e,d),$("#globalAlertPane").removeClass("hidden")},success:function(e,r,o){if(configureAlertPaneMessageSuccess(e,d,"group member","added"),$("#globalAlertPane").removeClass("hidden"),null!=e.invalidStudents&&null!=e.invalidityReasons){var t;t="/Group/DownloadInvalidStudentsFile?";for(var n=0;n<e.invalidStudents.length;++n)t+="invalidStudentIds="+e.invalidStudents[n]+"&";for(var s=0;s<e.invalidityReasons.length;++s)t+="reasonsForInvalidity="+e.invalidityReasons[s]+"&";t=t.substring(0,t.length-1),window.location.href=t}refreshGroupTable($("#groupNumberIndicationSpan").text().split(" ")[0],"none")}})}}function AJAXAssignProject(){var t=getCurrentAlertClass();$.ajax({url:"/Group/AssignProject",data:{projectId:0!=$("#projectToAssign").val().length?$("#projectToAssign").val():null,groupId:$("#groupIdHiddenField").val()},dataType:"json",type:"GET",error:function(e,r,o){configureAlertPaneMessageError(e,t),$("#globalAlertPane").removeClass("hidden"),$("#projectToAssign").val($("#previousProjectToAssignHiddenField").val())},success:function(e,r,o){configureAlertPaneMessageSuccess(e,t,"group","updated"),$("#globalAlertPane").removeClass("hidden"),0<e.rowsAffected&&null==e.error?$("#previousProjectToAssignHiddenField").val($("#projectToAssign").val()):$("#projectToAssign").val($("#previousProjectToAssignHiddenField").val())}})}function AJAXAssignSupervisor(){var t=getCurrentAlertClass();$.ajax({url:"/Group/AssignSupervisor",data:{lecturerId:0!=$("#supervisorToAssign").val().length?$("#supervisorToAssign").val():null,groupId:$("#groupIdHiddenField").val()},dataType:"json",type:"GET",error:function(e,r,o){configureAlertPaneMessageError(e,t),$("#globalAlertPane").removeClass("hidden"),$("#supervisorToAssign").val($("#previousSupervisorToAssignHiddenField").val())},success:function(e,r,o){configureAlertPaneMessageSuccess(e,t,"group","updated"),$("#globalAlertPane").removeClass("hidden"),0<e.rowsAffected&&null==e.error?$("#previousSupervisorToAssignHiddenField").val($("#supervisorToAssign").val()):$("#supervisorToAssign").val($("#previousSupervisorToAssignHiddenField").val())}})}$("document").ready(function(){$("#downloadProjectSelectionSpreadsheetButton").on("click",function(){$(this).button("loading"),window.location.href="/Group/DownloadProjectSelectionSpreadsheet";var e=window.setInterval(function(){"downloaded"==getCookie("completedDownloadToken")&&($("#downloadProjectSelectionSpreadsheetButton").button("reset"),setCookie("completedDownloadToken","initial"),clearInterval(e))},1)}),wireViewGroupsEventHandlers(),$("#leftArrowViewGroup").click(function(){refreshGroupTable($("#groupNumberIndicationSpan").text().split(" ")[0],"backward")}),$("#rightArrowViewGroup").click(function(){refreshGroupTable($("#groupNumberIndicationSpan").text().split(" ")[0],"forward")}),$("#projectToAssign").change(function(){$("#confirmAssignSupervisorOrProjectButton").attr("onclick","AJAXAssignProject()"),$("#cancelAssignSupervisorOrProjectButton").attr("onclick","cancelAssignProject()"),$("#confirmAssignSupervisorOrProjectModal").modal()}),$("#supervisorToAssign").change(function(){$("#confirmAssignSupervisorOrProjectButton").attr("onclick","AJAXAssignSupervisor()"),$("#cancelAssignSupervisorOrProjectButton").attr("onclick","cancelAssignSupervisor()"),$("#confirmAssignSupervisorOrProjectModal").modal()}),$("#addGroupButton").click(function(){alertClass=getCurrentAlertClass(),$.ajax({url:"/Group/AddGroup",type:"GET",dataType:"json",error:function(e,r,o){configureAlertPaneMessageError(e,alertClass),$("#globalAlertPane").removeClass("hidden")},success:function(e,r,o){configureAlertPaneMessageSuccess(e,alertClass,"group","added"),$("#globalAlertPane").removeClass("hidden"),refreshGroupTable(1,"none")}})})});
function AJAXDeleteLecturer(){var l=getCurrentAlertClass(),a=$("#lecturerIdHiddenField").val();$.ajax({url:"/Lecturer/DeleteLecturer",data:{lecturerId:a},dataType:"json",type:"GET",error:function(e,r,t){configureAlertPaneMessageError(e,l),$("#globalAlertPane").removeClass("hidden")},success:function(e,r,t){configureAlertPaneMessageSuccess(e,l,"lecturer","deleted"),$("#globalAlertPane").removeClass("hidden"),$("#lecturerTable").find("tr#row_"+a).remove()}})}
function refreshGroupTable(d,n){var r={groupNumber:"forward"==n?parseInt(d)+1:"backward"==n?parseInt(d)-1:parseInt(d),supervisorToAssign:null,projectToAssign:null,allSupervisors:null,allProjects:null,groupDetails:null};$.ajax({url:"/Group/LecturerViewGroups",data:r,dataType:"json",type:"GET",error:function(r,e,o){$("#groupTable tbody").html(""),$("#groupTable tbody").append("<tr><td colspan='7'>Sorry, no students are shown as a HTTP "+r.status+" "+r.statusText+" error has occured. Please contact your system administrator for assistance.</td></tr>")},success:function(r,e,o){if(null!=r.error)return $("#groupTable tbody").html(""),void $("#groupTable tbody").append("<tr><td colspan='7'>Sorry, no students are shown as the following error occured; "+r.error+" Please contact your system administrator for assistance.</td></tr>");$("#supervisorToAssign").val(r.groupDetails.lecturerId),$("#projectToAssign").val(r.groupDetails.projectId),$("#groupTable tbody").html("");var t=0;if(null!=r.groupDetails.groupMembers)for(var a=0;a<r.groupDetails.groupMembers.length;++a){++t;var s=$("<tr>");1==t&&s.append("<td rowspan='"+r.groupDetails.groupMembers.length+"' style='vertical-align:middle;text-align:center'><strong>"+r.groupDetails.groupNumber+"</strong></td>"),s.append("<td>"+r.groupDetails.groupMembers[a].admin_number+"</td>"),s.append("<td>"+r.groupDetails.groupMembers[a].full_name+"</td>"),s.append("<td>"+("1"==r.groupDetails.groupMembers[a].group_role?"Leader":"2"==r.groupDetails.groupMembers[a].group_role?"Assistant Leader":"Member")+"</td>"),$("#groupTable tbody").append(s)}return 0==r.numberOfGroups?($("#groupTable").addClass("hidden"),$("#leftArrowViewGroup").addClass("hidden"),$("#rightArrowViewGroup").addClass("hidden"),$("#groupNumberIndicationSpan").addClass("hidden"),void $("#noGroupsCreatedYetH4").removeClass("hidden")):1==r.numberOfGroups?($("#groupTable").removeClass("hidden"),$("#leftArrowViewGroup").removeClass("hidden"),$("#rightArrowViewGroup").removeClass("hidden"),$("#groupNumberIndicationSpan").removeClass("hidden"),$("#noGroupsCreatedYetH4").addClass("hidden"),$("#leftArrowViewGroup").attr("disabled","disabled"),$("#rightArrowViewGroup").attr("disabled","disabled"),void $("#groupNumberIndicationSpan").html("<strong>"+d+"</strong> of <strong>"+r.numberOfGroups+" </strong>")):("forward"==n||"backward"==n?("forward"==n?"1"==d&&$("#leftArrowViewGroup").removeAttr("disabled"):"2"==d&&$("#leftArrowViewGroup").attr("disabled","disabled"),"forward"==n?parseInt(d)+1==r.numberOfGroups&&$("#rightArrowViewGroup").attr("disabled","disabled"):parseInt(d)-1!=r.numberOfGroups&&$("#rightArrowViewGroup").removeAttr("disabled")):"1"==d&&($("#leftArrowViewGroup").attr("disabled","disabled"),$("#rightArrowViewGroup").removeAttr("disabled")),void $("#groupNumberIndicationSpan").html("<strong>"+("forward"==n?parseInt(d)+1:"backward"==n?parseInt(d)-1:parseInt(d))+"</strong> of <strong>"+r.numberOfGroups+" </strong>"))}})}$("document").ready(function(){$("#leftArrowViewGroup").click(function(){refreshGroupTable($("#groupNumberIndicationSpan").text().split(" ")[0],"backward")}),$("#rightArrowViewGroup").click(function(){refreshGroupTable($("#groupNumberIndicationSpan").text().split(" ")[0],"forward")}),$("button[data-hide='alert']").on("click",function(){$("#globalAlertPane").addClass("hidden")})});
function saveappendcontent(){sessionStorage.setItem("unsavedfields",$("#custom-content").html());var a=[];function i(e,t,a){this.id=a,this.label=e,this.value=t}$("a[data-type='text']").each(function(e){var t=new i($(this).text(),null,$(this).attr("data-id"));a.push(t)}),$("textarea.fieldValue").each(function(e){var t=$(this).val();a[e].value=t}),$("#displayFields").val(JSON.stringify(a))}function removeItem(e){var t=$(e).next();$(t).next().remove(),$(t).remove(),$(e).remove()}$(function(){var a=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#\$%&\(\)\*\+,\-\.\/:;<=>\?@\[\]\^_`\{\|\}~]/g,i=($(".student-initiated"),$("#custom-content"));$.fn.editable.defaults.mode="inline",$("#add-field").click(function(e){e.preventDefault();var t=$("#add-field").val();$("#add-field").val(++t),t<=10?($('<button class="removeFromView" onclick="removeItem(this); return false;"></button><a href="#" data-id="0" id="fields'+t+'__label" data-type="text">Your field name</a>').appendTo(i),$('<textarea class="fieldValue" name="optionfv" tabindex="1" id="fields'+t+'__value" autofocus="autofocus" data-val="true"></textarea>').appendTo(i),$("#fields"+t+"__label").editable({validate:function(e){if(a.test(e))return"No punctuations allowed"}}),$("#FieldCount").val(t)):alert("Maximum fields reached")});var e=sessionStorage.getItem("unsavedfields");$(".field-validation-error").length&&"undefined"!=e&&(i.append(sessionStorage.getItem("unsavedfields")),$("a[data-type='text']").each(function(e){$(this).editable({validate:function(e){if(a.test(e))return"No punctuations allowed"}})}),sessionStorage.removeItem("unsavedfields"))});
function allFieldsValid(e){for(var r=!0,t=0;t<e.length;++t)0==e[t]&&(r=!1);return r}function unbindAllEventsOfProjectChoiceFormFields(){$.each($(".projectChoiceDropDownList"),function(e,r){$(r).unbind()})}function refreshGroupTable(n,i){var e={groupNumber:"forward"==i?parseInt(n)+1:"backward"==i?parseInt(n)-1:parseInt(n),supervisorToAssign:null,projectToAssign:null,allSupervisors:null,allProjects:null,groupDetails:null};$.ajax({url:"/Group/StudentViewGroups",data:e,dataType:"json",type:"GET",error:function(e,r,t){$("#groupTable tbody").html(""),$("#groupTable tbody").append("<tr><td colspan='7'>Sorry, no students are shown as a HTTP "+e.status+" "+e.statusText+" error has occured. Please contact your system administrator for assistance.</td></tr>")},success:function(e,r,t){if(null!=e.error)return $("#groupTable tbody").html(""),void $("#groupTable tbody").append("<tr><td colspan='7'>Sorry, no students are shown as the following error occured; "+e.error+" Please contact your system administrator for assistance.</td></tr>");$("#supervisorToAssign").val(e.groupDetails.lecturerId),$("#projectToAssign").val(e.groupDetails.projectId),$("#groupTable tbody").html("");var o=0;if(null!=e.groupDetails.groupMembers)for(var s=0;s<e.groupDetails.groupMembers.length;++s){++o;var a=$("<tr>");1==o&&a.append("<td rowspan='"+e.groupDetails.groupMembers.length+"' style='vertical-align:middle;text-align:center'><strong>"+e.groupDetails.groupNumber+"</strong></td>"),a.append("<td>"+e.groupDetails.groupMembers[s].admin_number+"</td>"),a.append("<td>"+e.groupDetails.groupMembers[s].full_name+"</td>"),a.append("<td>"+("1"==e.groupDetails.groupMembers[s].group_role?"Leader":"2"==e.groupDetails.groupMembers[s].group_role?"Assistant Leader":"Member")+"</td>"),1==o&&a.append("<td rowspan='"+e.groupDetails.groupMembers.length+"' style='vertical-align:middle;text-align:center'><button type='button' class='btn btn-success btn-block' id='sendGroupJoiningRequestButton'"+(5==e.groupDetails.groupMembers.length?"disabled":"")+">Send</button><input type='hidden' id='groupIdHiddenField' value='"+e.groupDetails.groupId+"' /></td>"),$("#groupTable tbody").append(a)}return 0==e.numberOfGroups?($("#groupTable").addClass("hidden"),$("#leftArrowViewGroup").addClass("hidden"),$("#rightArrowViewGroup").addClass("hidden"),$("#groupNumberIndicationSpan").addClass("hidden"),void $("#noGroupsCreatedYetH4").removeClass("hidden")):(1==e.numberOfGroups?($("#groupTable").removeClass("hidden"),$("#leftArrowViewGroup").removeClass("hidden"),$("#rightArrowViewGroup").removeClass("hidden"),$("#groupNumberIndicationSpan").removeClass("hidden"),$("#noGroupsCreatedYetH4").addClass("hidden"),$("#leftArrowViewGroup").attr("disabled","disabled"),$("#rightArrowViewGroup").attr("disabled","disabled"),$("#groupNumberIndicationSpan").html("<strong>"+n+"</strong> of <strong>"+e.numberOfGroups+" </strong>")):("forward"==i||"backward"==i?("forward"==i?"1"==n&&$("#leftArrowViewGroup").removeAttr("disabled"):"2"==n&&$("#leftArrowViewGroup").attr("disabled","disabled"),"forward"==i?parseInt(n)+1==e.numberOfGroups&&$("#rightArrowViewGroup").attr("disabled","disabled"):parseInt(n)-1!=e.numberOfGroups&&$("#rightArrowViewGroup").removeAttr("disabled")):"1"==n&&($("#leftArrowViewGroup").attr("disabled","disabled"),$("#rightArrowViewGroup").removeAttr("disabled")),$("#groupNumberIndicationSpan").html("<strong>"+("forward"==i?parseInt(n)+1:"backward"==i?parseInt(n)-1:parseInt(n))+"</strong> of <strong>"+e.numberOfGroups+" </strong>")),void wireViewGroupsEventHandlers())}})}function wireViewGroupsEventHandlers(){$("#sendGroupJoiningRequestButton").click(function(){$.ajax({url:"/GroupJoiningRequest/AddGroupJoiningRequest",data:{groupId:$("#groupIdHiddenField").val()},dataType:"json",type:"GET",error:function(e,r,t){alertify.notify("Sorry, HTTP "+e.status+" "+e.statusText+" error has occured, please contact your system administrator for assistance.","error",function(){})},success:function(e,r,t){0<e.rowsAffected&&null==e.error?(alertify.notify("All "+e.rowsAffected+" group joining request(s) were successfully sent.","success",function(){}),groupJoiningRequestButton.parent().fadeOut("slow"),updatePendingGroupJoiningRequestBadge()):alertify.notify("Only "+e.rowsAffected+" group joining request(s) were sent because; "+e.error+" Please contact your system administrator for assistance, if neccesary.","error",function(){})}})})}$("document").ready(function(){wireViewGroupsEventHandlers(),$("#createGroupButton").click(function(){alertify.dialog("confirm").setting("closable"),alertify.dialog("confirm").set({title:"Add Group",message:"Attempting this action would automatically delete all your pending-response group-joining-request(s). Are you sure?",onok:function(){alertClass=getCurrentAlertClass(),$.ajax({url:"/Group/StudentAddGroup",type:"GET",dataType:"json",error:function(e,r,t){configureAlertPaneMessageError(e,alertClass),$("#globalAlertPane").removeClass("hidden")},success:function(e,r,t){configureAlertPaneMessageSuccess(e,alertClass,"group","added"),$("#globalAlertPane").removeClass("hidden"),refreshGroupTable(1,"none"),$("#createGroupButton").fadeOut("slow"),$("h3:contains('Add Group')").fadeOut("slow")}})}}).show()}),$("#leftArrowViewGroup").click(function(){refreshGroupTable($("#groupNumberIndicationSpan").text().split(" ")[0],"backward")}),$("#rightArrowViewGroup").click(function(){refreshGroupTable($("#groupNumberIndicationSpan").text().split(" ")[0],"forward")}),$("#submitProjectChoiceButton").click(function(){var o,e,s,a=[!1,!1,!1,!1],n=$(".projectChoiceDropDownList"),t=[],i=getCurrentAlertClass();$.each($(".projectChoiceDropDownList"),function(r,e){if("0"==(o=$(e)).val())a[r]=!1,s="This project choice cannot be left blank.";else for(var t=0;t<n.length;++t)if(r!=t){if($(n[t]).val()==o.val()){a[r]=!1,s="This project choice has been selected before.";break}a[r]=!0}a[r]||(o.parent().addClass("has-error"),o.next().text(s),o.next().removeClass("hidden")),o.on("input",function(){if("0"==$(this).val())a[r]=!1,s="This project choice cannot be left blank.";else for(var e=0;e<n.length;++e)if(r!=e){if($(n[e]).val()==$(this).val()){a[r]=!1,s="This project choice has been selected before.";break}a[r]=!0}a[r]?($(this).parent().removeClass("has-error"),$(this).next().addClass("hidden"),allFieldsValid(a)&&$("#submitProjectChoiceButton").removeAttr("disabled")):($(this).parent().addClass("has-error"),$(this).next().text(s),$(this).next().removeClass("hidden"),$("#submitProjectChoiceButton").attr("disabled","disabled"))})}),allFieldsValid(a)?(e=$(".projectChoiceDropDownList"),$.each(e,function(e,r){t.push($(r).val())}),$.ajax({url:"/ProjectChoice/SubmitProjectChoices",type:"GET",data:{projectIds:t},dataType:"json",traditional:!0,error:function(e,r,t){configureAlertPaneMessageError(e,i),$("#globalAlertPane").removeClass("hidden"),unbindAllEventsOfProjectChoiceFormFields(),$.each($(".projectChoiceDropDownList"),function(e,r){$(r).val("0")})},success:function(e,r,t){configureAlertPaneMessageSuccess(e,i,"project choices","submitted"),unbindAllEventsOfProjectChoiceFormFields(),$("#globalAlertPane").removeClass("hidden"),$.ajax({url:"/ProjectChoice/RetrieveSubmittedProjectChoices",type:"GET",error:function(e,r,t){alert("Sorry, HTTP "+e.status+" "+e.statusText+" error has occured, please contact your system administrator for assistance.")},success:function(e,r,t){var o=e.submittedProjectChoices[0].submitted_date,s=new Date(parseInt(o.substring(6,o.length-2)));$("#lastSubmittedDateParagraph").text("Last Submitted Date: "+s.getFullYear()+"/"+(1==(s.getMonth()+1).toString().length?"0":"")+(s.getMonth()+1)+"/"+s.getDate()+" "+s.getHours()+":"+s.getMinutes())}})}})):$("#submitProjectChoiceButton").attr("disabled","disabled")}),$("button[data-hide='alert']").on("click",function(){$("#globalAlertPane").addClass("hidden")})});
var paginationPageSize=5;function AJAXDeleteStudent(){var a=getCurrentAlertClass(),r=$("#studentIdHiddenField").val();$.ajax({url:"/Student/DeleteStudent",data:{studentId:r},dataType:"json",type:"GET",error:function(e,t,n){configureAlertPaneMessageError(e,a),$("#globalAlertPane").removeClass("hidden")},success:function(e,t,n){configureAlertPaneMessageSuccess(e,a,"student","deleted"),$("#globalAlertPane").removeClass("hidden"),$("#example").find("tr#row_"+r).remove()}})}
!function(a){"use strict";var o=function(t,e){this.options=a.extend({},a.fn.editableform.defaults,e),this.$div=a(t),this.options.scope||(this.options.scope=this)};o.prototype={constructor:o,initInput:function(){this.input=this.options.input,this.value=this.input.str2value(this.options.value),this.input.prerender()},initTemplate:function(){this.$form=a(a.fn.editableform.template)},initButtons:function(){var t=this.$form.find(".editable-buttons");t.append(a.fn.editableform.buttons),"bottom"===this.options.showbuttons&&t.addClass("editable-buttons-bottom")},render:function(){this.$loading=a(a.fn.editableform.loading),this.$div.empty().append(this.$loading),this.initTemplate(),this.options.showbuttons?this.initButtons():this.$form.find(".editable-buttons").remove(),this.showLoading(),this.isSaving=!1,this.$div.triggerHandler("rendering"),this.initInput(),this.$form.find("div.editable-input").append(this.input.$tpl),this.$div.append(this.$form),a.when(this.input.render()).then(a.proxy(function(){if(this.options.showbuttons||this.input.autosubmit(),this.$form.find(".editable-cancel").click(a.proxy(this.cancel,this)),this.input.error)this.error(this.input.error),this.$form.find(".editable-submit").attr("disabled",!0),this.input.$input.attr("disabled",!0),this.$form.submit(function(t){t.preventDefault()});else{this.error(!1),this.input.$input.removeAttr("disabled"),this.$form.find(".editable-submit").removeAttr("disabled");var t=null===this.value||void 0===this.value||""===this.value?this.options.defaultValue:this.value;this.input.value2input(t),this.$form.submit(a.proxy(this.submit,this))}this.$div.triggerHandler("rendered"),this.showForm(),this.input.postrender&&this.input.postrender()},this))},cancel:function(){this.$div.triggerHandler("cancel")},showLoading:function(){var t,e;this.$form?(t=this.$form.outerWidth(),e=this.$form.outerHeight(),t&&this.$loading.width(t),e&&this.$loading.height(e),this.$form.hide()):(t=this.$loading.parent().width())&&this.$loading.width(t),this.$loading.show()},showForm:function(t){this.$loading.hide(),this.$form.show(),!1!==t&&this.input.activate(),this.$div.triggerHandler("show")},error:function(t){var e,i=this.$form.find(".control-group"),s=this.$form.find(".editable-error-block");if(!1===t)i.removeClass(a.fn.editableform.errorGroupClass),s.removeClass(a.fn.editableform.errorBlockClass).empty().hide();else{if(t){e=t.split("\n");for(var n=0;n<e.length;n++)e[n]=a("<div>").text(e[n]).html();t=e.join("<br>")}i.addClass(a.fn.editableform.errorGroupClass),s.addClass(a.fn.editableform.errorBlockClass).html(t).show()}},submit:function(t){t.stopPropagation(),t.preventDefault();var e,i=this.input.input2value();if(e=this.validate(i))return this.error(e),void this.showForm();if(this.options.savenochange||this.input.value2str(i)!=this.input.value2str(this.value)){var s=this.input.value2submit(i);this.isSaving=!0,a.when(this.save(s)).done(a.proxy(function(t){this.isSaving=!1;var e="function"==typeof this.options.success?this.options.success.call(this.options.scope,t,i):null;return!1===e?(this.error(!1),void this.showForm(!1)):"string"==typeof e?(this.error(e),void this.showForm()):(e&&"object"==typeof e&&e.hasOwnProperty("newValue")&&(i=e.newValue),this.error(!1),this.value=i,void this.$div.triggerHandler("save",{newValue:i,submitValue:s,response:t}))},this)).fail(a.proxy(function(t){var e;this.isSaving=!1,e="function"==typeof this.options.error?this.options.error.call(this.options.scope,t,i):"string"==typeof t?t:t.responseText||t.statusText||"Unknown error!",this.error(e),this.showForm()},this))}else this.$div.triggerHandler("nochange")},save:function(t){this.options.pk=a.fn.editableutils.tryParseJson(this.options.pk,!0);var e,i="function"==typeof this.options.pk?this.options.pk.call(this.options.scope):this.options.pk;return!!("function"==typeof this.options.url||this.options.url&&("always"===this.options.send||"auto"===this.options.send&&null!=i))?(this.showLoading(),e={name:this.options.name||"",value:t,pk:i},"function"==typeof this.options.params?e=this.options.params.call(this.options.scope,e):(this.options.params=a.fn.editableutils.tryParseJson(this.options.params,!0),a.extend(e,this.options.params)),"function"==typeof this.options.url?this.options.url.call(this.options.scope,e):a.ajax(a.extend({url:this.options.url,data:e,type:"POST"},this.options.ajaxOptions))):void 0},validate:function(t){return void 0===t&&(t=this.value),"function"==typeof this.options.validate?this.options.validate.call(this.options.scope,t):void 0},option:function(t,e){t in this.options&&(this.options[t]=e),"value"===t&&this.setValue(e)},setValue:function(t,e){this.value=e?this.input.str2value(t):t,this.$form&&this.$form.is(":visible")&&this.input.value2input(this.value)}},a.fn.editableform=function(s){var n=arguments;return this.each(function(){var t=a(this),e=t.data("editableform"),i="object"==typeof s&&s;e||t.data("editableform",e=new o(this,i)),"string"==typeof s&&e[s].apply(e,Array.prototype.slice.call(n,1))})},a.fn.editableform.Constructor=o,a.fn.editableform.defaults={type:"text",url:null,params:null,name:null,pk:null,value:null,defaultValue:null,send:"auto",validate:null,success:null,error:null,ajaxOptions:null,showbuttons:!0,scope:null,savenochange:!1},a.fn.editableform.template='<form class="form-inline editableform"><div class="control-group"><div><div class="editable-input"></div><div class="editable-buttons"></div></div><div class="editable-error-block"></div></div></form>',a.fn.editableform.loading='<div class="editableform-loading"></div>',a.fn.editableform.buttons='<button type="submit" class="editable-submit">ok</button><button type="button" class="editable-cancel">cancel</button>',a.fn.editableform.errorGroupClass=null,a.fn.editableform.errorBlockClass="editable-error",a.fn.editableform.engine="jquery"}(window.jQuery),function(l){"use strict";l.fn.editableutils={inherit:function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i,(t.prototype.constructor=t).superclass=e.prototype},setCursorPosition:function(t,e){if(t.setSelectionRange)t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},tryParseJson:function(t,e){if("string"==typeof t&&t.length&&t.match(/^[\{\[].*[\}\]]$/))if(e)try{t=new Function("return "+t)()}catch(t){}finally{return t}else t=new Function("return "+t)();return t},sliceObj:function(t,e,i){var s,n,a={};if(!l.isArray(e)||!e.length)return a;for(var o=0;o<e.length;o++)s=e[o],t.hasOwnProperty(s)&&(a[s]=t[s]),!0!==i&&(n=s.toLowerCase(),t.hasOwnProperty(n)&&(a[s]=t[n]));return a},getConfigData:function(t){var i={};return l.each(t.data(),function(t,e){("object"!=typeof e||e&&"object"==typeof e&&(e.constructor===Object||e.constructor===Array))&&(i[t]=e)}),i},objectKeys:function(t){if(Object.keys)return Object.keys(t);if(t!==Object(t))throw new TypeError("Object.keys called on a non-object");var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&i.push(e);return i},escape:function(t){return l("<div>").text(t).html()},itemsByValue:function(s,t,n){if(!t||null===s)return[];if("function"!=typeof n){var e=n||"value";n=function(t){return t[e]}}var a=l.isArray(s),o=[],r=this;return l.each(t,function(t,e){if(e.children)o=o.concat(r.itemsByValue(s,e.children,n));else if(a)l.grep(s,function(t){return t==(e&&"object"==typeof e?n(e):e)}).length&&o.push(e);else{var i=e&&"object"==typeof e?n(e):e;s==i&&o.push(e)}}),o},createInput:function(t){var e,i=t.type;return"date"===i&&("inline"===t.mode?l.fn.editabletypes.datefield?i="datefield":l.fn.editabletypes.dateuifield&&(i="dateuifield"):l.fn.editabletypes.date?i="date":l.fn.editabletypes.dateui&&(i="dateui"),"date"!==i||l.fn.editabletypes.date||(i="combodate")),"datetime"===i&&"inline"===t.mode&&(i="datetimefield"),"wysihtml5"!==i||l.fn.editabletypes[i]||(i="textarea"),"function"==typeof l.fn.editabletypes[i]?new(e=l.fn.editabletypes[i])(this.sliceObj(t,this.objectKeys(e.defaults))):(l.error("Unknown type: "+i),!1)},supportsTransitions:function(){var t=(document.body||document.documentElement).style,e="transition",i=["Moz","Webkit","Khtml","O","ms"];if("string"==typeof t[e])return!0;e=e.charAt(0).toUpperCase()+e.substr(1);for(var s=0;s<i.length;s++)if("string"==typeof t[i[s]+e])return!0;return!1}}}(window.jQuery),function(r){"use strict";var l=function(t,e){this.init(t,e)},h=function(t,e){this.init(t,e)};l.prototype={containerName:null,containerDataName:null,innerCss:null,containerClass:"editable-container editable-popup",defaults:{},init:function(t,e){this.$element=r(t),this.options=r.extend({},r.fn.editableContainer.defaults,e),this.splitOptions(),this.formOptions.scope=this.$element[0],this.initContainer(),this.delayedHide=!1,this.$element.on("destroyed",r.proxy(function(){this.destroy()},this)),r(document).data("editable-handlers-attached")||(r(document).on("keyup.editable",function(t){27===t.which&&r(".editable-open").editableContainer("hide")}),r(document).on("click.editable",function(t){var e,i=r(t.target),s=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(r.contains(document.documentElement,t.target)&&!i.is(document)){for(e=0;e<s.length;e++)if(i.is(s[e])||i.parents(s[e]).length)return;l.prototype.closeOthers(t.target)}}),r(document).data("editable-handlers-attached",!0))},splitOptions:function(){if(this.containerOptions={},this.formOptions={},!r.fn[this.containerName])throw new Error(this.containerName+" not found. Have you included corresponding js file?");for(var t in this.options)t in this.defaults?this.containerOptions[t]=this.options[t]:this.formOptions[t]=this.options[t]},tip:function(){return this.container()?this.container().$tip:null},container:function(){var t;return this.containerDataName&&(t=this.$element.data(this.containerDataName))?t:t=this.$element.data(this.containerName)},call:function(){this.$element[this.containerName].apply(this.$element,arguments)},initContainer:function(){this.call(this.containerOptions)},renderForm:function(){this.$form.editableform(this.formOptions).on({save:r.proxy(this.save,this),nochange:r.proxy(function(){this.hide("nochange")},this),cancel:r.proxy(function(){this.hide("cancel")},this),show:r.proxy(function(){this.delayedHide?(this.hide(this.delayedHide.reason),this.delayedHide=!1):this.setPosition()},this),rendering:r.proxy(this.setPosition,this),resize:r.proxy(this.setPosition,this),rendered:r.proxy(function(){this.$element.triggerHandler("shown",r(this.options.scope).data("editable"))},this)}).editableform("render")},show:function(t){this.$element.addClass("editable-open"),!1!==t&&this.closeOthers(this.$element[0]),this.innerShow(),this.tip().addClass(this.containerClass),this.$form,this.$form=r("<div>"),this.tip().is(this.innerCss)?this.tip().append(this.$form):this.tip().find(this.innerCss).append(this.$form),this.renderForm()},hide:function(t){if(this.tip()&&this.tip().is(":visible")&&this.$element.hasClass("editable-open")){if(this.$form.data("editableform").isSaving)return void(this.delayedHide={reason:t});this.delayedHide=!1,this.$element.removeClass("editable-open"),this.innerHide(),this.$element.triggerHandler("hidden",t||"manual")}},innerShow:function(){},innerHide:function(){},toggle:function(t){this.container()&&this.tip()&&this.tip().is(":visible")?this.hide():this.show(t)},setPosition:function(){},save:function(t,e){this.$element.triggerHandler("save",e),this.hide("save")},option:function(t,e){this.options[t]=e,t in this.containerOptions?(this.containerOptions[t]=e,this.setContainerOption(t,e)):(this.formOptions[t]=e,this.$form&&this.$form.editableform("option",t,e))},setContainerOption:function(t,e){this.call("option",t,e)},destroy:function(){this.hide(),this.innerDestroy(),this.$element.off("destroyed"),this.$element.removeData("editableContainer")},innerDestroy:function(){},closeOthers:function(n){r(".editable-open").each(function(t,e){if(e!==n&&!r(e).find(n).length){var i=r(e),s=i.data("editableContainer");s&&("cancel"===s.options.onblur?i.data("editableContainer").hide("onblur"):"submit"===s.options.onblur&&i.data("editableContainer").tip().find("form").submit())}})},activate:function(){this.tip&&this.tip().is(":visible")&&this.$form&&this.$form.data("editableform").input.activate()}},r.fn.editableContainer=function(a){var o=arguments;return this.each(function(){var t=r(this),e="editableContainer",i=t.data(e),s="object"==typeof a&&a,n="inline"===s.mode?h:l;i||t.data(e,i=new n(this,s)),"string"==typeof a&&i[a].apply(i,Array.prototype.slice.call(o,1))})},r.fn.editableContainer.Popup=l,r.fn.editableContainer.Inline=h,r.fn.editableContainer.defaults={value:null,placement:"top",autohide:!0,onblur:"cancel",anim:!1,mode:"popup"},jQuery.event.special.destroyed={remove:function(t){t.handler&&t.handler()}}}(window.jQuery),function(t){"use strict";t.extend(t.fn.editableContainer.Inline.prototype,t.fn.editableContainer.Popup.prototype,{containerName:"editableform",innerCss:".editable-inline",containerClass:"editable-container editable-inline",initContainer:function(){this.$tip=t("<span></span>"),this.options.anim||(this.options.anim=0)},splitOptions:function(){this.containerOptions={},this.formOptions=this.options},tip:function(){return this.$tip},innerShow:function(){this.$element.hide(),this.tip().insertAfter(this.$element).show()},innerHide:function(){this.$tip.hide(this.options.anim,t.proxy(function(){this.$element.show(),this.innerDestroy()},this))},innerDestroy:function(){this.tip()&&this.tip().empty().remove()}})}(window.jQuery),function(l){"use strict";var h=function(t,e){this.$element=l(t),this.options=l.extend({},l.fn.editable.defaults,e,l.fn.editableutils.getConfigData(this.$element)),this.options.selector?this.initLive():this.init(),this.options.highlight&&!l.fn.editableutils.supportsTransitions()&&(this.options.highlight=!1)};h.prototype={constructor:h,init:function(){var t,e=!1;if(this.options.name=this.options.name||this.$element.attr("id"),this.options.scope=this.$element[0],this.input=l.fn.editableutils.createInput(this.options),this.input){switch(void 0===this.options.value||null===this.options.value?(this.value=this.input.html2value(l.trim(this.$element.html())),e=!0):(this.options.value=l.fn.editableutils.tryParseJson(this.options.value,!0),this.value="string"==typeof this.options.value?this.input.str2value(this.options.value):this.options.value),this.$element.addClass("editable"),"textarea"===this.input.type&&this.$element.addClass("editable-pre-wrapped"),"manual"!==this.options.toggle?(this.$element.addClass("editable-click"),this.$element.on(this.options.toggle+".editable",l.proxy(function(t){if(this.options.disabled||t.preventDefault(),"mouseenter"===this.options.toggle)this.show();else{var e="click"!==this.options.toggle;this.toggle(e)}},this))):this.$element.attr("tabindex",-1),"function"==typeof this.options.display&&(this.options.autotext="always"),this.options.autotext){case"always":t=!0;break;case"auto":t=!l.trim(this.$element.text()).length&&null!==this.value&&void 0!==this.value&&!e;break;default:t=!1}l.when(!t||this.render()).then(l.proxy(function(){this.options.disabled?this.disable():this.enable(),this.$element.triggerHandler("init",this)},this))}},initLive:function(){var t=this.options.selector;this.options.selector=!1,this.options.autotext="never",this.$element.on(this.options.toggle+".editable",t,l.proxy(function(t){var e=l(t.target);e.data("editable")||(e.hasClass(this.options.emptyclass)&&e.empty(),e.editable(this.options).trigger(t))},this))},render:function(t){return!1!==this.options.display?this.input.value2htmlFinal?this.input.value2html(this.value,this.$element[0],this.options.display,t):"function"==typeof this.options.display?this.options.display.call(this.$element[0],this.value,t):this.input.value2html(this.value,this.$element[0]):void 0},enable:function(){this.options.disabled=!1,this.$element.removeClass("editable-disabled"),this.handleEmpty(this.isEmpty),"manual"!==this.options.toggle&&"-1"===this.$element.attr("tabindex")&&this.$element.removeAttr("tabindex")},disable:function(){this.options.disabled=!0,this.hide(),this.$element.addClass("editable-disabled"),this.handleEmpty(this.isEmpty),this.$element.attr("tabindex",-1)},toggleDisabled:function(){this.options.disabled?this.enable():this.disable()},option:function(t,e){return t&&"object"==typeof t?void l.each(t,l.proxy(function(t,e){this.option(l.trim(t),e)},this)):(this.options[t]=e,"disabled"===t?e?this.disable():this.enable():("value"===t&&this.setValue(e),this.container&&this.container.option(t,e),void(this.input.option&&this.input.option(t,e))))},handleEmpty:function(t){!1!==this.options.display&&(this.isEmpty=void 0!==t?t:"function"==typeof this.input.isEmpty?this.input.isEmpty(this.$element):""===l.trim(this.$element.html()),this.options.disabled?this.isEmpty&&(this.$element.empty(),this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass)):this.isEmpty?(this.$element.html(this.options.emptytext),this.options.emptyclass&&this.$element.addClass(this.options.emptyclass)):this.options.emptyclass&&this.$element.removeClass(this.options.emptyclass))},show:function(t){if(!this.options.disabled){if(this.container){if(this.container.tip().is(":visible"))return}else{var e=l.extend({},this.options,{value:this.value,input:this.input});this.$element.editableContainer(e),this.$element.on("save.internal",l.proxy(this.save,this)),this.container=this.$element.data("editableContainer")}this.container.show(t)}},hide:function(){this.container&&this.container.hide()},toggle:function(t){this.container&&this.container.tip().is(":visible")?this.hide():this.show(t)},save:function(t,e){if(this.options.unsavedclass){var i=!1;(i=(i=(i=(i=i||"function"==typeof this.options.url)||!1===this.options.display)||void 0!==e.response)||this.options.savenochange&&this.input.value2str(this.value)!==this.input.value2str(e.newValue))?this.$element.removeClass(this.options.unsavedclass):this.$element.addClass(this.options.unsavedclass)}if(this.options.highlight){var s=this.$element,n=s.css("background-color");s.css("background-color",this.options.highlight),setTimeout(function(){"transparent"===n&&(n=""),s.css("background-color",n),s.addClass("editable-bg-transition"),setTimeout(function(){s.removeClass("editable-bg-transition")},1700)},10)}this.setValue(e.newValue,!1,e.response)},validate:function(){return"function"==typeof this.options.validate?this.options.validate.call(this,this.value):void 0},setValue:function(t,e,i){this.value=e?this.input.str2value(t):t,this.container&&this.container.option("value",this.value),l.when(this.render(i)).then(l.proxy(function(){this.handleEmpty()},this))},activate:function(){this.container&&this.container.activate()},destroy:function(){this.disable(),this.container&&this.container.destroy(),this.input.destroy(),"manual"!==this.options.toggle&&(this.$element.removeClass("editable-click"),this.$element.off(this.options.toggle+".editable")),this.$element.off("save.internal"),this.$element.removeClass("editable editable-open editable-disabled"),this.$element.removeData("editable")}},l.fn.editable=function(s){var i={},n=arguments,a="editable";switch(s){case"validate":return this.each(function(){var t,e=l(this).data(a);e&&(t=e.validate())&&(i[e.options.name]=t)}),i;case"getValue":return 2===arguments.length&&!0===arguments[1]?i=this.eq(0).data(a).value:this.each(function(){var t=l(this).data(a);t&&void 0!==t.value&&null!==t.value&&(i[t.options.name]=t.input.value2submit(t.value))}),i;case"submit":var t,e=arguments[1]||{},o=this,r=this.editable("validate");return l.isEmptyObject(r)?(t=this.editable("getValue"),e.data&&l.extend(t,e.data),l.ajax(l.extend({url:e.url,data:t,type:"POST"},e.ajaxOptions)).success(function(t){"function"==typeof e.success&&e.success.call(o,t,e)}).error(function(){"function"==typeof e.error&&e.error.apply(o,arguments)})):"function"==typeof e.error&&e.error.call(o,r),this}return this.each(function(){var t=l(this),e=t.data(a),i="object"==typeof s&&s;return i&&i.selector?void(e=new h(this,i)):(e||t.data(a,e=new h(this,i)),void("string"==typeof s&&e[s].apply(e,Array.prototype.slice.call(n,1))))})},l.fn.editable.defaults={type:"text",disabled:!1,toggle:"click",emptytext:"Empty",autotext:"auto",value:null,display:null,emptyclass:"editable-empty",unsavedclass:"editable-unsaved",selector:null,highlight:"#FFFF80"}}(window.jQuery),function(s){"use strict";s.fn.editabletypes={};var t=function(){};t.prototype={init:function(t,e,i){this.type=t,this.options=s.extend({},i,e)},prerender:function(){this.$tpl=s(this.options.tpl),this.$input=this.$tpl,this.$clear=null,this.error=null},render:function(){},value2html:function(t,e){s(e)[this.options.escape?"text":"html"](s.trim(t))},html2value:function(t){return s("<div>").html(t).text()},value2str:function(t){return t},str2value:function(t){return t},value2submit:function(t){return t},value2input:function(t){this.$input.val(t)},input2value:function(){return this.$input.val()},activate:function(){this.$input.is(":visible")&&this.$input.focus()},clear:function(){this.$input.val(null)},escape:function(t){return s("<div>").text(t).html()},autosubmit:function(){},destroy:function(){},setClass:function(){this.options.inputclass&&this.$input.addClass(this.options.inputclass)},setAttr:function(t){void 0!==this.options[t]&&null!==this.options[t]&&this.$input.attr(t,this.options[t])},option:function(t,e){this.options[t]=e}},t.defaults={tpl:"",inputclass:null,escape:!0,scope:null,showbuttons:!0},s.extend(s.fn.editabletypes,{abstractinput:t})}(window.jQuery),function(r){"use strict";var t=function(){};r.fn.editableutils.inherit(t,r.fn.editabletypes.abstractinput),r.extend(t.prototype,{render:function(){var t=r.Deferred();return this.error=null,this.onSourceReady(function(){this.renderList(),t.resolve()},function(){this.error=this.options.sourceError,t.resolve()}),t.promise()},html2value:function(){return null},value2html:function(t,e,i,s){var n=r.Deferred(),a=function(){"function"==typeof i?i.call(e,t,this.sourceData,s):this.value2htmlFinal(t,e),n.resolve()};return null===t?a.call(this):this.onSourceReady(a,function(){n.resolve()}),n.promise()},onSourceReady:function(e,i){var t;if(r.isFunction(this.options.source)?(t=this.options.source.call(this.options.scope),this.sourceData=null):t=this.options.source,this.options.sourceCache&&r.isArray(this.sourceData))e.call(this);else{try{t=r.fn.editableutils.tryParseJson(t,!1)}catch(t){return void i.call(this)}if("string"==typeof t){if(this.options.sourceCache){var s,n=t;if(r(document).data(n)||r(document).data(n,{}),!1===(s=r(document).data(n)).loading&&s.sourceData)return this.sourceData=s.sourceData,this.doPrepend(),void e.call(this);if(!0===s.loading)return s.callbacks.push(r.proxy(function(){this.sourceData=s.sourceData,this.doPrepend(),e.call(this)},this)),void s.err_callbacks.push(r.proxy(i,this));s.loading=!0,s.callbacks=[],s.err_callbacks=[]}var a=r.extend({url:t,type:"get",cache:!1,dataType:"json",success:r.proxy(function(t){s&&(s.loading=!1),this.sourceData=this.makeArray(t),r.isArray(this.sourceData)?(s&&(s.sourceData=this.sourceData,r.each(s.callbacks,function(){this.call()})),this.doPrepend(),e.call(this)):(i.call(this),s&&r.each(s.err_callbacks,function(){this.call()}))},this),error:r.proxy(function(){i.call(this),s&&(s.loading=!1,r.each(s.err_callbacks,function(){this.call()}))},this)},this.options.sourceOptions);r.ajax(a)}else this.sourceData=this.makeArray(t),r.isArray(this.sourceData)?(this.doPrepend(),e.call(this)):i.call(this)}},doPrepend:function(){null!==this.options.prepend&&void 0!==this.options.prepend&&(r.isArray(this.prependData)||(r.isFunction(this.options.prepend)&&(this.options.prepend=this.options.prepend.call(this.options.scope)),this.options.prepend=r.fn.editableutils.tryParseJson(this.options.prepend,!0),"string"==typeof this.options.prepend&&(this.options.prepend={"":this.options.prepend}),this.prependData=this.makeArray(this.options.prepend)),r.isArray(this.prependData)&&r.isArray(this.sourceData)&&(this.sourceData=this.prependData.concat(this.sourceData)))},renderList:function(){},value2htmlFinal:function(){},makeArray:function(t){var i,s,e,n,a=[];if(!t||"string"==typeof t)return null;if(r.isArray(t)){n=function(t,e){return s={value:t,text:e},!(2<=i++)&&void 0};for(var o=0;o<t.length;o++)"object"==typeof(e=t[o])?(i=0,r.each(e,n),1===i?a.push(s):1<i&&(e.children&&(e.children=this.makeArray(e.children)),a.push(e))):a.push({value:e,text:e})}else r.each(t,function(t,e){a.push({value:t,text:e})});return a},option:function(t,e){this.options[t]=e,"source"===t&&(this.sourceData=null),"prepend"===t&&(this.prependData=null)}}),t.defaults=r.extend({},r.fn.editabletypes.abstractinput.defaults,{source:null,prepend:!1,sourceError:"Error when loading list",sourceCache:!0,sourceOptions:null}),r.fn.editabletypes.list=t}(window.jQuery),function(i){"use strict";var e=function(t){this.init("text",t,e.defaults)};i.fn.editableutils.inherit(e,i.fn.editabletypes.abstractinput),i.extend(e.prototype,{render:function(){this.renderClear(),this.setClass(),this.setAttr("placeholder")},activate:function(){this.$input.is(":visible")&&(this.$input.focus(),i.fn.editableutils.setCursorPosition(this.$input.get(0),this.$input.val().length),this.toggleClear&&this.toggleClear())},renderClear:function(){this.options.clear&&(this.$clear=i('<span class="editable-clear-x"></span>'),this.$input.after(this.$clear).css("padding-right",24).keyup(i.proxy(function(t){if(!~i.inArray(t.keyCode,[40,38,9,13,27])){clearTimeout(this.t);var e=this;this.t=setTimeout(function(){e.toggleClear(t)},100)}},this)).parent().css("position","relative"),this.$clear.click(i.proxy(this.clear,this)))},postrender:function(){},toggleClear:function(){if(this.$clear){var t=this.$input.val().length,e=this.$clear.is(":visible");t&&!e&&this.$clear.show(),!t&&e&&this.$clear.hide()}},clear:function(){this.$clear.hide(),this.$input.val("").focus()}}),e.defaults=i.extend({},i.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',placeholder:null,clear:!0}),i.fn.editabletypes.text=e}(window.jQuery),function(e){"use strict";var i=function(t){this.init("textarea",t,i.defaults)};e.fn.editableutils.inherit(i,e.fn.editabletypes.abstractinput),e.extend(i.prototype,{render:function(){this.setClass(),this.setAttr("placeholder"),this.setAttr("rows"),this.$input.keydown(function(t){t.ctrlKey&&13===t.which&&e(this).closest("form").submit()})},activate:function(){e.fn.editabletypes.text.prototype.activate.call(this)}}),i.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:"<textarea></textarea>",inputclass:"input-large",placeholder:null,rows:7}),e.fn.editabletypes.textarea=i}(window.jQuery),function(a){"use strict";var e=function(t){this.init("select",t,e.defaults)};a.fn.editableutils.inherit(e,a.fn.editabletypes.list),a.extend(e.prototype,{renderList:function(){this.$input.empty();var n=function(t,e){var i;if(a.isArray(e))for(var s=0;s<e.length;s++)i={},e[s].children?(i.label=e[s].text,t.append(n(a("<optgroup>",i),e[s].children))):(i.value=e[s].value,e[s].disabled&&(i.disabled=!0),t.append(a("<option>",i).text(e[s].text)));return t};n(this.$input,this.sourceData),this.setClass(),this.$input.on("keydown.editable",function(t){13===t.which&&a(this).closest("form").submit()})},value2htmlFinal:function(t,e){var i="",s=a.fn.editableutils.itemsByValue(t,this.sourceData);s.length&&(i=s[0].text),a.fn.editabletypes.abstractinput.prototype.value2html.call(this,i,e)},autosubmit:function(){this.$input.off("keydown.editable").on("change.editable",function(){a(this).closest("form").submit()})}}),e.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:"<select></select>"}),a.fn.editabletypes.select=e}(window.jQuery),function(a){"use strict";var e=function(t){this.init("checklist",t,e.defaults)};a.fn.editableutils.inherit(e,a.fn.editabletypes.list),a.extend(e.prototype,{renderList:function(){var t;if(this.$tpl.empty(),a.isArray(this.sourceData)){for(var e=0;e<this.sourceData.length;e++)t=a("<label>").append(a("<input>",{type:"checkbox",value:this.sourceData[e].value})).append(a("<span>").text(" "+this.sourceData[e].text)),a("<div>").append(t).appendTo(this.$tpl);this.$input=this.$tpl.find('input[type="checkbox"]'),this.setClass()}},value2str:function(t){return a.isArray(t)?t.sort().join(a.trim(this.options.separator)):""},str2value:function(t){var e,i=null;return"string"==typeof t&&t.length?(e=new RegExp("\\s*"+a.trim(this.options.separator)+"\\s*"),i=t.split(e)):i=a.isArray(t)?t:[t],i},value2input:function(s){this.$input.prop("checked",!1),a.isArray(s)&&s.length&&this.$input.each(function(t,e){var i=a(e);a.each(s,function(t,e){i.val()==e&&i.prop("checked",!0)})})},input2value:function(){var i=[];return this.$input.filter(":checked").each(function(t,e){i.push(a(e).val())}),i},value2htmlFinal:function(t,e){var s=[],i=a.fn.editableutils.itemsByValue(t,this.sourceData),n=this.options.escape;i.length?(a.each(i,function(t,e){var i=n?a.fn.editableutils.escape(e.text):e.text;s.push(i)}),a(e).html(s.join("<br>"))):a(e).empty()},activate:function(){this.$input.first().focus()},autosubmit:function(){this.$input.on("keydown",function(t){13===t.which&&a(this).closest("form").submit()})}}),e.defaults=a.extend({},a.fn.editabletypes.list.defaults,{tpl:'<div class="editable-checklist"></div>',inputclass:null,separator:","}),a.fn.editabletypes.checklist=e}(window.jQuery),function(i){"use strict";var e=function(t){this.init("password",t,e.defaults)};i.fn.editableutils.inherit(e,i.fn.editabletypes.text),i.extend(e.prototype,{value2html:function(t,e){t?i(e).text("[hidden]"):i(e).empty()},html2value:function(){return null}}),e.defaults=i.extend({},i.fn.editabletypes.text.defaults,{tpl:'<input type="password">'}),i.fn.editabletypes.password=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("email",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="email">'}),t.fn.editabletypes.email=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("url",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="url">'}),t.fn.editabletypes.url=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("tel",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="tel">'}),t.fn.editabletypes.tel=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("number",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.text),t.extend(e.prototype,{render:function(){e.superclass.render.call(this),this.setAttr("min"),this.setAttr("max"),this.setAttr("step")},postrender:function(){this.$clear&&this.$clear.css({right:24})}}),e.defaults=t.extend({},t.fn.editabletypes.text.defaults,{tpl:'<input type="number">',inputclass:"input-mini",min:null,max:null,step:null}),t.fn.editabletypes.number=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("range",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.number),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.filter("input"),this.setClass(),this.setAttr("min"),this.setAttr("max"),this.setAttr("step"),this.$input.on("input",function(){t(this).siblings("output").text(t(this).val())})},activate:function(){this.$input.focus()}}),e.defaults=t.extend({},t.fn.editabletypes.number.defaults,{tpl:'<input type="range"><output style="width: 30px; display: inline-block"></output>',inputclass:"input-medium"}),t.fn.editabletypes.range=e}(window.jQuery),function(t){"use strict";var e=function(t){this.init("time",t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.abstractinput),t.extend(e.prototype,{render:function(){this.setClass()}}),e.defaults=t.extend({},t.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="time">'}),t.fn.editabletypes.time=e}(window.jQuery),function(a){"use strict";var o=function(t){if(this.init("select2",t,o.defaults),t.select2=t.select2||{},this.sourceData=null,t.placeholder&&(t.select2.placeholder=t.placeholder),!t.select2.tags&&t.source){var e=t.source;a.isFunction(t.source)&&(e=t.source.call(t.scope)),"string"==typeof e?(t.select2.ajax=t.select2.ajax||{},t.select2.ajax.data||(t.select2.ajax.data=function(t){return{query:t}}),t.select2.ajax.results||(t.select2.ajax.results=function(t){return{results:t}}),t.select2.ajax.url=e):(this.sourceData=this.convertSource(e),t.select2.data=this.sourceData)}if(this.options.select2=a.extend({},o.defaults.select2,t.select2),this.isMultiple=this.options.select2.tags||this.options.select2.multiple,this.isRemote="ajax"in this.options.select2,this.idFunc=this.options.select2.id,"function"!=typeof this.idFunc){var i=this.idFunc||"id";this.idFunc=function(t){return t[i]}}this.formatSelection=this.options.select2.formatSelection,"function"!=typeof this.formatSelection&&(this.formatSelection=function(t){return t.text})};a.fn.editableutils.inherit(o,a.fn.editabletypes.abstractinput),a.extend(o.prototype,{render:function(){this.setClass(),this.isRemote&&this.$input.on("select2-loaded",a.proxy(function(t){this.sourceData=t.items.results},this)),this.isMultiple&&this.$input.on("change",function(){a(this).closest("form").parent().triggerHandler("resize")})},value2html:function(t,e){var i,s="",n=this;this.options.select2.tags?i=t:this.sourceData&&(i=a.fn.editableutils.itemsByValue(t,this.sourceData,this.idFunc)),a.isArray(i)?(s=[],a.each(i,function(t,e){s.push(e&&"object"==typeof e?n.formatSelection(e):e)})):i&&(s=n.formatSelection(i)),s=a.isArray(s)?s.join(this.options.viewseparator):s,o.superclass.value2html.call(this,s,e)},html2value:function(t){return this.options.select2.tags?this.str2value(t,this.options.viewseparator):null},value2input:function(t){if(this.$input.data("select2")?this.$input.val(t).trigger("change",!0):(this.$input.val(t),this.$input.select2(this.options.select2)),this.isRemote&&!this.isMultiple&&!this.options.select2.initSelection){var e=this.options.select2.id,i=this.options.select2.formatSelection;if(!e&&!i){var s={id:t,text:a(this.options.scope).text()};this.$input.select2("data",s)}}},input2value:function(){return this.$input.select2("val")},str2value:function(t,e){if("string"!=typeof t||!this.isMultiple)return t;var i,s,n;if(e=e||this.options.select2.separator||a.fn.select2.defaults.separator,null===t||t.length<1)return null;for(s=0,n=(i=t.split(e)).length;s<n;s+=1)i[s]=a.trim(i[s]);return i},autosubmit:function(){this.$input.on("change",function(t,e){e||a(this).closest("form").submit()})},convertSource:function(t){if(a.isArray(t)&&t.length&&void 0!==t[0].value)for(var e=0;e<t.length;e++)void 0!==t[e].value&&(t[e].id=t[e].value,delete t[e].value);return t},destroy:function(){this.$input.data("select2")&&this.$input.select2("destroy")}}),o.defaults=a.extend({},a.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="hidden">',select2:null,placeholder:null,source:null,viewseparator:", "}),a.fn.editabletypes.select2=o}(window.jQuery),function(o){var a=function(t,e){return this.$element=o(t),this.$element.is("input")?(this.options=o.extend({},o.fn.combodate.defaults,e,this.$element.data()),void this.init()):void o.error("Combodate should be applied to INPUT element")};a.prototype={constructor:a,init:function(){this.map={day:["D","date"],month:["M","month"],year:["Y","year"],hour:["[Hh]","hours"],minute:["m","minutes"],second:["s","seconds"],ampm:["[Aa]",""]},this.$widget=o('<span class="combodate"></span>').html(this.getTemplate()),this.initCombos(),this.$widget.on("change","select",o.proxy(function(){this.$element.val(this.getValue())},this)),this.$widget.find("select").css("width","auto"),this.$element.hide().after(this.$widget),this.setValue(this.$element.val()||this.options.value)},getTemplate:function(){var n=this.options.template;return o.each(this.map,function(t,e){e=e[0];var i=new RegExp(e+"+"),s=1<e.length?e.substring(1,2):e;n=n.replace(i,"{"+s+"}")}),n=n.replace(/ /g,"&nbsp;"),o.each(this.map,function(t,e){var i=1<(e=e[0]).length?e.substring(1,2):e;n=n.replace("{"+i+"}",'<select class="'+t+'"></select>')}),n},initCombos:function(){var n=this;o.each(this.map,function(t){var e,i,s=n.$widget.find("."+t);s.length&&(n["$"+t]=s,e="fill"+t.charAt(0).toUpperCase()+t.slice(1),i=n[e](),n["$"+t].html(n.renderItems(i)))})},initItems:function(t){var e,i=[];if("name"===this.options.firstItem){var s="function"==typeof(e=moment.relativeTime||moment.langData()._relativeTime)[t]?e[t](1,!0,t,!1):e[t];s=s.split(" ").reverse()[0],i.push(["",s])}else"empty"===this.options.firstItem&&i.push(["",""]);return i},renderItems:function(t){for(var e=[],i=0;i<t.length;i++)e.push('<option value="'+t[i][0]+'">'+t[i][1]+"</option>");return e.join("\n")},fillDay:function(){var t,e,i=this.initItems("d"),s=-1!==this.options.template.indexOf("DD");for(e=1;e<=31;e++)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillMonth:function(){var t,e,i=this.initItems("M"),s=-1!==this.options.template.indexOf("MMMM"),n=-1!==this.options.template.indexOf("MMM"),a=-1!==this.options.template.indexOf("MM");for(e=0;e<=11;e++)t=s?moment().date(1).month(e).format("MMMM"):n?moment().date(1).month(e).format("MMM"):a?this.leadZero(e+1):e+1,i.push([e,t]);return i},fillYear:function(){var t,e,i=[],s=-1!==this.options.template.indexOf("YYYY");for(e=this.options.maxYear;e>=this.options.minYear;e--)t=s?e:(e+"").substring(2),i[this.options.yearDescending?"push":"unshift"]([e,t]);return this.initItems("y").concat(i)},fillHour:function(){var t,e,i=this.initItems("h"),s=-1!==this.options.template.indexOf("h"),n=(this.options.template.indexOf("H"),-1!==this.options.template.toLowerCase().indexOf("hh")),a=s?12:23;for(e=s?1:0;e<=a;e++)t=n?this.leadZero(e):e,i.push([e,t]);return i},fillMinute:function(){var t,e,i=this.initItems("m"),s=-1!==this.options.template.indexOf("mm");for(e=0;e<=59;e+=this.options.minuteStep)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillSecond:function(){var t,e,i=this.initItems("s"),s=-1!==this.options.template.indexOf("ss");for(e=0;e<=59;e+=this.options.secondStep)t=s?this.leadZero(e):e,i.push([e,t]);return i},fillAmpm:function(){var t=-1!==this.options.template.indexOf("a");return this.options.template.indexOf("A"),[["am",t?"am":"AM"],["pm",t?"pm":"PM"]]},getValue:function(t){var e,i={},s=this,n=!1;return o.each(this.map,function(t){if("ampm"!==t){var e="day"===t?1:0;return i[t]=s["$"+t]?parseInt(s["$"+t].val(),10):e,isNaN(i[t])?!(n=!0):void 0}}),n?"":(this.$ampm&&(i.hour=12===i.hour?"am"===this.$ampm.val()?0:12:"am"===this.$ampm.val()?i.hour:i.hour+12),e=moment([i.year,i.month,i.day,i.hour,i.minute,i.second]),this.highlight(e),null===(t=void 0===t?this.options.format:t)?e.isValid()?e:null:e.isValid()?e.format(t):"")},setValue:function(t){function i(t,n){var a={};return t.children("option").each(function(t,e){var i,s=o(e).attr("value");""!==s&&(i=Math.abs(s-n),(void 0===a.distance||i<a.distance)&&(a={value:s,distance:i}))}),a.value}if(t){var s="string"==typeof t?moment(t,this.options.format):moment(t),n=this,a={};s.isValid()&&(o.each(this.map,function(t,e){"ampm"!==t&&(a[t]=s[e[1]]())}),this.$ampm&&(12<=a.hour?(a.ampm="pm",12<a.hour&&(a.hour-=12)):(a.ampm="am",0===a.hour&&(a.hour=12))),o.each(a,function(t,e){n["$"+t]&&("minute"===t&&1<n.options.minuteStep&&n.options.roundTime&&(e=i(n["$"+t],e)),"second"===t&&1<n.options.secondStep&&n.options.roundTime&&(e=i(n["$"+t],e)),n["$"+t].val(e))}),this.$element.val(s.format(this.options.format)))}},highlight:function(t){t.isValid()?this.options.errorClass?this.$widget.removeClass(this.options.errorClass):this.$widget.find("select").css("border-color",this.borderColor):this.options.errorClass?this.$widget.addClass(this.options.errorClass):(this.borderColor||(this.borderColor=this.$widget.find("select").css("border-color")),this.$widget.find("select").css("border-color","red"))},leadZero:function(t){return t<=9?"0"+t:t},destroy:function(){this.$widget.remove(),this.$element.removeData("combodate").show()}},o.fn.combodate=function(s){var t,n=Array.apply(null,arguments);return n.shift(),"getValue"===s&&this.length&&(t=this.eq(0).data("combodate"))?t.getValue.apply(t,n):this.each(function(){var t=o(this),e=t.data("combodate"),i="object"==typeof s&&s;e||t.data("combodate",e=new a(this,i)),"string"==typeof s&&"function"==typeof e[s]&&e[s].apply(e,n)})},o.fn.combodate.defaults={format:"DD-MM-YYYY HH:mm",template:"D / MMM / YYYY   H : mm",value:null,minYear:1970,maxYear:2015,yearDescending:!0,minuteStep:5,secondStep:1,firstItem:"empty",errorClass:null,roundTime:!0}}(window.jQuery),function(e){"use strict";var s=function(t){this.init("combodate",t,s.defaults),this.options.viewformat||(this.options.viewformat=this.options.format),t.combodate=e.fn.editableutils.tryParseJson(t.combodate,!0),this.options.combodate=e.extend({},s.defaults.combodate,t.combodate,{format:this.options.format,template:this.options.template})};e.fn.editableutils.inherit(s,e.fn.editabletypes.abstractinput),e.extend(s.prototype,{render:function(){this.$input.combodate(this.options.combodate),"bs3"===e.fn.editableform.engine&&this.$input.siblings().find("select").addClass("form-control"),this.options.inputclass&&this.$input.siblings().find("select").addClass(this.options.inputclass)},value2html:function(t,e){var i=t?t.format(this.options.viewformat):"";s.superclass.value2html.call(this,i,e)},html2value:function(t){return t?moment(t,this.options.viewformat):null},value2str:function(t){return t?t.format(this.options.format):""},str2value:function(t){return t?moment(t,this.options.format):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.combodate("setValue",t)},input2value:function(){return this.$input.combodate("getValue",null)},activate:function(){this.$input.siblings(".combodate").find("select").eq(0).focus()},autosubmit:function(){}}),s.defaults=e.extend({},e.fn.editabletypes.abstractinput.defaults,{tpl:'<input type="text">',inputclass:null,format:"YYYY-MM-DD",viewformat:null,template:"D / MMM / YYYY",combodate:null}),e.fn.editabletypes.combodate=s}(window.jQuery),function(o){"use strict";var r=o.fn.editableform.Constructor.prototype.initInput;o.extend(o.fn.editableform.Constructor.prototype,{initTemplate:function(){this.$form=o(o.fn.editableform.template),this.$form.find(".control-group").addClass("form-group"),this.$form.find(".editable-error-block").addClass("help-block")},initInput:function(){r.apply(this);var t=null===this.input.options.inputclass||!1===this.input.options.inputclass,e="input-sm",i="text,select,textarea,password,email,url,tel,number,range,time,typeaheadjs".split(",");~o.inArray(this.input.type,i)&&(this.input.$input.addClass("form-control"),t&&(this.input.options.inputclass=e,this.input.$input.addClass(e)));for(var s=this.$form.find(".editable-buttons"),n=t?[e]:this.input.options.inputclass.split(" "),a=0;a<n.length;a++)"input-lg"===n[a].toLowerCase()&&s.find("button").removeClass("btn-sm").addClass("btn-lg")}}),o.fn.editableform.buttons='<button type="submit" class="btn btn-primary btn-sm editable-submit"><i class="glyphicon glyphicon-ok"></i></button><button type="button" class="btn btn-default btn-sm editable-cancel"><i class="glyphicon glyphicon-remove"></i></button>',o.fn.editableform.errorGroupClass="has-error",o.fn.editableform.errorBlockClass=null,o.fn.editableform.engine="bs3"}(window.jQuery),function(e){"use strict";e.extend(e.fn.editableContainer.Popup.prototype,{containerName:"popover",containerDataName:"bs.popover",innerCss:".popover-content",defaults:e.fn.popover.Constructor.DEFAULTS,initContainer:function(){var t;e.extend(this.containerOptions,{trigger:"manual",selector:!1,content:" ",template:this.defaults.template}),this.$element.data("template")&&(t=this.$element.data("template"),this.$element.removeData("template")),this.call(this.containerOptions),t&&this.$element.data("template",t)},innerShow:function(){this.call("show")},innerHide:function(){this.call("hide")},innerDestroy:function(){this.call("destroy")},setContainerOption:function(t,e){this.container().options[t]=e},setPosition:function(){(function(){var t=this.tip(),e="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,i=this.getPosition(),s=t[0].offsetWidth,n=t[0].offsetHeight,a=this.getCalculatedOffset(e,i,s,n);this.applyPlacement(a,e)}).call(this.container())}})}(window.jQuery),function(k){function $(){return new Date(Date.UTC.apply(Date,arguments))}var v=function(t,e){this._process_options(e),this.element=k(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on, .btn"),this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=k(x.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&(this.picker.addClass("datepicker-rtl"),this.picker.find(".prev i, .next i").toggleClass("icon-arrow-left icon-arrow-right")),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this.o.startDate),this.setEndDate(this.o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};v.prototype={constructor:v,_process_options:function(t){this._o=k.extend({},this._o,t);var e=this.o=k.extend({},this._o),i=e.language;switch(C[i]||(i=i.split("-")[0],C[i]||(i=p.language)),e.language=i,e.startView){case 2:case"decade":e.startView=2;break;case 1:case"year":e.startView=1;break;default:e.startView=0}switch(e.minViewMode){case 1:case"months":e.minViewMode=1;break;case 2:case"years":e.minViewMode=2;break;default:e.minViewMode=0}e.startView=Math.max(e.startView,e.minViewMode),e.weekStart%=7,e.weekEnd=(e.weekStart+6)%7;var s=x.parseFormat(e.format);e.startDate!==-1/0&&(e.startDate=x.parseDate(e.startDate,s,e.language)),1/0!==e.endDate&&(e.endDate=x.parseDate(e.endDate,s,e.language)),e.daysOfWeekDisabled=e.daysOfWeekDisabled||[],k.isArray(e.daysOfWeekDisabled)||(e.daysOfWeekDisabled=e.daysOfWeekDisabled.split(/[,\s]*/)),e.daysOfWeekDisabled=k.map(e.daysOfWeekDisabled,function(t){return parseInt(t,10)})},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var e,i,s=0;s<t.length;s++)e=t[s][0],i=t[s][1],e.on(i)},_unapplyEvents:function(t){for(var e,i,s=0;s<t.length;s++)e=t[s][0],i=t[s][1],e.off(i)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:k.proxy(this.show,this),keyup:k.proxy(this.update,this),keydown:k.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:k.proxy(this.show,this),keyup:k.proxy(this.update,this),keydown:k.proxy(this.keydown,this)}],[this.component,{click:k.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:k.proxy(this.show,this)}]],this._secondaryEvents=[[this.picker,{click:k.proxy(this.click,this)}],[k(window),{resize:k.proxy(this.place,this)}],[k(document),{mousedown:k.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).size()||this.picker.is(t.target)||this.picker.find(t.target).size()||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,e){var i=e||this.date,s=new Date(i.getTime()+6e4*i.getTimezoneOffset());this.element.trigger({type:t,date:s,format:k.proxy(function(t){var e=t||this.o.format;return x.formatDate(i,e,this.o.language)},this)})},show:function(t){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),this._attachSecondaryEvents(),t&&t.preventDefault(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},getDate:function(){var t=this.getUTCDate();return new Date(t.getTime()+6e4*t.getTimezoneOffset())},getUTCDate:function(){return this.date},setDate:function(t){this.setUTCDate(new Date(t.getTime()-6e4*t.getTimezoneOffset()))},setUTCDate:function(t){this.date=t,this.setValue()},setValue:function(){var t=this.getFormattedDate();this.isInput?this.element.val(t):this.component&&this.element.find("input").val(t)},getFormattedDate:function(t){return void 0===t&&(t=this.o.format),x.formatDate(this.date,t,this.o.language)},setStartDate:function(t){this._process_options({startDate:t}),this.update(),this.updateNavArrows()},setEndDate:function(t){this._process_options({endDate:t}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(t){this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=parseInt(this.element.parents().filter(function(){return"auto"!=k(this).css("z-index")}).first().css("z-index"))+10,e=this.component?this.component.parent().offset():this.element.offset(),i=this.component?this.component.outerHeight(!0):this.element.outerHeight(!0);this.picker.css({top:e.top+i,left:e.left,zIndex:t})}},_allow_update:!0,update:function(){if(this._allow_update){var t,e=!1;arguments&&arguments.length&&("string"==typeof arguments[0]||arguments[0]instanceof Date)?(t=arguments[0],e=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),delete this.element.data().date),this.date=x.parseDate(t,this.o.format,this.o.language),e&&this.setValue(),this.viewDate=this.date<this.o.startDate?new Date(this.o.startDate):this.date>this.o.endDate?new Date(this.o.endDate):new Date(this.date),this.fill()}},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){var i='<th class="cw">&nbsp;</th>';e+=i,this.picker.find(".datepicker-days thead tr:first-child").prepend(i)}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+C[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+C[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(t){t&&t.length?this.range=k.map(t,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var e=[],i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),n=this.date.valueOf(),a=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()==i&&t.getUTCMonth()<s?e.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()==i&&t.getUTCMonth()>s)&&e.push("new"),this.o.todayHighlight&&t.getUTCFullYear()==a.getFullYear()&&t.getUTCMonth()==a.getMonth()&&t.getUTCDate()==a.getDate()&&e.push("today"),n&&t.valueOf()==n&&e.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==k.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&e.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&e.push("range"),-1!=k.inArray(t.valueOf(),this.range)&&e.push("selected")),e},fill:function(){var t,e=new Date(this.viewDate),i=e.getUTCFullYear(),s=e.getUTCMonth(),n=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,o=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,r=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0;this.date&&this.date.valueOf(),this.picker.find(".datepicker-days thead th.datepicker-switch").text(C[this.o.language].months[s]+" "+i),this.picker.find("tfoot th.today").text(C[this.o.language].today).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot th.clear").text(C[this.o.language].clear).toggle(!1!==this.o.clearBtn),this.updateNavArrows(),this.fillMonths();var l=$(i,s-1,28,0,0,0,0),h=x.getDaysInMonth(l.getUTCFullYear(),l.getUTCMonth());l.setUTCDate(h),l.setUTCDate(h-(l.getUTCDay()-this.o.weekStart+7)%7);var u=new Date(l);u.setUTCDate(u.getUTCDate()+42),u=u.valueOf();for(var p,d=[];l.valueOf()<u;){if(l.getUTCDay()==this.o.weekStart&&(d.push("<tr>"),this.o.calendarWeeks)){var c=new Date(+l+(this.o.weekStart-l.getUTCDay()-7)%7*864e5),f=new Date(+c+(11-c.getUTCDay())%7*864e5),m=new Date(+(m=$(f.getUTCFullYear(),0,1))+(11-m.getUTCDay())%7*864e5),v=(f-m)/864e5/7+1;d.push('<td class="cw">'+v+"</td>")}(p=this.getClassNames(l)).push("day");var y=this.o.beforeShowDay(l);void 0===y?y={}:"boolean"==typeof y?y={enabled:y}:"string"==typeof y&&(y={classes:y}),!1===y.enabled&&p.push("disabled"),y.classes&&(p=p.concat(y.classes.split(/\s+/))),y.tooltip&&(t=y.tooltip),p=k.unique(p),d.push('<td class="'+p.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+l.getUTCDate()+"</td>"),l.getUTCDay()==this.o.weekEnd&&d.push("</tr>"),l.setUTCDate(l.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(d.join(""));var b=this.date&&this.date.getUTCFullYear(),g=this.picker.find(".datepicker-months").find("th:eq(1)").text(i).end().find("span").removeClass("active");b&&b==i&&g.eq(this.date.getUTCMonth()).addClass("active"),(i<n||o<i)&&g.addClass("disabled"),i==n&&g.slice(0,a).addClass("disabled"),i==o&&g.slice(r+1).addClass("disabled"),d="",i=10*parseInt(i/10,10);var w=this.picker.find(".datepicker-years").find("th:eq(1)").text(i+"-"+(i+9)).end().find("td");i-=1;for(var D=-1;D<11;D++)d+='<span class="year'+(-1==D?" old":10==D?" new":"")+(b==i?" active":"")+(i<n||o<i?" disabled":"")+'">'+i+"</span>",i+=1;w.html(d)},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),i=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()&&i<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()&&i>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-1/0&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),1/0!==this.o.endDate&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(t){t.preventDefault();var e=k(t.target).closest("span, td, th");if(1==e.length)switch(e[0].nodeName.toLowerCase()){case"th":switch(e[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var i=x.modes[this.viewMode].navStep*("prev"==e[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,i);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,i)}this.fill();break;case"today":var s=new Date;s=$(s.getFullYear(),s.getMonth(),s.getDate(),0,0,0),this.showMode(-2);var n="linked"==this.o.todayBtn?null:"view";this._setDate(s,n);break;case"clear":var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input")),a&&a.val("").change(),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()}break;case"span":if(!e.is(".disabled")){if(this.viewDate.setUTCDate(1),e.is(".month")){var o=1,r=e.parent().find("span").index(e),l=this.viewDate.getUTCFullYear();this.viewDate.setUTCMonth(r),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate($(l,r,o,0,0,0,0))}else{l=parseInt(e.text(),10)||0,o=1,r=0;this.viewDate.setUTCFullYear(l),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate($(l,r,o,0,0,0,0))}this.showMode(-1),this.fill()}break;case"td":if(e.is(".day")&&!e.is(".disabled")){o=parseInt(e.text(),10)||1,l=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth();e.is(".old")?0===r?(r=11,l-=1):r-=1:e.is(".new")&&(11==r?(r=0,l+=1):r+=1),this._setDate($(l,r,o,0,0,0,0))}}},_setDate:function(t,e){var i;e&&"date"!=e||(this.date=new Date(t)),e&&"view"!=e||(this.viewDate=new Date(t)),this.fill(),this.setValue(),this._trigger("changeDate"),this.isInput?i=this.element:this.component&&(i=this.element.find("input")),i&&(i.change(),!this.o.autoclose||e&&"date"!=e||this.hide())},moveMonth:function(t,e){if(!e)return t;var i,s,n=new Date(t.valueOf()),a=n.getUTCDate(),o=n.getUTCMonth(),r=Math.abs(e);if(e=0<e?1:-1,1==r)s=-1==e?function(){return n.getUTCMonth()==o}:function(){return n.getUTCMonth()!=i},i=o+e,n.setUTCMonth(i),(i<0||11<i)&&(i=(i+12)%12);else{for(var l=0;l<r;l++)n=this.moveMonth(n,e);i=n.getUTCMonth(),n.setUTCDate(a),s=function(){return i!=n.getUTCMonth()}}for(;s();)n.setUTCDate(--a),n.setUTCMonth(i);return n},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(this.picker.is(":not(:visible)"))27==t.keyCode&&this.show();else{var e,i,s,n,a=!1;switch(t.keyCode){case 27:this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):((i=new Date(this.date)).setUTCDate(this.date.getUTCDate()+e),(s=new Date(this.viewDate)).setUTCDate(this.viewDate.getUTCDate()+e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),a=!0);break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38==t.keyCode?-1:1,t.ctrlKey?(i=this.moveYear(this.date,e),s=this.moveYear(this.viewDate,e)):t.shiftKey?(i=this.moveMonth(this.date,e),s=this.moveMonth(this.viewDate,e)):((i=new Date(this.date)).setUTCDate(this.date.getUTCDate()+7*e),(s=new Date(this.viewDate)).setUTCDate(this.viewDate.getUTCDate()+7*e)),this.dateWithinRange(i)&&(this.date=i,this.viewDate=s,this.setValue(),this.update(),t.preventDefault(),a=!0);break;case 13:this.hide(),t.preventDefault();break;case 9:this.hide()}if(a)this._trigger("changeDate"),this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+x.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(t,e){this.element=k(t),this.inputs=k.map(e.inputs,function(t){return t.jquery?t[0]:t}),delete e.inputs,k(this.inputs).datepicker(e).bind("changeDate",k.proxy(this.dateUpdated,this)),this.pickers=k.map(this.inputs,function(t){return k(t).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=k.map(this.pickers,function(t){return t.date}),this.updateRanges()},updateRanges:function(){var i=k.map(this.dates,function(t){return t.valueOf()});k.each(this.pickers,function(t,e){e.setRange(i)})},dateUpdated:function(t){var e=k(t.target).data("datepicker").getUTCDate(),i=k.inArray(t.target,this.inputs),s=this.inputs.length;if(-1!=i){if(e<this.dates[i])for(;0<=i&&e<this.dates[i];)this.pickers[i--].setUTCDate(e);else if(e>this.dates[i])for(;i<s&&e>this.dates[i];)this.pickers[i++].setUTCDate(e);this.updateDates()}},remove:function(){k.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var t=k.fn.datepicker,i=k.fn.datepicker=function(r){var l,h=Array.apply(null,arguments);return h.shift(),this.each(function(){var t=k(this),e=t.data("datepicker"),i="object"==typeof r&&r;if(!e){var s=function(t,e){var i=k(t).data(),s={},n=new RegExp("^"+e.toLowerCase()+"([A-Z])");for(var a in e=new RegExp("^"+e.toLowerCase()),i)e.test(a)&&(s[a.replace(n,function(t,e){return e.toLowerCase()})]=i[a]);return s}(this,"date"),n=function(t){var i={};if(C[t]||(t=t.split("-")[0],C[t])){var s=C[t];return k.each(d,function(t,e){e in s&&(i[e]=s[e])}),i}}(k.extend({},p,s,i).language),a=k.extend({},p,n,s,i);if(t.is(".input-daterange")||a.inputs){var o={inputs:a.inputs||t.find("input").toArray()};t.data("datepicker",e=new u(this,k.extend(a,o)))}else t.data("datepicker",e=new v(this,a))}return("string"!=typeof r||"function"!=typeof e[r]||void 0===(l=e[r].apply(e,h)))&&void 0}),void 0!==l?l:this},p=k.fn.datepicker.defaults={autoclose:!1,beforeShowDay:k.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},d=k.fn.datepicker.locale_opts=["format","rtl","weekStart"];k.fn.datepicker.Constructor=v;var C=k.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},x={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return 0==t%4&&0!=t%100||0==t%400},getDaysInMonth:function(t,e){return[31,x.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\0").split("\0"),i=t.match(this.validParts);if(!e||!e.length||!i||0===i.length)throw new Error("Invalid date format.");return{separators:e,parts:i}},parseDate:function(t,e,i){if(t instanceof Date)return t;if("string"==typeof e&&(e=x.parseFormat(e)),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(t)){var s,n=/([\-+]\d+)([dmwy])/,a=t.match(/([\-+]\d+)([dmwy])/g);t=new Date;for(var o=0;o<a.length;o++)switch(h=n.exec(a[o]),s=parseInt(h[1]),h[2]){case"d":t.setUTCDate(t.getUTCDate()+s);break;case"m":t=v.prototype.moveMonth.call(v.prototype,t,s);break;case"w":t.setUTCDate(t.getUTCDate()+7*s);break;case"y":t=v.prototype.moveYear.call(v.prototype,t,s)}return $(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),0,0,0)}a=t&&t.match(this.nonpunctuation)||[],t=new Date;var r,l,h,u={},p=["yyyy","yy","M","MM","m","mm","d","dd"],d={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){for(e-=1;e<0;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!=e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};d.M=d.MM=d.mm=d.m,d.dd=d.d,t=$(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0);var c=e.parts.slice();if(a.length!=c.length&&(c=k(c).filter(function(t,e){return-1!==k.inArray(e,p)}).toArray()),a.length==c.length){o=0;for(var f=c.length;o<f;o++){if(r=parseInt(a[o],10),h=c[o],isNaN(r))switch(h){case"MM":l=k(C[i].months).filter(function(){var t=this.slice(0,a[o].length);return t==a[o].slice(0,t.length)}),r=k.inArray(l[0],C[i].months)+1;break;case"M":l=k(C[i].monthsShort).filter(function(){var t=this.slice(0,a[o].length);return t==a[o].slice(0,t.length)}),r=k.inArray(l[0],C[i].monthsShort)+1}u[h]=r}var m;for(o=0;o<p.length;o++)(m=p[o])in u&&!isNaN(u[m])&&d[m](t,u[m])}return t},formatDate:function(t,e,i){"string"==typeof e&&(e=x.parseFormat(e));var s={d:t.getUTCDate(),D:C[i].daysShort[t.getUTCDay()],DD:C[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:C[i].monthsShort[t.getUTCMonth()],MM:C[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m;t=[];for(var n=k.extend([],e.separators),a=0,o=e.parts.length;a<=o;a++)n.length&&t.push(n.shift()),t.push(s[e.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev"><i class="icon-arrow-left"/></th><th colspan="5" class="datepicker-switch"></th><th class="next"><i class="icon-arrow-right"/></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};x.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+x.headTemplate+"<tbody></tbody>"+x.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+x.headTemplate+x.contTemplate+x.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+x.headTemplate+x.contTemplate+x.footTemplate+"</table></div></div>",k.fn.datepicker.DPGlobal=x,k.fn.datepicker.noConflict=function(){return k.fn.datepicker=t,this},k(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var e=k(this);e.data("datepicker")||(t.preventDefault(),i.call(e,"show"))}),k(function(){i.call(k('[data-provide="datepicker-inline"]'))})}(window.jQuery),function(i){"use strict";i.fn.bdatepicker=i.fn.datepicker.noConflict(),i.fn.datepicker||(i.fn.datepicker=i.fn.bdatepicker);var s=function(t){this.init("date",t,s.defaults),this.initPicker(t,s.defaults)};i.fn.editableutils.inherit(s,i.fn.editabletypes.abstractinput),i.extend(s.prototype,{initPicker:function(t,e){this.options.viewformat||(this.options.viewformat=this.options.format),t.datepicker=i.fn.editableutils.tryParseJson(t.datepicker,!0),this.options.datepicker=i.extend({},e.datepicker,t.datepicker,{format:this.options.viewformat}),this.options.datepicker.language=this.options.datepicker.language||"en",this.dpg=i.fn.bdatepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat)},render:function(){this.$input.bdatepicker(this.options.datepicker),this.options.clear&&(this.$clear=i('<a href="#"></a>').html(this.options.clear).click(i.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(i('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,e){var i=t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):"";s.superclass.value2html.call(this,i,e)},html2value:function(t){return this.parseDate(t,this.parsedViewFormat)},value2str:function(t){return t?this.dpg.formatDate(t,this.parsedFormat,this.options.datepicker.language):""},str2value:function(t){return this.parseDate(t,this.parsedFormat)},value2submit:function(t){return this.value2str(t)},value2input:function(t){this.$input.bdatepicker("update",t)},input2value:function(){return this.$input.data("datepicker").date},activate:function(){},clear:function(){this.$input.data("datepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".day",function(t){if(!i(t.currentTarget).is(".old")&&!i(t.currentTarget).is(".new")){var e=i(this).closest("form");setTimeout(function(){e.submit()},200)}})},parseDate:function(t,e){var i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datepicker.language),"string"==typeof t&&(t!==this.dpg.formatDate(i,e,this.options.datepicker.language)&&(i=null))),i}}),s.defaults=i.extend({},i.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd",viewformat:null,datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!1},clear:"&times; clear"}),i.fn.editabletypes.date=s}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.date),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.bdatepicker(this.options.datepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.bdatepicker("update")},this))},value2input:function(t){this.$input.val(t?this.dpg.formatDate(t,this.parsedViewFormat,this.options.datepicker.language):""),this.$tpl.bdatepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.date.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-small",datepicker:{weekStart:0,startView:0,minViewMode:0,autoclose:!0}}),t.fn.editabletypes.datefield=e}(window.jQuery),function(i){"use strict";var s=function(t){this.init("datetime",t,s.defaults),this.initPicker(t,s.defaults)};i.fn.editableutils.inherit(s,i.fn.editabletypes.abstractinput),i.extend(s.prototype,{initPicker:function(t,e){this.options.viewformat||(this.options.viewformat=this.options.format),t.datetimepicker=i.fn.editableutils.tryParseJson(t.datetimepicker,!0),this.options.datetimepicker=i.extend({},e.datetimepicker,t.datetimepicker,{format:this.options.viewformat}),this.options.datetimepicker.language=this.options.datetimepicker.language||"en",this.dpg=i.fn.datetimepicker.DPGlobal,this.parsedFormat=this.dpg.parseFormat(this.options.format,this.options.formatType),this.parsedViewFormat=this.dpg.parseFormat(this.options.viewformat,this.options.formatType)},render:function(){this.$input.datetimepicker(this.options.datetimepicker),this.$input.on("changeMode",function(){var t=i(this).closest("form").parent();setTimeout(function(){t.triggerHandler("resize")},0)}),this.options.clear&&(this.$clear=i('<a href="#"></a>').html(this.options.clear).click(i.proxy(function(t){t.preventDefault(),t.stopPropagation(),this.clear()},this)),this.$tpl.parent().append(i('<div class="editable-clear">').append(this.$clear)))},value2html:function(t,e){var i=t?this.dpg.formatDate(this.toUTC(t),this.parsedViewFormat,this.options.datetimepicker.language,this.options.formatType):"";return e?void s.superclass.value2html.call(this,i,e):i},html2value:function(t){var e=this.parseDate(t,this.parsedViewFormat);return e?this.fromUTC(e):null},value2str:function(t){return t?this.dpg.formatDate(this.toUTC(t),this.parsedFormat,this.options.datetimepicker.language,this.options.formatType):""},str2value:function(t){var e=this.parseDate(t,this.parsedFormat);return e?this.fromUTC(e):null},value2submit:function(t){return this.value2str(t)},value2input:function(t){t&&this.$input.data("datetimepicker").setDate(t)},input2value:function(){var t=this.$input.data("datetimepicker");return t.date?t.getDate():null},activate:function(){},clear:function(){this.$input.data("datetimepicker").date=null,this.$input.find(".active").removeClass("active"),this.options.showbuttons||this.$input.closest("form").submit()},autosubmit:function(){this.$input.on("mouseup",".minute",function(){var t=i(this).closest("form");setTimeout(function(){t.submit()},200)})},toUTC:function(t){return t?new Date(t.valueOf()-6e4*t.getTimezoneOffset()):t},fromUTC:function(t){return t?new Date(t.valueOf()+6e4*t.getTimezoneOffset()):t},parseDate:function(t,e){var i=null;return t&&(i=this.dpg.parseDate(t,e,this.options.datetimepicker.language,this.options.formatType),"string"==typeof t&&(t!==this.dpg.formatDate(i,e,this.options.datetimepicker.language,this.options.formatType)&&(i=null))),i}}),s.defaults=i.extend({},i.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-date well"></div>',inputclass:null,format:"yyyy-mm-dd hh:ii",formatType:"standard",viewformat:null,datetimepicker:{todayHighlight:!1,autoclose:!1},clear:"&times; clear"}),i.fn.editabletypes.datetime=s}(window.jQuery),function(t){"use strict";var e=function(t){this.init("datetimefield",t,e.defaults),this.initPicker(t,e.defaults)};t.fn.editableutils.inherit(e,t.fn.editabletypes.datetime),t.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input"),this.setClass(),this.setAttr("placeholder"),this.$tpl.datetimepicker(this.options.datetimepicker),this.$input.off("focus keydown"),this.$input.keyup(t.proxy(function(){this.$tpl.removeData("date"),this.$tpl.datetimepicker("update")},this))},value2input:function(t){this.$input.val(this.value2html(t)),this.$tpl.datetimepicker("update")},input2value:function(){return this.html2value(this.$input.val())},activate:function(){t.fn.editabletypes.text.prototype.activate.call(this)},autosubmit:function(){}}),e.defaults=t.extend({},t.fn.editabletypes.datetime.defaults,{tpl:'<div class="input-append date"><input type="text"/><span class="add-on"><i class="icon-th"></i></span></div>',inputclass:"input-medium",datetimepicker:{todayHighlight:!1,autoclose:!0}}),t.fn.editabletypes.datetimefield=e}(window.jQuery);
!function(a,ye){"use strict";function e(e,t,n){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(t===ye)throw"invalid module definition, dependencies must be specified";if(n===ye)throw"invalid module definition, definition function must be specified";!function(e,t){for(var n,i=[],r=0;r<e.length;++r){if(!(n=s[e[r]]||o(e[r])))throw"module definition dependecy not found: "+e[r];i.push(n)}t.apply(null,i)}(t,function(){s[e]=n.apply(null,arguments)})}function o(e){for(var t=a,n=e.split(/[.\/]/),i=0;i<n.length;++i){if(!t[n[i]])return;t=t[n[i]]}return t}var s={},t="tinymce/dom/EventUtils",n="tinymce/dom/Sizzle",i="tinymce/Env",r="tinymce/util/Tools",l="tinymce/dom/DomQuery",c="tinymce/html/Styles",d="tinymce/dom/TreeWalker",u="tinymce/dom/Range",f="tinymce/html/Entities",h="tinymce/dom/StyleSheetLoader",p="tinymce/dom/DOMUtils",m="tinymce/dom/ScriptLoader",g="tinymce/AddOnManager",v="tinymce/dom/RangeUtils",y="tinymce/NodeChange",b="tinymce/html/Node",C="tinymce/html/Schema",x="tinymce/html/SaxParser",w="tinymce/html/DomParser",_="tinymce/html/Writer",E="tinymce/html/Serializer",N="tinymce/dom/Serializer",k="tinymce/dom/TridentSelection",S="tinymce/util/VK",T="tinymce/dom/ControlSelection",R="tinymce/dom/BookmarkManager",A="tinymce/dom/Selection",B="tinymce/dom/ElementUtils",D="tinymce/fmt/Preview",L="tinymce/Formatter",M="tinymce/UndoManager",H="tinymce/EnterKey",P="tinymce/ForceBlocks",O="tinymce/EditorCommands",I="tinymce/util/URI",F="tinymce/util/Class",z="tinymce/util/EventDispatcher",W="tinymce/ui/Selector",V="tinymce/ui/Collection",U="tinymce/ui/DomUtils",$="tinymce/ui/Control",q="tinymce/ui/Factory",j="tinymce/ui/KeyboardNavigation",K="tinymce/ui/Container",Y="tinymce/ui/DragHelper",G="tinymce/ui/Scrollable",X="tinymce/ui/Panel",J="tinymce/ui/Movable",Q="tinymce/ui/Resizable",Z="tinymce/ui/FloatPanel",ee="tinymce/ui/Window",te="tinymce/ui/MessageBox",ne="tinymce/WindowManager",ie="tinymce/util/Quirks",re="tinymce/util/Observable",oe="tinymce/EditorObservable",ae="tinymce/Shortcuts",se="tinymce/Editor",le="tinymce/util/I18n",ce="tinymce/FocusManager",de="tinymce/EditorManager",ue="tinymce/LegacyInput",fe="tinymce/util/XHR",he="tinymce/util/JSON",pe="tinymce/util/JSONRequest",me="tinymce/util/JSONP",ge="tinymce/util/LocalStorage",ve="tinymce/Compat",be="tinymce/ui/Layout",Ce="tinymce/ui/AbsoluteLayout",xe="tinymce/ui/Tooltip",we="tinymce/ui/Widget",_e="tinymce/ui/Button",Ee="tinymce/ui/ButtonGroup",Ne="tinymce/ui/Checkbox",ke="tinymce/ui/ComboBox",Se="tinymce/ui/ColorBox",Te="tinymce/ui/PanelButton",Re="tinymce/ui/ColorButton",Ae="tinymce/util/Color",Be="tinymce/ui/ColorPicker",De="tinymce/ui/Path",Le="tinymce/ui/ElementPath",Me="tinymce/ui/FormItem",He="tinymce/ui/Form",Pe="tinymce/ui/FieldSet",Oe="tinymce/ui/FilePicker",Ie="tinymce/ui/FitLayout",Fe="tinymce/ui/FlexLayout",ze="tinymce/ui/FlowLayout",We="tinymce/ui/FormatControls",Ve="tinymce/ui/GridLayout",Ue="tinymce/ui/Iframe",$e="tinymce/ui/Label",qe="tinymce/ui/Toolbar",je="tinymce/ui/MenuBar",Ke="tinymce/ui/MenuButton",Ye="tinymce/ui/ListBox",Ge="tinymce/ui/MenuItem",Xe="tinymce/ui/Menu",Je="tinymce/ui/Radio",Qe="tinymce/ui/ResizeHandle",Ze="tinymce/ui/Spacer",et="tinymce/ui/SplitButton",tt="tinymce/ui/StackLayout",nt="tinymce/ui/TabPanel",it="tinymce/ui/TextBox",rt="tinymce/ui/Throbber";e(t,[],function(){function x(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function f(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function w(e,t){function n(){return!1}function i(){return!0}var r,o=t||{};for(r in e)d[r]||(o[r]=e[r]);if(o.target||(o.target=o.srcElement||document),e&&c.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var a=o.target.ownerDocument||document,s=a.documentElement,l=a.body;o.pageX=e.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),o.pageY=e.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=i,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=i,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=i,o.stopPropagation()},o.isDefaultPrevented||(o.isDefaultPrevented=n,o.isPropagationStopped=n,o.isImmediatePropagationStopped=n),o}function _(e,t,n){function i(){n.domLoaded||(n.domLoaded=!0,t(o))}var r=e.document,o={type:"ready"};return n.domLoaded?void t(o):(r.addEventListener?"complete"===r.readyState?i():x(e,"DOMContentLoaded",i):(x(r,"readystatechange",function e(){("complete"===r.readyState||"interactive"===r.readyState&&r.body)&&(f(r,"readystatechange",e),i())}),r.documentElement.doScroll&&e.self===e.top&&function t(){try{r.documentElement.doScroll("left")}catch(e){return void setTimeout(t,0)}i()}()),void x(e,"load",i))}function e(){function h(e,t){var n,i,r,o,a=C[t];if(n=a&&a[e.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}var p,m,g,v,y,b=this,C={};m="mce-data-"+(+new Date).toString(32),v="onmouseenter"in document.documentElement,g="onfocusin"in document.documentElement,y={mouseenter:"mouseover",mouseleave:"mouseout"},p=1,b.domLoaded=!1,b.events=C,b.bind=function(e,t,n,i){function r(e){h(w(e||f.event),o)}var o,a,s,l,c,d,u,f=window;if(e&&3!==e.nodeType&&8!==e.nodeType){for(e[m]?o=e[m]:(o=p++,e[m]=o,C[o]={}),i=i||e,s=(t=t.split(" ")).length;s--;)d=r,c=u=!1,"DOMContentLoaded"===(l=t[s])&&(l="ready"),b.domLoaded&&"ready"===l&&"complete"==e.readyState?n.call(i,w({type:l})):(v||(c=y[l])&&(d=function(e){var t,n;if(t=e.currentTarget,(n=e.relatedTarget)&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=w(e||f.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,h(e,o))}),g||"focusin"!==l&&"focusout"!==l||(u=!0,c="focusin"===l?"focus":"blur",d=function(e){(e=w(e||f.event)).type="focus"===e.type?"focusin":"focusout",h(e,o)}),(a=C[o][l])?"ready"===l&&b.domLoaded?n({type:l}):a.push({func:n,scope:i}):(C[o][l]=a=[{func:n,scope:i}],a.fakeName=c,a.capture=u,a.nativeHandler=d,"ready"===l?_(e,d,b):x(e,c||l,d,u)));return e=a=0,n}},b.unbind=function(t,e,n){var i,r,o,a,s,l;if(!t||3===t.nodeType||8===t.nodeType)return b;if(i=t[m]){if(l=C[i],e){for(o=(e=e.split(" ")).length;o--;)if(r=l[s=e[o]]){if(n)for(a=r.length;a--;)if(r[a].func===n){var c=r.nativeHandler,d=r.fakeName,u=r.capture;(r=r.slice(0,a).concat(r.slice(a+1))).nativeHandler=c,r.fakeName=d,r.capture=u,l[s]=r}n&&0!==r.length||(delete l[s],f(t,r.fakeName||s,r.nativeHandler,r.capture))}}else{for(s in l)f(t,(r=l[s]).fakeName||s,r.nativeHandler,r.capture);l={}}for(s in l)return b;delete C[i];try{delete t[m]}catch(e){t[m]=null}}return b},b.fire=function(e,t,n){var i;if(!e||3===e.nodeType||8===e.nodeType)return b;for((n=w(null,n)).type=t,n.target=e;(i=e[m])&&h(n,i),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!n.isPropagationStopped(););return b},b.clean=function(e){var t,n,i=b.unbind;if(!e||3===e.nodeType||8===e.nodeType)return b;if(e[m]&&i(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(i(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[m]&&i(e);return b},b.destroy=function(){C={}},b.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}}var c=/^(?:mouse|contextmenu)|click/,d={keyLocation:1,layerX:1,layerY:1,returnValue:1};return(e.Event=new e).bind(window,"ready",function(){}),e}),e(n,[],function(){function C(e,t,n,i){var r,o,a,s,l,c,d,u,f,h;if((t?t.ownerDocument||t:O)!==R&&T(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=(t=t||R).nodeType)&&9!==s)return[];if(B&&!i){if(r=he.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&H(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return G.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&g.getElementsByClassName)return G.apply(n,t.getElementsByClassName(a)),n}if(g.qsa&&(!D||!D.test(e))){if(u=d=P,f=t,h=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=_(e),(d=t.getAttribute("id"))?u=d.replace(me,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+m(c[l]);f=pe.test(e)&&p(t.parentNode)||t,h=c.join(",")}if(h)try{return G.apply(n,f.querySelectorAll(h)),n}catch(e){}finally{d||t.removeAttribute("id")}}}return E(e.replace(ie,"$1"),t,n,i)}function e(){var i=[];return function e(t,n){return i.push(t+" ")>w.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function l(e){return e[P]=!0,e}function i(e){var t=R.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function c(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function n(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function o(a){return l(function(o){return o=+o,l(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function p(e){return e&&typeof e.getElementsByTagName!==$&&e}function a(){}function m(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function u(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=F++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,r,o=[I,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(r=e[P]||(e[P]={}))[s])&&i[0]===I&&i[1]===c)return o[2]=i[2];if((r[s]=o)[2]=a(e,t,n))return!0}}}function f(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function x(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function y(h,p,m,g,v,e){return g&&!g[P]&&(g=y(g)),v&&!v[P]&&(v=y(v,e)),l(function(e,t,n,i){var r,o,a,s=[],l=[],c=t.length,d=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)C(e,t[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),u=!h||!e&&p?d:x(d,s,h,n,i),f=m?v||(e?h:c||g)?[]:t:u;if(m&&m(u,f,n,i),g)for(r=x(f,l),g(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[l[o]]=!(u[l[o]]=a));if(e){if(v||h){if(v){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(u[o]=a);v(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=v?J.call(e,a):s[o])&&(e[r]=!(t[r]=a))}}else f=x(f===t?f.splice(c,f.length):f),v?v(null,t,f,i):G.apply(t,f)})}function h(e){for(var i,t,n,r=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=u(function(e){return e===i},a,!0),c=u(function(e){return-1<J.call(i,e)},a,!0),d=[function(e,t,n){return!o&&(n||t!==N)||((i=t).nodeType?l(e,t,n):c(e,t,n))}];s<r;s++)if(t=w.relative[e[s].type])d=[u(f(d),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[P]){for(n=++s;n<r&&!w.relative[e[n].type];n++);return y(1<s&&f(d),1<s&&m(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ie,"$1"),t,s<n&&h(e.slice(s,n)),n<r&&h(e=e.slice(n)),n<r&&m(e))}d.push(t)}return f(d)}var s,g,w,d,v,_,b,E,N,k,S,T,R,A,B,D,L,M,H,P="sizzle"+-new Date,O=window.document,I=0,F=0,z=e(),W=e(),V=e(),U=function(e,t){return e===t&&(S=!0),0},$=typeof ye,q={}.hasOwnProperty,j=[],K=j.pop,Y=j.push,G=j.push,X=j.slice,J=j.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Z="[\\x20\\t\\r\\n\\f]",ee="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",te="\\["+Z+"*("+ee+")(?:"+Z+"*([*^$|!~]?=)"+Z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ee+"))|)"+Z+"*\\]",ne=":("+ee+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+te+")*)|.*)\\)|)",ie=new RegExp("^"+Z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Z+"+$","g"),re=new RegExp("^"+Z+"*,"+Z+"*"),oe=new RegExp("^"+Z+"*([>+~]|"+Z+")"+Z+"*"),ae=new RegExp("="+Z+"*([^\\]'\"]*?)"+Z+"*\\]","g"),se=new RegExp(ne),le=new RegExp("^"+ee+"$"),ce={ID:new RegExp("^#("+ee+")"),CLASS:new RegExp("^\\.("+ee+")"),TAG:new RegExp("^("+ee+"|[*])"),ATTR:new RegExp("^"+te),PSEUDO:new RegExp("^"+ne),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Z+"*(even|odd|(([+-]|)(\\d*)n|)"+Z+"*(?:([+-]|)"+Z+"*(\\d+)|))"+Z+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+Z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Z+"*((?:-\\d)?\\d*)"+Z+"*\\)|)(?=[^-]|$)","i")},de=/^(?:input|select|textarea|button)$/i,ue=/^h\d$/i,fe=/^[^{]+\{\s*\[native \w/,he=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,pe=/[+~]/,me=/'|\\/g,ge=new RegExp("\\\\([\\da-f]{1,6}"+Z+"?|("+Z+")|.)","ig"),ve=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{G.apply(j=X.call(O.childNodes),O.childNodes),j[O.childNodes.length].nodeType}catch(e){G={apply:j.length?function(e,t){Y.apply(e,X.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(s in g=C.support={},v=C.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},T=C.setDocument=function(e){var t,l=e?e.ownerDocument||e:O,n=l.defaultView;return l!==R&&9===l.nodeType&&l.documentElement?(A=(R=l).documentElement,B=!v(l),n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",function(){T()},!1):n.attachEvent&&n.attachEvent("onunload",function(){T()})),g.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),g.getElementsByTagName=i(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),g.getElementsByClassName=fe.test(l.getElementsByClassName),g.getById=i(function(e){return A.appendChild(e).id=P,!l.getElementsByName||!l.getElementsByName(P).length}),g.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==$&&B){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(ge,ve);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(ge,ve);return function(e){var t=typeof e.getAttributeNode!==$&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=g.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==$?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=g.getElementsByClassName&&function(e,t){return B?t.getElementsByClassName(e):void 0},L=[],D=[],(g.qsa=fe.test(l.querySelectorAll))&&(i(function(e){e.innerHTML="<select msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+Z+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||D.push("\\["+Z+"*(?:value|"+Q+")"),e.querySelectorAll(":checked").length||D.push(":checked")}),i(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&D.push("name"+Z+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),D.push(",.*:")})),(g.matchesSelector=fe.test(M=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&i(function(e){g.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),L.push("!=",ne)}),D=D.length&&new RegExp(D.join("|")),L=L.length&&new RegExp(L.join("|")),t=fe.test(A.compareDocumentPosition),H=t||fe.test(A.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return S=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!g.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===O&&H(O,e)?-1:t===l||t.ownerDocument===O&&H(O,t)?1:k?J.call(k,e)-J.call(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return S=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===l?-1:t===l?1:r?-1:o?1:k?J.call(k,e)-J.call(k,t):0;if(r===o)return c(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?c(a[i],s[i]):a[i]===O?-1:s[i]===O?1:0},l):R},C.matches=function(e,t){return C(e,null,null,t)},C.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&T(e),t=t.replace(ae,"='$1']"),!(!g.matchesSelector||!B||L&&L.test(t)||D&&D.test(t)))try{var n=M.call(e,t);if(n||g.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<C(t,R,null,[e]).length},C.contains=function(e,t){return(e.ownerDocument||e)!==R&&T(e),H(e,t)},C.attr=function(e,t){(e.ownerDocument||e)!==R&&T(e);var n=w.attrHandle[t.toLowerCase()],i=n&&q.call(w.attrHandle,t.toLowerCase())?n(e,t,!B):ye;return i!==ye?i:g.attributes||!B?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},C.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},C.uniqueSort=function(e){var t,n=[],i=0,r=0;if(S=!g.detectDuplicates,k=!g.sortStable&&e.slice(0),e.sort(U),S){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return k=null,e},d=C.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=d(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=d(t);return n},(w=C.selectors={cacheLength:50,createPseudo:l,match:ce,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ge,ve),e[3]=(e[3]||e[4]||e[5]||"").replace(ge,ve),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||C.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&C.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return ce.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&se.test(n)&&(t=_(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ge,ve).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+Z+")"+e+"("+Z+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==$&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=C.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(h,e,t,p,m){var g="nth"!==h.slice(0,3),v="last"!==h.slice(-4),y="of-type"===e;return 1===p&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,c=g!==v?"nextSibling":"previousSibling",d=e.parentNode,u=y&&e.nodeName.toLowerCase(),f=!n&&!y;if(d){if(g){for(;c;){for(o=e;o=o[c];)if(y?o.nodeName.toLowerCase()===u:1===o.nodeType)return!1;l=c="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?d.firstChild:d.lastChild],v&&f){for(s=(i=(r=d[P]||(d[P]={}))[h]||[])[0]===I&&i[1],a=i[0]===I&&i[2],o=s&&d.childNodes[s];o=++s&&o&&o[c]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===e){r[h]=[I,s,a];break}}else if(f&&(i=(e[P]||(e[P]={}))[h])&&i[0]===I)a=i[1];else for(;(o=++s&&o&&o[c]||(a=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==u:1!==o.nodeType)||!++a||(f&&((o[P]||(o[P]={}))[h]=[I,a]),o!==e)););return(a-=m)===p||a%p==0&&0<=a/p}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||C.error("unsupported pseudo: "+e);return a[P]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=J.call(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:l(function(e){var i=[],r=[],s=b(e.replace(ie,"$1"));return s[P]?l(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),!r.pop()}}),has:l(function(t){return function(e){return 0<C(t,e).length}}),contains:l(function(t){return t=t.replace(ge,ve),function(e){return-1<(e.textContent||e.innerText||d(e)).indexOf(t)}}),lang:l(function(n){return le.test(n||"")||C.error("unsupported lang: "+n),n=n.replace(ge,ve).toLowerCase(),function(e){var t;do{if(t=B?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===A},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return ue.test(e.nodeName)},input:function(e){return de.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[n<0?n+t:n]}),even:o(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[s]=n(s);for(s in{submit:!0,reset:!0})w.pseudos[s]=r(s);return a.prototype=w.filters=w.pseudos,w.setFilters=new a,_=C.tokenize=function(e,t){var n,i,r,o,a,s,l,c=W[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(o in(!n||(i=re.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=oe.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(ie," ")}),a=a.slice(n.length)),w.filter)!(i=ce[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?C.error(e):W(e,s).slice(0)},b=C.compile=function(e,t){var n,g,v,y,b,i,r=[],o=[],a=V[e+" "];if(!a){for(t||(t=_(e)),n=t.length;n--;)(a=h(t[n]))[P]?r.push(a):o.push(a);(a=V(e,(g=o,y=0<(v=r).length,b=0<g.length,i=function(e,t,n,i,r){var o,a,s,l=0,c="0",d=e&&[],u=[],f=N,h=e||b&&w.find.TAG("*",r),p=I+=null==f?1:Math.random()||.1,m=h.length;for(r&&(N=t!==R&&t);c!==m&&null!=(o=h[c]);c++){if(b&&o){for(a=0;s=g[a++];)if(s(o,t,n)){i.push(o);break}r&&(I=p)}y&&((o=!s&&o)&&l--,e&&d.push(o))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(d,u,t,n);if(e){if(0<l)for(;c--;)d[c]||u[c]||(u[c]=K.call(i));u=x(u)}G.apply(i,u),r&&!e&&0<u.length&&1<l+v.length&&C.uniqueSort(i)}return r&&(I=p,N=f),d},y?l(i):i))).selector=e}return a},E=C.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,d=!i&&_(e=c.selector||e);if(n=n||[],1===d.length){if(2<(o=d[0]=d[0].slice(0)).length&&"ID"===(a=o[0]).type&&g.getById&&9===t.nodeType&&B&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(ge,ve),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=ce.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(ge,ve),pe.test(o[0].type)&&p(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&m(o)))return G.apply(n,i),n;break}}return(c||b(e,d))(i,t,!B,n,pe.test(e)&&p(t.parentNode)||t),n},g.sortStable=P.split("").sort(U).join("")===P,g.detectDuplicates=!!S,T(),g.sortDetached=i(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),g.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||t(Q,function(e,t,n){var i;return n?void 0:!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),C}),e(i,[],function(){var e,t,n,i,r,o,a,s,l=navigator,c=l.userAgent;return e=window.opera&&window.opera.buildNumber,s=/Android/.test(c),n=(n=!(t=/WebKit/.test(c))&&!e&&/MSIE/gi.test(c)&&/Explorer/gi.test(l.appName))&&/MSIE (\w+)\./.exec(c)[1],i=-1!=c.indexOf("Trident/")&&(-1!=c.indexOf("rv:")||-1!=l.appName.indexOf("Netscape"))&&11,r=!(!document.msElementsFromPoint||n||i)&&12,n=n||i||r,o=!t&&!i&&/Gecko/.test(c),r&&(t=!1),{opera:e,webkit:t,ie:n,gecko:o,mac:-1!=c.indexOf("Mac"),iOS:a=/(iPad|iPhone)/.test(c),android:s,contentEditable:!a||534<=c.match(/AppleWebKit\/(\d*)/)[1],transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=n,range:window.getSelection&&"Range"in window,documentMode:n&&!r?document.documentMode||7:10}}),e(r,[i],function(n){function i(e){return null===e||e===ye?"":(""+e).replace(t,"")}function r(e,t){return t?!("array"!=t||!s(e))||typeof e==t:e!==ye}function a(e,t,n){var i,r;if(!e)return 0;if(n=n||e,e.length!==ye){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1}function o(e,t){var n=[];return a(e,function(e){n.push(t(e))}),n}var t=/^\s*|\s*$/g,s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};return{trim:i,isArray:s,is:r,toArray:function(e){var t,n,i=e;if(!s(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},makeMap:function(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:a,map:o,grep:function(e,t){var n=[];return a(e,function(e){(!t||t(e))&&n.push(e)}),n},inArray:function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},extend:function(e,t){var n,i,r,o,a=arguments;for(n=1,i=a.length;n<i;n++)for(r in t=a[n])t.hasOwnProperty(r)&&(o=t[r])!==ye&&(e[r]=o);return e},create:function(e,t,n){var i,r,o,a,s,l=this,c=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),o=e[3].match(/(^|\.)(\w+)$/i)[2],!(r=l.createNS(e[3].replace(/\.\w+$/,""),n))[o]){if("static"==e[2])return r[o]=t,void(this.onCreate&&this.onCreate(e[2],e[3],r[o]));t[o]||(t[o]=function(){},c=1),r[o]=t[o],l.extend(r[o].prototype,t),e[5]&&(i=l.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],s=r[o],r[o]=c?function(){return i[a].apply(this,arguments)}:function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(e,t){r[o].prototype[t]=i[t]}),l.each(t,function(e,t){i[t]?r[o].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!=o&&(r[o].prototype[t]=e)})),l.each(t.static,function(e,t){r[o][t]=e})}},walk:function n(e,i,r,o){o=o||this,e&&(r&&(e=e[r]),a(e,function(e,t){return!1!==i.call(o,e,t,r)&&void n(e,i,r,o)}))},createNS:function(e,t){var n,i;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[i=e[n]]||(t[i]={}),t=t[i];return t},resolve:function(e,t){var n,i;for(t=t||window,n=0,i=(e=e.split(".")).length;n<i&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||r(e,"array")?e:o(e.split(t||","),i)},_addCacheSuffix:function(e){var t=n.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}}}),e(l,[t,n,r,i],function(e,t,n,i){function s(e){return void 0!==e}function o(e){return"string"==typeof e}function a(e,t){var n,i,r;for(r=(t=t||C).createElement("div"),n=t.createDocumentFragment(),r.innerHTML=e;i=r.firstChild;)n.appendChild(i);return n}function l(e,t,n,i){var r;if(o(t))t=a(t,p(e[0]));else if(t.length&&!t.nodeType){if(t=d.makeArray(t),i)for(r=t.length-1;0<=r;r--)l(e,t[r],n,i);else for(r=0;r<t.length;r++)l(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e}function c(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function r(e,t,n){var i,r;return t=d(t)[0],e.each(function(){var e=this;n&&i==e.parentNode||(i=e.parentNode,r=t.cloneNode(!1),e.parentNode.insertBefore(r,e)),r.appendChild(e)}),e}function d(e,t){return new d.fn.init(e,t)}function u(e){return null===e||e===b?"":(""+e).replace(B,"")}function f(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e}function h(e,n){var i=[];return f(e,function(e,t){n(t,e)&&i.push(t)}),i}function p(e){return e?9==e.nodeType?e:e.ownerDocument:C}function m(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof d&&(n=n[0]);r&&9!==r.nodeType;){if(n!==ye){if(r===n)break;if("string"==typeof n&&d(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i}function g(e,t,n,i){var r=[];for(i instanceof d&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(i!==ye){if(e===i)break;if("string"==typeof i&&d(e).is(i))break}r.push(e)}return r}function v(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType==n)return e;return null}function y(n,i,e){f(e,function(e,t){n[e]=n[e]||{},n[e][i]=t})}var b,C=document,x=Array.prototype.push,w=Array.prototype.slice,_=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,E=e.Event,N=n.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),k=n.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),S={for:"htmlFor",class:"className",readonly:"readOnly"},T={float:"cssFloat"},R={},A={},B=/^\s*|\s*$/g;return d.fn=d.prototype={constructor:d,selector:"",context:null,length:0,init:function(e,t){var n,i,r=this;if(!e)return r;if(e.nodeType)return r.context=r[0]=e,r.length=1,r;if(t&&t.nodeType)r.context=t;else{if(t)return d(e).attr(t);r.context=t=document}if(o(e)){if(!(n="<"===(r.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:_.exec(e)))return d(t).find(e);if(n[1])for(i=a(e,p(t)).firstChild;i;)x.call(r,i),i=i.nextSibling;else{if(!(i=p(t).getElementById(n[2])))return r;if(i.id!==n[2])return r.find(e);r.length=1,r[0]=i}}else this.add(e,!1);return r},toArray:function(){return n.toArray(this)},add:function(e,t){var n,i,r=this;if(o(e))return r.add(d(e));if(!1!==t)for(n=d.unique(r.toArray().concat(d.makeArray(e))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else x.apply(r,d.makeArray(e));return r},attr:function(t,n){var e,i=this;if("object"==typeof t)f(t,function(e,t){i.attr(e,t)});else{if(!s(n)){if(i[0]&&1===i[0].nodeType){if((e=R[t])&&e.get)return e.get(i[0],t);if(k[t])return i.prop(t)?t:b;null===(n=i[0].getAttribute(t,2))&&(n=b)}return n}this.each(function(){var e;if(1===this.nodeType){if((e=R[t])&&e.set)return void e.set(this,n);null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=S[e]||e))f(e,function(e,t){n.prop(e,t)});else{if(!s(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1==this.nodeType&&(this[e]=t)})}return n},css:function(t,n){function e(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function i(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var r,o,a=this;if("object"==typeof t)f(t,function(e,t){a.css(e,t)});else if(s(n))t=e(t),"number"!=typeof n||N[t]||(n+="px"),a.each(function(){var e=this.style;if((o=A[t])&&o.set)o.set(this,n);else{try{this.style[T[t]||t]=n}catch(e){}(null===n||""===n)&&(e.removeProperty?e.removeProperty(i(t)):e.removeAttribute(t))}});else{if(r=a[0],(o=A[t])&&o.get)return o.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(t))}catch(e){return b}else if(r.currentStyle)return r.currentStyle[e(t)]}return a},remove:function(){for(var e,t=this.length;t--;)e=this[t],E.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n,i=this;if(s(t)){n=i.length;try{for(;n--;)i[n].innerHTML=t}catch(e){d(i[n]).empty().append(t)}return i}return i[0]?i[0].innerHTML:""},text:function(e){var t,n=this;if(s(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return l(this,arguments,function(e){1===this.nodeType&&this.appendChild(e)})},prepend:function(){return l(this,arguments,function(e){1===this.nodeType&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?l(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?l(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return d(e).append(this),this},prependTo:function(e){return d(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return r(this,e)},wrapAll:function(e){return r(this,e,!0)},wrapInner:function(e){return this.each(function(){d(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){d(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),d(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(r,o){var e=this;return"string"!=typeof r||(-1!==r.indexOf(" ")?f(r.split(" "),function(){e.toggleClass(this,o)}):e.each(function(e,t){var n,i;(i=c(t,r))!==o&&(n=t.className,i?t.className=u((" "+n+" ").replace(" "+r+" "," ")):t.className+=n?" "+r:r)})),e},hasClass:function(e){return c(this[0],e)},each:function(e){return f(this,e)},on:function(e,t){return this.each(function(){E.bind(this,e,t)})},off:function(e,t){return this.each(function(){E.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?E.fire(this,e.type,e):E.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new d(w.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)d.find(e,this[t],i);return d(i)},filter:function(n){return d("function"==typeof n?h(this.toArray(),function(e,t){return n(t,e)}):d.filter(n,this.toArray()))},closest:function(n){var i=[];return n instanceof d&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&d(t).is(n)){i.push(t);break}if(t==n){i.push(t);break}t=t.parentNode}}),d(i)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:x,sort:[].sort,splice:[].splice},n.extend(d,{extend:n.extend,makeArray:function(e){return(t=e)&&t==t.window||e.nodeType?[e]:n.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:n.isArray,each:f,trim:u,grep:h,find:t,expr:t.selectors,unique:t.uniqueSort,text:t.getText,contains:t.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!=t[i].nodeType&&t.splice(i,1);return 1===t.length?d.find.matchesSelector(t[0],e)?[t[0]]:[]:d.find.matches(e,t)}}),f({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m(e,"parentNode")},next:function(e){return v(e,"nextSibling",1)},prev:function(e){return v(e,"previousSibling",1)},children:function(e){return g(e.firstChild,"nextSibling",1)},contents:function(e){return n.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,i){d.fn[e]=function(t){var n=[];return this.each(function(){var e=i.call(n,this,t,n);e&&(d.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=d.unique(n),0===e.indexOf("parents")&&(n=n.reverse())),n=d(n),t?n.filter(t):n}}),f({parentsUntil:function(e,t){return m(e,"parentNode",t)},nextUntil:function(e,t){return g(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return g(e,"previousSibling",1,t).slice(1)}},function(i,r){d.fn[i]=function(t,e){var n=[];return this.each(function(){var e=r.call(n,this,t,n);e&&(d.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=d.unique(n),(0===i.indexOf("parents")||"prevUntil"===i)&&(n=n.reverse())),n=d(n),e?n.filter(e):n}}),d.fn.is=function(e){return!!e&&0<this.filter(e).length},d.fn.init.prototype=d.fn,d.overrideDefaults=function(n){function i(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t||(t=r.context),new i.fn.init(e,t)}var r;return d.extend(i,this),i},i.ie&&i.ie<8&&(y(R,"get",{maxlength:function(e){var t=e.maxLength;return 2147483647===t?b:t},size:function(e){var t=e.size;return 20===t?b:t},class:function(e){return e.className},style:function(e){var t=e.style.cssText;return 0===t.length?b:t}}),y(R,"set",{class:function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),i.ie&&i.ie<9&&(T.float="styleFloat",y(A,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),d.attrHooks=R,d.cssHooks=A,d}),e(c,[],function(){return function(v,e){function y(e,t,n,i){function r(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+r(t)+r(n)+r(i)}var b,t,c,d,C=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,x=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,w=/\s*([^:]+):\s*([^;]+);?/g,_=/\s+$/,E={},n="\ufeff";for(v=v||{},e&&(c=e.getValidStyles(),d=e.getInvalidStyles()),t=("\\\" \\' \\; \\: ; : "+n).split(" "),b=0;b<t.length;b++)E[t[b]]=n+b,E[n+b]=t[b];return{toHex:function(e){return e.replace(C,y)},parse:function(e){function t(e,t,n){var i,r,o,a;if((i=p[e+"-top"+t])&&((r=p[e+"-right"+t])&&((o=p[e+"-bottom"+t])&&(a=p[e+"-left"+t])))){var s=[i,r,o,a];for(b=s.length-1;b--&&s[b]===s[b+1];);-1<b&&n||(p[e+t]=-1==b?s[0]:s.join(" "),delete p[e+"-top"+t],delete p[e+"-right"+t],delete p[e+"-bottom"+t],delete p[e+"-left"+t])}}function n(e){var t,n=p[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return p[e]=n[0],!0}}function i(e){return c=!0,E[e]}function s(e,t){return c&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return E[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e}function r(e,t,n,i,r,o){if(r=r||o)return"'"+(r=s(r)).replace(/\'/g,"\\'")+"'";if(t=s(t||n||i),!v.allow_script_urls){var a=t.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(a))return"";if(!v.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return m&&(t=m.call(g,t,"style")),"url('"+t.replace(/\'/g,"\\'")+"')"}var o,a,l,c,d,u,f,h,p={},m=v.url_converter,g=v.url_converter_scope||this;if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,i).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,i)});o=w.exec(e);){if(a=o[1].replace(_,"").toLowerCase(),l=(l=o[2].replace(_,"")).replace(/\\[0-9a-f]+/g,function(e){return String.fromCharCode(parseInt(e.substr(1),16))}),a&&0<l.length){if(!v.allow_script_urls&&("behavior"==a||/expression\s*\(|\/\*|\*\//.test(l)))continue;"font-weight"===a&&"700"===l?l="bold":("color"===a||"background-color"===a)&&(l=l.toLowerCase()),l=(l=l.replace(C,y)).replace(x,r),p[a]=c?s(l,!0):l}w.lastIndex=o.index+o[0].length}t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),d="border",f="border-style",h="border-color",n(u="border-width")&&n(f)&&n(h)&&(p[d]=p[u]+" "+p[f]+" "+p[h],delete p[u],delete p[f],delete p[h]),"medium none"===p.border&&delete p.border,"none"===p["border-image"]&&delete p["border-image"]}return p},serialize:function(o,e){function t(e){var t,n,i,r;if(t=c[e])for(n=0,i=t.length;n<i;n++)e=t[n],void 0!==(r=o[e])&&0<r.length&&(l+=(0<l.length?" ":"")+e+": "+r+";")}var n,i,r,a,s,l="";if(e&&c)t("*"),t(e);else for(n in o)void 0!==(i=o[n])&&0<i.length&&(!d||(r=n,a=e,s=void 0,!((s=d["*"])&&s[r]||(s=d[a])&&s[r])))&&(l+=(0<l.length?" ":"")+n+": "+i+";");return l}}}}),e(d,[],function(){return function(e,a){function t(e,t,n,i){var r,o;if(e){if(!i&&e[t])return e[t];if(e!=a){if(r=e[n])return r;for(o=e.parentNode;o&&o!=a;o=o.parentNode)if(r=o[n])return r}}}var n=e;this.current=function(){return n},this.next=function(e){return n=t(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=t(n,"lastChild","previousSibling",e)}}}),e(u,[r],function(A){function B(d){function u(){return C.createDocumentFragment()}function t(e,t){o(_,e,t)}function n(e,t){o(E,e,t)}function i(e){t(e.parentNode,R(e))}function r(e){n(e.parentNode,R(e)+1)}function e(){return a(x)}function f(e,t){var n;if(3==e.nodeType)return e;if(t<0)return e;for(n=e.firstChild;n&&0<t;)--t,n=n.nextSibling;return n||e}function h(e,t,n,i){var r,o,a,s,l,c;if(e==n)return t==i?0:t<i?-1:1;for(r=n;r&&r.parentNode!=e;)r=r.parentNode;if(r){for(o=0,a=e.firstChild;a!=r&&o<t;)o++,a=a.nextSibling;return t<=o?-1:1}for(r=e;r&&r.parentNode!=n;)r=r.parentNode;if(r){for(o=0,a=n.firstChild;a!=r&&o<i;)o++,a=a.nextSibling;return o<i?-1:1}for(s=d.findCommonAncestor(e,n),l=e;l&&l.parentNode!=s;)l=l.parentNode;for(l||(l=s),c=n;c&&c.parentNode!=s;)c=c.parentNode;if(c||(c=s),l==c)return 0;for(a=s.firstChild;a;){if(a==l)return-1;if(a==c)return 1;a=a.nextSibling}}function o(e,t,n){var i,r;for(e?(b[k]=t,b[N]=n):(b[S]=t,b[T]=n),i=b[S];i.parentNode;)i=i.parentNode;for(r=b[k];r.parentNode;)r=r.parentNode;r==i?0<h(b[k],b[N],b[S],b[T])&&b.collapse(e):b.collapse(e),b.collapsed=b[k]==b[S]&&b[N]==b[T],b.commonAncestorContainer=d.findCommonAncestor(b[k],b[S])}function a(e){var t,n,i,r,o,a,s,l=0,c=0;if(b[k]==b[S])return function(e){var t,n,i,r,o,a,s,l,c;if(e!=w&&(t=u()),b[N]==b[T])return t;if(3==b[k].nodeType){if(n=b[k].nodeValue,i=n.substring(b[N],b[T]),e!=x&&(r=b[k],l=b[N],c=b[T]-b[N],0===l&&c>=r.nodeValue.length-1?r.parentNode.removeChild(r):r.deleteData(l,c),b.collapse(_)),e==w)return;return 0<i.length&&t.appendChild(C.createTextNode(i)),t}for(r=f(b[k],b[N]),o=b[T]-b[N];r&&0<o;)a=r.nextSibling,s=y(r,e),t&&t.appendChild(s),--o,r=a;return e!=x&&b.collapse(_),t}(e);for(n=(t=b[S]).parentNode;n;n=(t=n).parentNode){if(n==b[k])return p(t,e);++l}for(n=(t=b[k]).parentNode;n;n=(t=n).parentNode){if(n==b[S])return m(t,e);++c}for(i=c-l,r=b[k];0<i;)r=r.parentNode,i--;for(o=b[S];i<0;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return function(e,t,n){var i,r,o,a,s,l,c;for(n!=w&&(r=u()),i=v(e,n),r&&r.appendChild(i),o=R(e),a=R(t),s=a-++o,l=e.nextSibling;0<s;)c=l.nextSibling,i=y(l,n),r&&r.appendChild(i),l=c,--s;return i=g(t,n),r&&r.appendChild(i),n!=x&&(b.setStartAfter(e),b.collapse(_)),r}(r,o,e)}function p(e,t){var n,i,r,o,a;if(t!=w&&(n=u()),i=g(e,t),n&&n.appendChild(i),(r=R(e)-b[N])<=0)return t!=x&&(b.setEndBefore(e),b.collapse(E)),n;for(i=e.previousSibling;0<r;)o=i.previousSibling,a=y(i,t),n&&n.insertBefore(a,n.firstChild),--r,i=o;return t!=x&&(b.setEndBefore(e),b.collapse(E)),n}function m(e,t){var n,i,r,o,a,s;for(t!=w&&(n=u()),r=v(e,t),n&&n.appendChild(r),i=R(e),++i,o=b[T]-i,r=e.nextSibling;r&&0<o;)a=r.nextSibling,s=y(r,t),n&&n.appendChild(s),--o,r=a;return t!=x&&(b.setStartAfter(e),b.collapse(_)),n}function g(e,t){var n,i,r,o,a,s=f(b[S],b[T]-1),l=s!=b[S];if(s==e)return c(s,l,E,t);for(i=c(n=s.parentNode,E,E,t);n;){for(;s;)r=s.previousSibling,o=c(s,l,E,t),t!=w&&i.insertBefore(o,i.firstChild),l=_,s=r;if(n==e)return i;s=n.previousSibling,a=c(n=n.parentNode,E,E,t),t!=w&&a.appendChild(i),i=a}}function v(e,t){var n,i,r,o,a,s=f(b[k],b[N]),l=s!=b[k];if(s==e)return c(s,l,_,t);for(i=c(n=s.parentNode,E,_,t);n;){for(;s;)r=s.nextSibling,o=c(s,l,_,t),t!=w&&i.appendChild(o),l=_,s=r;if(n==e)return i;s=n.nextSibling,a=c(n=n.parentNode,E,_,t),t!=w&&a.appendChild(i),i=a}}function c(e,t,n,i){var r,o,a,s,l;if(t)return y(e,i);if(3==e.nodeType){if(r=e.nodeValue,n?(s=b[N],o=r.substring(s),a=r.substring(0,s)):(s=b[T],o=r.substring(0,s),a=r.substring(s)),i!=x&&(e.nodeValue=a),i==w)return;return(l=d.clone(e,E)).nodeValue=o,l}return i!=w?d.clone(e,E):void 0}function y(e,t){return t!=w?t==x?d.clone(e,_):e:void e.parentNode.removeChild(e)}var b=this,C=d.doc,s=0,x=1,w=2,_=!0,E=!1,N="startOffset",k="startContainer",S="endContainer",T="endOffset",l=A.extend,R=d.nodeIndex;return l(b,{startContainer:C,startOffset:0,endContainer:C,endOffset:0,collapsed:_,commonAncestorContainer:C,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:t,setEnd:n,setStartBefore:i,setStartAfter:function(e){t(e.parentNode,R(e)+1)},setEndBefore:function(e){n(e.parentNode,R(e))},setEndAfter:r,collapse:function(e){e?(b[S]=b[k],b[T]=b[N]):(b[k]=b[S],b[N]=b[T]),b.collapsed=_},selectNode:function(e){i(e),r(e)},selectNodeContents:function(e){t(e,0),n(e,1===e.nodeType?e.childNodes.length:e.nodeValue.length)},compareBoundaryPoints:function(e,t){var n=b[k],i=b[N],r=b[S],o=b[T],a=t.startContainer,s=t.startOffset,l=t.endContainer,c=t.endOffset;return 0===e?h(n,i,a,s):1===e?h(r,o,a,s):2===e?h(r,o,l,c):3===e?h(n,i,l,c):void 0},deleteContents:function(){a(w)},extractContents:function(){return a(s)},cloneContents:e,insertNode:function(e){var t,n,i=this[k],r=this[N];3!==i.nodeType&&4!==i.nodeType||!i.nodeValue?(0<i.childNodes.length&&(n=i.childNodes[r]),n?i.insertBefore(e,n):3==i.nodeType?d.insertAfter(e,i):i.appendChild(e)):r?r>=i.nodeValue.length?d.insertAfter(e,i):(t=i.splitText(r),i.parentNode.insertBefore(e,t)):i.parentNode.insertBefore(e,i)},surroundContents:function(e){var t=b.extractContents();b.insertNode(e),e.appendChild(t),b.selectNode(e)},cloneRange:function(){return l(new B(d),{startContainer:b[k],startOffset:b[N],endContainer:b[S],endOffset:b[T],collapsed:b.collapsed,commonAncestorContainer:b.commonAncestorContainer})},toStringIE:function(){return d.create("body",null,e()).outerText}}),b}return B.prototype.toString=function(){return this.toStringIE()},B}),e(f,[r],function(e){function t(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),a[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}}var r,a,o,i=e.makeMap,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};a={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},r=t("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var u={encodeRaw:function(e,t){return e.replace(t?s:l,function(e){return a[e]||e})},encodeAllRaw:function(e){return(""+e).replace(n,function(e){return a[e]||e})},encodeNumeric:function(e,t){return e.replace(t?s:l,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":a[e]||"&#"+e.charCodeAt(0)+";"})},encodeNamed:function(e,t,n){return n=n||r,e.replace(t?s:l,function(e){return a[e]||n[e]||e})},getEncodeFunc:function(e,n){return n=t(n)||r,(e=i(e.replace(/\+/g,","))).named&&e.numeric?function(e,t){return e.replace(t?s:l,function(e){return a[e]||n[e]||"&#"+e.charCodeAt(0)+";"||e})}:e.named?n?function(e,t){return u.encodeNamed(e,t,n)}:u.encodeNamed:e.numeric?u.encodeNumeric:u.encodeRaw},decode:function(e){return e.replace(c,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):d[t]||String.fromCharCode(t):o[e]||r[e]||(n=e,(i=document.createElement("div")).innerHTML=n,i.textContent||i.innerText||n);var n,i})}};return u}),e(h,[r],function(v){return function(f,e){function h(e){f.getElementsByTagName("head")[0].appendChild(e)}var p,m=0,g={};p=(e=e||{}).maxLoadTime||5e3,this.load=function(e,t,n){function r(){for(var e=d.passed,t=e.length;t--;)e[t]();d.status=2,d.passed=[],d.failed=[]}function i(){for(var e=d.failed,t=e.length;t--;)e[t]();d.status=3,d.passed=[],d.failed=[]}function o(e,t){e()||((new Date).getTime()-c<p?window.setTimeout(t,0):i())}function a(){o(function(){for(var e,t,n=f.styleSheets,i=n.length;i--;)if((t=(e=n[i]).ownerNode?e.ownerNode:e.owningElement)&&t.id===s.id)return r(),!0},a)}var s,l,c,d,u;if(e=v._addCacheSuffix(e),g[e]?d=g[e]:(d={passed:[],failed:[]},g[e]=d),t&&d.passed.push(t),n&&d.failed.push(n),1!=d.status){if(2==d.status)return void r();if(3==d.status)return void i();if(d.status=1,(s=f.createElement("link")).rel="stylesheet",s.type="text/css",s.id="u"+m++,s.async=!1,s.defer=!1,c=(new Date).getTime(),"onload"in s&&!((u=navigator.userAgent.match(/WebKit\/(\d*)/))&&u[1]<536))s.onload=a,s.onerror=i;else{if(0<navigator.userAgent.indexOf("Firefox"))return(l=f.createElement("style")).textContent='@import "'+e+'"',function e(){o(function(){try{var e=l.sheet.cssRules;return r(),!!e}catch(e){}},e)}(),void h(l);a()}h(s),s.href=e}}}}),e(p,[n,l,c,t,d,u,f,i,r,h],function(r,c,d,u,l,t,e,n,a,f){function o(e,t){var n,i,r,o,a,s,l=this;l.doc=e,l.win=window,l.files={},l.counter=0,l.stdMode=!m||8<=e.documentMode,l.boxModel=!m||"CSS1Compat"==e.compatMode||l.stdMode,l.styleSheetLoader=new f(e),l.boundEvents=[],l.settings=t=t||{},l.schema=t.schema,l.styles=new d({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),l.fixDoc(e),l.events=t.ownEvents?new u(t.proxy):u.Event,l.attrHooks=(i=l,a={},s=(r=t).keep_values,o={set:function(e,t,n){r.url_converter&&(t=r.url_converter.call(r.url_converter_scope||i,t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},a={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(s&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return i.serializeStyle(i.parseStyle(t),e[0].nodeName)}}},s&&(a.href=a.src=o),a),n=t.schema?t.schema.getBlockElements():{},l.$=c.overrideDefaults(function(){return{context:e,element:l.getRoot()}}),l.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}}var s=a.each,h=a.is,i=a.grep,p=a.trim,m=n.ie,g=/^([a-z0-9],?)+$/i,v=/^[ \t\r\n]*$/;return o.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(t){var e,n=this.settings;if(m&&n.schema)for(e in"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)}),n.schema.getCustomElements())t.createElement(e)},clone:function(t,e){var n,i,r=this;return!m||1!==t.nodeType||e?t.cloneNode(e):(i=r.doc,e?n.firstChild:(n=i.createElement(t.nodeName),s(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),n))},getRoot:function(){return this.settings.root_element||this.doc.body},getViewPort:function(e){var t,n;return t=(e=e||this.win).document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n;return e=this.get(e),t=this.getPos(e),n=this.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n;return e=this.get(e),t=this.getStyle(e,"width"),n=this.getStyle(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,i){var r,o=this,a=[];for(e=o.get(e),i=i===ye,n=n||("BODY"!=o.getRoot().nodeName?o.getRoot().parentNode:null),h(t,"string")&&(t="*"===(r=t)?function(e){return 1==e.nodeType}:function(e){return o.is(e,r)});e&&e!=n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!i)return e;a.push(e)}e=e.parentNode}return i?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,(e=this.doc.getElementById(e))&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){return r(e,this.get(t)||this.settings.root_element||this.doc,[])},is:function(e,t){var n;if(e.length===ye){if("*"===t)return 1==e.nodeType;if(g.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;0<=n;n--)if(t[n]==e)return!0;return!1}}if(e.nodeType&&1!=e.nodeType)return!1;var i=e.nodeType?[e]:e;return 0<r(t,i[0].ownerDocument||i[0],null,i).length},add:function(e,n,i,r,o){var a=this;return this.run(e,function(e){var t;return t=h(n,"string")?a.doc.createElement(n):n,a.setAttribs(t,i),r&&(r.nodeType?t.appendChild(r):a.setHTML(t,r)),o?t:e.appendChild(t)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&void 0!==t[i]&&(r+=" "+i+'="'+this.encode(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var t,n,i,r=this.doc;for(i=r.createElement("div"),t=r.createDocumentFragment(),e&&(i.innerHTML=e);n=i.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3==e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),1<e.length?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&e.attr("data-mce-style",null)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):("float"==(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=m?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:ye)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&e.attr("data-mce-style",null)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var i,r,o=this.settings;""===n&&(n=null),i=(e=this.$$(e)).attr(t),e.length&&((r=this.attrHooks[t])&&r.set?r.set(e,n,t):e.attr(t,n),i!=n&&o.onSetAttrib&&o.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var i=this;i.$$(e).each(function(e,n){s(t,function(e,t){i.setAttrib(n,t,e)})})},getAttrib:function(e,t,n){var i,r;return(e=this.$$(e)).length&&(r=(i=this.attrHooks[t])&&i.get?i.get(e,t):e.attr(t)),void 0===r&&(r=n||""),r},getPos:function(e,t){var n,i,r=0,o=0,a=this.doc,s=a.body;if(t=t||s,e=this.get(e)){if(t===s&&e.getBoundingClientRect&&"static"===c(s).css("position"))return i=e.getBoundingClientRect(),t=this.boxModel?a.documentElement:s,{x:r=i.left+(a.documentElement.scrollLeft||s.scrollLeft)-t.clientLeft,y:o=i.top+(a.documentElement.scrollTop||s.scrollTop)-t.clientTop};for(n=e;n&&n!=t&&n.nodeType;)r+=n.offsetLeft||0,o+=n.offsetTop||0,n=n.offsetParent;for(n=e.parentNode;n&&n!=t&&n.nodeType;)r-=n.scrollLeft||0,o-=n.scrollTop||0,n=n.parentNode}return{x:r,y:o}},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,i=this.doc;if(this!==o.DOM&&i===document){var r=o.DOM.addedStyles;if((r=r||[])[e])return;r[e]=!0,o.DOM.addedStyles=r}(n=i.getElementById("mceDefaultStyles"))||((n=i.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=i.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(i.createTextNode(e))},loadCSS:function(e){var n,i=this,r=i.doc;return i!==o.DOM&&r===document?void o.DOM.loadCSS(e):(e||(e=""),n=r.getElementsByTagName("head")[0],void s(e.split(","),function(e){var t;e=a._addCacheSuffix(e),i.files[e]||(i.files[e]=!0,t=i.create("link",{rel:"stylesheet",href:e}),m&&r.documentMode&&r.recalc&&(t.onload=function(){r.recalc&&r.recalc(),t.onload=null}),n.appendChild(t))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&c(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"==this.$$(e).css("display")},uniqueId:function(e){return(e||"mce_")+this.counter++},setHTML:function(e,n){e=this.$$(e),m?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){c("<div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):e.html(n)},getOuterHTML:function(e){return 1==(e=this.get(e)).nodeType&&"outerHTML"in e?e.outerHTML:c("<div>").append(c(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(c(this).html(t),!0)})},decode:e.decode,encode:e.encodeAllRaw,insertAfter:function(e,i){return i=this.get(i),this.run(e,function(e){var t,n;return t=i.parentNode,(n=i.nextSibling)?t.insertBefore(e,n):t.appendChild(e),e})},replace:function(t,e,n){return this.run(e,function(e){return h(e,"array")&&(t=t.cloneNode(!0)),n&&s(i(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),s(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return this.styles.toHex(a.trim(e))},run:function(e,n,i){var r,o=this;return"string"==typeof e&&(e=o.get(e)),!!e&&(i=i||this,e.nodeType||!e.length&&0!==e.length?n.call(i,e):(r=[],s(e,function(e,t){e&&("string"==typeof e&&(e=o.get(e)),r.push(n.call(i,e,t)))}),r))},getAttribs:function(e){var t;if(!(e=this.get(e)))return[];if(m){if(t=[],"OBJECT"==e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});return e.cloneNode(!1).outerHTML.replace(/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,i,r,o,a,s=0;if(e=e.firstChild){o=new l(e,e.parentNode),t=t||(this.schema?this.schema.getNonEmptyElements():null);do{if(1===(r=e.nodeType)){if(e.getAttribute("data-mce-bogus"))continue;if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"===a){s++;continue}return!1}for(n=(i=this.getAttribs(e)).length;n--;)if("name"===(a=i[n].nodeName)||"data-mce-bookmark"===a)return!1}if(8==r)return!1;if(3===r&&!v.test(e.nodeValue))return!1}while(e=o.next())}return s<=1},createRng:function(){var e=this.doc;return e.createRange?e.createRange():new t(this)},nodeIndex:function(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!=i||i!=n&&e.nodeValue.length)&&(r++,n=i);return r},split:function(e,t,n){function l(e){var t,n,i,r,o=e.childNodes,a=e.nodeType;if(1!=a||"bookmark"!=e.getAttribute("data-mce-type")){for(t=o.length-1;0<=t;t--)l(o[t]);if(9!=a){if(3==a&&0<e.nodeValue.length){var s=p(e.nodeValue).length;if(!c.isBlock(e.parentNode)||0<s||0===s&&(i=(n=e).previousSibling&&"SPAN"==n.previousSibling.nodeName,r=n.nextSibling&&"SPAN"==n.nextSibling.nodeName,i&&r))return}else if(1==a&&(1==(o=e.childNodes).length&&o[0]&&1==o[0].nodeType&&"bookmark"==o[0].getAttribute("data-mce-type")&&e.parentNode.insertBefore(o[0],e),o.length||/^(br|hr|input|img)$/i.test(e.nodeName)))return;c.remove(e)}return e}}var i,r,o,c=this,a=c.createRng();return e&&t?(a.setStart(e.parentNode,c.nodeIndex(e)),a.setEnd(t.parentNode,c.nodeIndex(t)),i=a.extractContents(),(a=c.createRng()).setStart(t.parentNode,c.nodeIndex(t)+1),a.setEnd(e.parentNode,c.nodeIndex(e)+1),r=a.extractContents(),(o=e.parentNode).insertBefore(l(i),e),n?o.replaceChild(n,t):o.insertBefore(t,e),o.insertBefore(l(r),e),c.remove(e),n||t):void 0},bind:function(e,t,n,i){var r=this;if(a.isArray(e)){for(var o=e.length;o--;)e[o]=r.bind(e[o],t,n,i);return e}return!r.settings.collect||e!==r.doc&&e!==r.win||r.boundEvents.push([e,t,n,i]),r.events.bind(e,t,n,i||r)},unbind:function(e,t,n){var i,r=this;if(a.isArray(e)){for(i=e.length;i--;)e[i]=r.unbind(e[i],t,n);return e}if(r.boundEvents&&(e===r.doc||e===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];e!=o[0]||t&&t!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1==e.nodeType?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&null===(n=this.getContentEditable(e));e=e.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var t=e.boundEvents.length;t--;){var n=e.boundEvents[t];this.events.unbind(n[0],n[1],n[2])}e.boundEvents=null}r.setDocument&&r.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var i=this,r=t;if(e)for("string"==typeof r&&(r=function(e){return i.is(e,t)}),e=e[n];e;e=e[n])if(r(e))return e;return null}},o.DOM=new o(document),o}),e(m,[p,r],function(e,c){function t(){var o={},i=[],a={},s=[],l=0;this.isDone=function(e){return 2==o[e]},this.markDone=function(e){o[e]=2},this.add=this.load=function(e,t,n){null==o[e]&&(i.push(e),o[e]=0),t&&(a[e]||(a[e]=[]),a[e].push({func:t,scope:n||this}))},this.loadQueue=function(e,t){this.loadScripts(i,e,t)},this.loadScripts=function(t,e,n){function i(e){u(a[e],function(e){e.func.call(e.scope)}),a[e]=void 0}var r;s.push({func:e,scope:n||this}),(r=function(){var e=f(t);t.length=0,u(e,function(e){return 2==o[e]?void i(e):void(1!=o[e]&&(o[e]=1,l++,function(e,t){function n(){o.remove(r),i&&(i.onreadystatechange=i.onload=i=null),t()}var i,r,o=d;r=o.uniqueId(),(i=document.createElement("script")).id=r,i.type="text/javascript",i.src=c._addCacheSuffix(e),"onreadystatechange"in i?i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&n()}:i.onload=n,i.onerror=function(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(i)}(e,function(){o[e]=2,l--,i(e),r()})))}),l||(u(s,function(e){e.func.call(e.scope)}),s.length=0)})()}}var d=e.DOM,u=c.each,f=c.grep;return t.ScriptLoader=new t,t}),e(g,[m,r],function(s,e){function l(){this.items=[],this.urls={},this.lookup={}}var c=e.each;return l.prototype={get:function(e){return this.lookup[e]?this.lookup[e].instance:ye},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,t){var n=l.language;if(n&&!1!==l.languageLoad){if(t)if(-1!=(t=","+t+",").indexOf(","+n.substr(0,2)+","))n=n.substr(0,2);else if(-1==t.indexOf(","+n+","))return;s.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(e,t,n){return this.items.push(t),this.lookup[e]={instance:t,dependencies:n},t},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];c(t,function(e){s.ScriptLoader.add(n+"/"+e)})},load:function(t,n,i,r){function e(){var e=o.dependencies(t);c(e,function(e){var t=o.createUrl(n,e);o.load(t.resource,t,ye,ye)}),i&&i.call(r||s)}var o=this,a=n;o.urls[t]||("object"==typeof n&&(a=n.prefix+n.resource+n.suffix),0!==a.indexOf("/")&&-1==a.indexOf("://")&&(a=l.baseURL+"/"+a),o.urls[t]=a.substring(0,a.lastIndexOf("/")),o.lookup[t]?e():s.ScriptLoader.add(a,e,r))}},l.PluginManager=new l,l.ThemeManager=new l,l}),e(v,[r,d],function(e,g){function t(C){this.walk=function(e,r){function o(e){var t;return 3===(t=e[0]).nodeType&&t===h&&p>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===g&&0<e.length&&t===m&&3===t.nodeType&&e.splice(e.length-1,1),e}function a(e,t,n){for(var i=[];e&&e!=n;e=e[t])i.push(e);return i}function t(e,t){do{if(e.parentNode==t)return e;e=e.parentNode}while(e)}function n(e,t,n){var i=n?"nextSibling":"previousSibling";for(d=(c=e).parentNode;c&&c!=t;c=d)d=c.parentNode,(u=a(c==e?c:c[i],i)).length&&(n||u.reverse(),r(o(u)))}var i,s,l,c,d,u,f,h=e.startContainer,p=e.startOffset,m=e.endContainer,g=e.endOffset;if(0<(f=C.select("td.mce-item-selected,th.mce-item-selected")).length)x(f,function(e){r([e])});else{if(1==h.nodeType&&h.hasChildNodes()&&(h=h.childNodes[p]),1==m.nodeType&&m.hasChildNodes()&&(y=g,b=(v=m).childNodes,--y>b.length-1?y=b.length-1:y<0&&(y=0),m=b[y]||v),h==m)return r(o([h]));var v,y,b;for(i=C.findCommonAncestor(h,m),c=h;c;c=c.parentNode){if(c===m)return n(h,i,!0);if(c===i)break}for(c=m;c;c=c.parentNode){if(c===h)return n(m,i);if(c===i)break}s=t(h,i)||h,l=t(m,i)||m,n(h,s,!0),(u=a(s==h?s:s.nextSibling,"nextSibling",l==m?l.nextSibling:l)).length&&r(o(u)),n(m,l)}},this.split=function(e){function t(e,t){return e.splitText(t)}var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset;return n==r&&3==n.nodeType?0<i&&i<n.nodeValue.length&&(n=(r=t(n,i)).previousSibling,i<o?(n=r=t(r,o-=i).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&0<i&&i<n.nodeValue.length&&(n=t(n,i),i=0),3==r.nodeType&&0<o&&o<r.nodeValue.length&&(o=(r=t(r,o).previousSibling).nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(h){function e(e){function t(e,t){for(var n=new g(e,C.getParent(e.parentNode,C.isBlock)||f);e=n[t?"prev":"next"]();)if("BR"===e.nodeName)return!0}function n(e,t){var n,i,r;if(t=t||o,r=C.getParent(t.parentNode,C.isBlock)||f,e&&"BR"==t.nodeName&&c&&C.isEmpty(r))return o=t.parentNode,a=C.nodeIndex(t),void(p=!0);for(n=new g(t,r);s=n[e?"prev":"next"]();){if("false"===C.getContentEditableParent(s))return;if(3===s.nodeType&&0<s.nodeValue.length)return o=s,a=e?s.nodeValue.length:0,void(p=!0);if(C.isBlock(s)||l[s.nodeName.toLowerCase()])return;i=s}m&&i&&(o=i,p=!0,a=0)}var o,a,i,s,l,r,c,d,u,f=C.getRoot();if(o=h[(e?"start":"end")+"Container"],a=h[(e?"start":"end")+"Offset"],c=1==o.nodeType&&a===o.childNodes.length,l=C.schema.getNonEmptyElements(),r=e,1==o.nodeType&&a>o.childNodes.length-1&&(r=!1),9===o.nodeType&&(o=C.getRoot(),a=0),o===f){if(r&&((s=o.childNodes[0<a?a-1:0])&&(l[s.nodeName]||"TABLE"==s.nodeName)))return;if(o.hasChildNodes()&&(a=Math.min(!r&&0<a?a-1:a,o.childNodes.length-1),o=o.childNodes[a],a=0,o.hasChildNodes()&&!/TABLE/.test(o.nodeName))){i=new g(s=o,f);do{if(3===s.nodeType&&0<s.nodeValue.length){a=r?0:s.nodeValue.length,o=s,p=!0;break}if(l[s.nodeName.toLowerCase()]){a=C.nodeIndex(s),o=s.parentNode,"IMG"!=s.nodeName||r||a++,p=!0;break}}while(s=r?i.next():i.prev())}}m&&(3===o.nodeType&&0===a&&n(!0),1===o.nodeType&&((s=o.childNodes[a])||(s=o.childNodes[a-1]),!s||"BR"!==s.nodeName||(u="A",(d=s).previousSibling&&d.previousSibling.nodeName==u)||t(s)||t(s,!0)||n(!0,s))),r&&!m&&3===o.nodeType&&a===o.nodeValue.length&&n(!1),p&&h["set"+(e?"Start":"End")](o,a)}var p,m;return m=h.collapsed,e(!0),m||e(),p&&m&&h.collapse(!0),p}}var x=e.each;return t.compareRanges=function(e,t){if(e&&t){if(!e.item&&!e.duplicate)return e.startContainer==t.startContainer&&e.startOffset==t.startOffset;if(e.item&&t.item&&e.item(0)===t.item(0))return!0;if(e.isEqual&&t.isEqual&&t.isEqual(e))return!0}return!1},t.getCaretRangeFromPoint=function(e,t,n){var i,r;if(n.caretPositionFromPoint)r=n.caretPositionFromPoint(e,t),(i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(e){i.collapse(t<n.body.clientHeight)}}return i},t.getNode=function(e,t){return 1==e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},t}),e(y,[v,i],function(a,t){return function(o){var i,r=[];"onselectionchange"in o.getDoc()||o.on("NodeChange Click MouseUp KeyUp Focus",function(e){var t,n;n={startContainer:(t=o.selection.getRng()).startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset},"nodechange"!=e.type&&a.compareRanges(n,i)||o.fire("SelectionChange"),i=n}),o.on("contextmenu",function(){o.fire("SelectionChange")}),o.on("SelectionChange",function(){var e=o.selection.getStart(!0);(t.range||!o.selection.isCollapsed())&&!function(e){var t,n;if((n=o.$(e).parentsUntil(o.getBody()).add(e)).length===r.length){for(t=n.length;0<=t&&n[t]===r[t];t--);if(-1===t)return r=n,!0}return r=n,!1}(e)&&o.dom.isChildOf(e,o.getBody())&&o.nodeChanged({selectionChange:!0})}),o.on("MouseUp",function(e){e.isDefaultPrevented()||("IMG"==o.selection.getNode().nodeName?setTimeout(function(){o.nodeChanged()},0):o.nodeChanged())}),this.nodeChanged=function(e){var t,n,i,r=o.selection;o.initialized&&r&&!o.settings.disable_nodechange&&!o.settings.readonly&&(i=o.getBody(),"IMG"==(t=(t=r.getStart()||i).ownerDocument!=o.getDoc()?o.getBody():t).nodeName&&r.isCollapsed()&&(t=t.parentNode),n=[],o.dom.getParent(t,function(e){return e===i||void n.push(e)}),(e=e||{}).element=t,e.parents=n,o.fire("NodeChange",e))}}}),e(b,[],function(){function r(e,t,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[o])return e[o];if(e!==t){if(i=e[a])return i;for(r=e.parent;r&&r!==t;r=r.parent)if(i=r[a])return i}}function s(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}var o=/^[ \t\r\n]*$/,a={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return s.prototype={replace:function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},attr:function(e,t){var n,i,r=this;if("string"!=typeof e){for(i in e)r.attr(i,e[i]);return r}if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],i=n.length;i--;)if(n[i].name===e)return n=n.splice(i,1),r;return r}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},clone:function(){var e,t,n,i,r,o=this,a=new s(o.name,o.type);if(n=o.attributes){for((r=[]).map={},e=0,t=n.length;e<t;e++)"id"!==(i=n[e]).name&&(r[r.length]={name:i.name,value:i.value},r.map[i.name]=i.value);a.attributes=r}return a.value=o.value,a.shortEnded=o.shortEnded,a},wrap:function(e){return this.parent.insert(e,this),e.append(this),this},unwrap:function(){var e,t;for(e=this.firstChild;e;)t=e.next,this.insert(e,this,!0),e=t;this.remove()},remove:function(){var e=this,t=e.parent,n=e.next,i=e.prev;return t&&(t.firstChild===e?(t.firstChild=n)&&(n.prev=null):i.next=n,t.lastChild===e?(t.lastChild=i)&&(i.next=null):n.prev=i,e.parent=e.next=e.prev=null),e},append:function(e){var t,n=this;return e.parent&&e.remove(),(t=n.lastChild)?((t.next=e).prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},insert:function(e,t,n){var i;return e.parent&&e.remove(),i=t.parent||this,n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},getAll:function(e){var t,n=[];for(t=this.firstChild;t;t=r(t,this))t.name===e&&n.push(t);return n},empty:function(){var e,t,n,i=this;if(i.firstChild){for(e=[],n=i.firstChild;n;n=r(n,i))e.push(n);for(t=e.length;t--;)(n=e[t]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return i.firstChild=i.lastChild=null,i},isEmpty:function(e){var t,n,i=this.firstChild;if(i)do{if(1===i.type){if(i.attributes.map["data-mce-bogus"])continue;if(e[i.name])return!1;for(t=i.attributes.length;t--;)if("name"===(n=i.attributes[t].name)||0===n.indexOf("data-mce-bookmark"))return!1}if(8===i.type)return!1;if(3===i.type&&!o.test(i.value))return!1}while(i=r(i,this));return!0},walk:function(e){return r(this,null,e)}},s.create=function(e,t){var n,i;if(n=new s(e,a[e]||1),t)for(i in t)n.attr(i,t[i]);return n},s}),e(C,[r],function(e){function S(e,t){return e?e.split(t||" "):[]}function T(e,n){var i;return e&&(i={},"string"==typeof e&&(e={"*":e}),D(e,function(e,t){i[t]=i[t.toUpperCase()]="map"==n?B(e,/[, ]/):M(e,/[, ]/)})),i}var R={},A={},B=e.makeMap,D=e.each,L=e.extend,M=e.explode,H=e.inArray;return function(r){function e(e,t,n){var i=r[e];return i?i=B(i,/[, ]/,B(i.toUpperCase(),/[, ]/)):(i=R[e])||(i=B(t," ",B(t.toUpperCase()," ")),i=L(i,n),R[e]=i),i}function _(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}function t(e){var t,n,i,r,o,a,s,l,c,d,u,f,h,p,m,g,v,y,b,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,x=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e)for(e=S(e,","),E["@"]&&(g=E["@"].attributes,v=E["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(o=C.exec(e[t])){if(p=o[1],c=o[2],m=o[3],l=o[5],a={attributes:f={},attributesOrder:h=[]},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===o[4]&&(a.removeEmptyAttrs=!0),g){for(y in g)f[y]=g[y];h.push.apply(h,v)}if(l)for(i=0,r=(l=S(l,"|")).length;i<r;i++)if(o=x.exec(l[i])){if(s={},u=o[1],d=o[2].replace(/::/g,":"),p=o[3],b=o[4],"!"===u&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(d),s.required=!0),"-"===u){delete f[d],h.splice(H(h,d),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:d,value:b}),s.defaultValue=b),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:d,value:b}),s.forcedValue=b),"<"===p&&(s.validValues=B(b,"?"))),w.test(d)?(a.attributePatterns=a.attributePatterns||[],s.pattern=_(d),a.attributePatterns.push(s)):(f[d]||h.push(d),f[d]=s)}g||"@"!=c||(g=f,v=h),m&&(a.outputName=c,E[m]=a),w.test(c)?(a.pattern=_(c),N.push(a)):E[c]=a}}function n(e){E={},N=[],t(e),D(c,function(e,t){x[t]=e.children})}function i(e){var a=/^(~)?(.+)$/;e&&(R.text_block_elements=R.block_elements=null,D(S(e,","),function(e){var t=a.exec(e),n="~"===t[1],i=n?"span":"div",r=t[2];if(x[r]=x[i],w[r]=i,n||(m[r.toUpperCase()]={},m[r]={}),!E[r]){var o=E[i];delete(o=L({},o)).removeEmptyAttrs,delete o.removeEmpty,E[r]=o}D(x,function(e,t){e[i]&&(x[t]=e=L({},x[t]),e[r]=e[i])})}))}function o(e){var r=/^([+\-]?)(\w+)\[([^\]]+)\]$/;e&&D(S(e,","),function(e){var t,n,i=r.exec(e);i&&(n=i[1],t=n?x[i[2]]:x[i[2]]={"#comment":{}},t=x[i[2]],D(S(i[3],"|"),function(e){"-"===n?(x[i[2]]=t=L({},x[i[2]]),delete t[e]):t[e]={}}))})}function a(e){var t,n=E[e];if(n)return n;for(t=N.length;t--;)if((n=N[t]).pattern.test(e))return n}var s,l,c,d,u,f,h,p,m,g,v,y,b,C=this,E={},x={},N=[],w={},k={};c=function(e){function t(e,t,n){function i(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r}var r,o,a,s=arguments;for(t=t||"","string"==typeof(n=n||[])&&(n=S(n)),o=3;o<s.length;o++)"string"==typeof s[o]&&(s[o]=S(s[o])),n.push.apply(n,s[o]);for(r=(e=S(e)).length;r--;)a=[].concat(l,S(t)),c[e[r]]={attributes:i(a),attributesOrder:a,children:i(n,A)}}function n(e,t){var n,i,r,o;for(n=(e=S(e)).length,t=S(t);n--;)for(i=c[e[n]],r=0,o=t.length;r<o;r++)i.attributes[t[r]]={},i.attributesOrder.push(t[r])}var l,i,r,o,a,s,c={};return R[e]?R[e]:(l=S("id accesskey class dir lang style tabindex title"),i=S("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),r=S("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=e&&(l.push.apply(l,S("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),i.push.apply(i,S("article aside details dialog figure header footer hgroup section nav")),r.push.apply(r,S("audio canvas command datalist mark meter output progress time wbr video ruby bdi keygen"))),"html5-strict"!=e&&(l.push("xml:lang"),s=S("acronym applet basefont big font strike tt"),r.push.apply(r,s),D(s,function(e){t(e,"",r)}),a=S("center dir isindex noframes"),i.push.apply(i,a),o=[].concat(i,r),D(a,function(e){t(e,"",o)})),o=o||[].concat(i,r),t("html","manifest","head body"),t("head","","base command link meta noscript script style title"),t("title hr noscript br"),t("base","href target"),t("link","href rel media hreflang type sizes hreflang"),t("meta","name http-equiv content charset"),t("style","media type scoped"),t("script","src async defer type charset"),t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),t("address dt dd div caption","",o),t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),t("blockquote","cite",o),t("ol","reversed start type","li"),t("ul","","li"),t("li","value",o),t("dl","","dt dd"),t("a","href target rel media hreflang type",r),t("q","cite",r),t("ins del","cite datetime",o),t("img","src sizes srcset alt usemap ismap width height"),t("iframe","src name width height",o),t("embed","src type width height"),t("object","data type typemustmatch name usemap form width height",o,"param"),t("param","name value"),t("map","name",o,"area"),t("area","alt coords shape href target rel media hreflang type"),t("table","border","caption colgroup thead tfoot tbody tr"+("html4"==e?" col":"")),t("colgroup","span","col"),t("col","span"),t("tbody thead tfoot","","tr"),t("tr","","td th"),t("td","colspan rowspan headers",o),t("th","colspan rowspan headers scope abbr",o),t("form","accept-charset action autocomplete enctype method name novalidate target",o),t("fieldset","disabled form name",o,"legend"),t("label","form for",r),t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==e?o:r),t("select","disabled form multiple name required size","option optgroup"),t("optgroup","disabled label","option"),t("option","disabled label selected value"),t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),t("menu","type label",o,"li"),t("noscript","",o),"html4"!=e&&(t("wbr"),t("ruby","",r,"rt rp"),t("figcaption","",o),t("mark rt rp summary bdi","",r),t("canvas","width height",o),t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",o,"track source"),t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",o,"track source"),t("picture","","img source"),t("source","src srcset type media sizes"),t("track","kind src srclang label default"),t("datalist","",r,"option"),t("article section nav aside header footer","",o),t("hgroup","","h1 h2 h3 h4 h5 h6"),t("figure","",o,"figcaption"),t("time","datetime",r),t("dialog","open",o),t("command","type label icon disabled checked radiogroup command"),t("output","for form name",r),t("progress","value max",r),t("meter","value min max low high optimum",r),t("details","open",o,"summary"),t("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=e&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select","onchange"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!=e&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("iframe","sandbox seamless allowfullscreen")),D(S("a form meter progress dfn"),function(e){c[e]&&delete c[e].children[e]}),delete c.caption.children.table,R[e]=c)}((r=r||{}).schema),!1===r.verify_html&&(r.valid_elements="*[*]"),s=T(r.valid_styles),l=T(r.invalid_styles,"map"),p=T(r.valid_classes,"map"),d=e("whitespace_elements","pre script noscript style textarea video audio iframe object"),u=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),f=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),h=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),g=e("non_empty_elements","td th iframe video audio object script",f),v=e("move_caret_before_on_enter_elements","table",g),y=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),m=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup",y),b=e("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),D((r.special||"script noscript style textarea").split(" "),function(e){k[e]=new RegExp("</"+e+"[^>]*>","gi")}),r.valid_elements?n(r.valid_elements):(D(c,function(e,t){E[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},x[t]=e.children}),"html5"!=r.schema&&D(S("strong/b em/i"),function(e){e=S(e,"/"),E[e[1]].outputName=e[0]}),E.img.attributesDefault=[{name:"alt",value:""}],D(S("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){E[e]&&(E[e].removeEmpty=!0)}),D(S("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(e){E[e].paddEmpty=!0}),D(S("span"),function(e){E[e].removeEmptyAttrs=!0})),i(r.custom_elements),o(r.valid_children),t(r.extended_valid_elements),o("+ol[ul|ol],+ul[ul|ol]"),r.invalid_elements&&D(M(r.invalid_elements),function(e){E[e]&&delete E[e]}),a("span")||t("span[!data-mce-type|*]"),C.children=x,C.getValidStyles=function(){return s},C.getInvalidStyles=function(){return l},C.getValidClasses=function(){return p},C.getBoolAttrs=function(){return h},C.getBlockElements=function(){return m},C.getTextBlockElements=function(){return y},C.getTextInlineElements=function(){return b},C.getShortEndedElements=function(){return f},C.getSelfClosingElements=function(){return u},C.getNonEmptyElements=function(){return g},C.getMoveCaretBeforeOnEnterElements=function(){return v},C.getWhiteSpaceElements=function(){return d},C.getSpecialElements=function(){return k},C.isValidChild=function(e,t){var n=x[e];return!(!n||!n[t])},C.isValid=function(e,t){var n,i,r=a(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},C.getElementRule=a,C.getCustomElements=function(){return w},C.addValidElements=t,C.setValidElements=n,C.addCustomElements=i,C.addValidChildren=o,C.elements=E}}),e(x,[C,f,r],function(e,W,V){function U(e,t,n){var i,r,o,a,s=1;for(a=e.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(t);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function t(F,z){function t(){}var n=this;F=F||{},n.schema=z=z||new e,!1!==F.fix_self_closing&&(F.fix_self_closing=!0),i("comment cdata text start end pi doctype".split(" "),function(e){e&&(n[e]=F[e]||t)}),n.parse=function(e){function t(e){var t,n;for(t=L.length;t--&&L[t].name!==e;);if(0<=t){for(n=L.length-1;t<=n;n--)(e=L[n]).valid&&B.end(e.name);L.length=t}}function n(e,t,n,i,r){var o,a;if(n=(t=t.toLowerCase())in h?t:H(n||i||r||""),m&&!d&&0!==t.indexOf("data-")){if(!(o=C[t])&&x){for(a=x.length;a--&&!(o=x[a]).pattern.test(t););-1===a&&(o=null)}if(!o)return;if(o.validValues&&!(n in o.validValues))return}if(P[t]&&!F.allow_script_urls){var s=n.replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(e){s=unescape(s)}if(O.test(s))return;if(!F.allow_html_data_urls&&I.test(s)&&!/^data:image\//i.test(s))return}l.map[t]=n,l.push({name:t,value:n})}var i,r,o,l,a,s,c,d,u,f,h,p,m,g,v,y,b,C,x,w,_,E,N,k,S,T,R,A,B=this,D=0,L=[],M=0,H=W.decode,P=V.makeMap("src,href,data,background,formaction,poster"),O=/((java|vb)script|mhtml):/i,I=/^data:/i;for(k=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),S=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,f=z.getShortEndedElements(),N=F.self_closing_elements||z.getSelfClosingElements(),h=z.getBoolAttrs(),m=F.validate,u=F.remove_internals,A=F.fix_self_closing,T=z.getSpecialElements();i=k.exec(e);){if(D<i.index&&B.text(H(e.substr(D,i.index-D))),r=i[6])":"===(r=r.toLowerCase()).charAt(0)&&(r=r.substr(1)),t(r);else if(r=i[7]){if(":"===(r=r.toLowerCase()).charAt(0)&&(r=r.substr(1)),p=r in f,A&&N[r]&&0<L.length&&L[L.length-1].name===r&&t(r),!m||(g=z.getElementRule(r))){if(v=!0,m&&(C=g.attributes,x=g.attributePatterns),(b=i[8])?((d=-1!==b.indexOf("data-mce-type"))&&u&&(v=!1),(l=[]).map={},b.replace(S,n)):(l=[]).map={},m&&!d){if(w=g.attributesRequired,_=g.attributesDefault,E=g.attributesForced,g.removeEmptyAttrs&&!l.length&&(v=!1),E)for(a=E.length;a--;)c=(y=E[a]).name,"{$uid}"===(R=y.value)&&(R="mce_"+M++),l.map[c]=R,l.push({name:c,value:R});if(_)for(a=_.length;a--;)(c=(y=_[a]).name)in l.map||("{$uid}"===(R=y.value)&&(R="mce_"+M++),l.map[c]=R,l.push({name:c,value:R}));if(w){for(a=w.length;a--&&!(w[a]in l.map););-1===a&&(v=!1)}if(y=l.map["data-mce-bogus"]){if("all"===y){D=U(z,e,k.lastIndex),k.lastIndex=D;continue}v=!1}}v&&B.start(r,l,p)}else v=!1;if(o=T[r]){o.lastIndex=D=i.index+i[0].length,(i=o.exec(e))?(v&&(s=e.substr(D,i.index-D)),D=i.index+i[0].length):(s=e.substr(D),D=e.length),v&&(0<s.length&&B.text(s,!0),B.end(r)),k.lastIndex=D;continue}p||(b&&b.indexOf("/")==b.length-1?v&&B.end(r):L.push({name:r,valid:v}))}else(r=i[1])?(">"===r.charAt(0)&&(r=" "+r),F.allow_conditional_comments||"[if"!==r.substr(0,3)||(r=" "+r),B.comment(r)):(r=i[2])?B.cdata(r):(r=i[3])?B.doctype(r):(r=i[4])&&B.pi(r,i[5]);D=i.index+i[0].length}for(D<e.length&&B.text(H(e.substr(D))),a=L.length-1;0<=a;a--)(r=L[a]).valid&&B.end(r.name)}}var i=V.each;return t.findEndTag=U,t}),e(w,[b,C,x,r],function(L,e,M,t){var H=t.makeMap,i=t.each,r=t.explode,P=t.extend;return function(k,S){var T=this,R={},A=[],B={},D={};(k=k||{}).validate=!("validate"in k)||k.validate,k.root_name=k.root_name||"body",T.schema=S=S||new e,T.filterNode=function(e){var t,n,i;n in R&&((i=B[n])?i.push(e):B[n]=[e]),t=A.length;for(;t--;)(n=A[t].name)in e.attributes.map&&((i=D[n])?i.push(e):D[n]=[e]);return e},T.addNodeFilter=function(e,n){i(r(e),function(e){var t=R[e];t||(R[e]=t=[]),t.push(n)})},T.addAttributeFilter=function(e,n){i(r(e),function(e){var t;for(t=0;t<A.length;t++)if(A[t].name===e)return void A[t].callbacks.push(n);A.push({name:e,callbacks:[n]})})},T.parse=function(e,t){function l(e,t){var n,i=new L(e,t);return e in R&&((n=B[e])?n.push(i):B[e]=[i]),i}function c(e){var t,n,i;for(t=e.prev;t&&3===t.type;)0<(n=t.value.replace(y,"")).length?(t.value=n,t=t.prev):(i=t.prev,t.remove(),t=i)}var n,r,d,i,o,a,s,u,f,h,p,m,g,v,y,b,C,x,w,_,E,N=[];if(t=t||{},B={},D={},m=P(H("script,style,head,html,body,title,meta,param"),S.getBlockElements()),_=S.getNonEmptyElements(),w=S.children,p=k.validate,E="forced_root_block"in t?t.forced_root_block:k.forced_root_block,x=S.getWhiteSpaceElements(),g=/^[ \t\r\n]+/,y=/[ \t\r\n]+$/,b=/[ \t\r\n]+/g,C=/^[ \t\r\n]+$/,n=new M({validate:p,allow_script_urls:k.allow_script_urls,allow_conditional_comments:k.allow_conditional_comments,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!=t&&(n[t]=e[t]);return n}(S.getSelfClosingElements()),cdata:function(e){d.append(l("#cdata",4)).value=e},text:function(e,t){var n;v||(e=e.replace(b," "),d.lastChild&&m[d.lastChild.name]&&(e=e.replace(g,""))),0!==e.length&&((n=l("#text",3)).raw=!!t,d.append(n).value=e)},comment:function(e){d.append(l("#comment",8)).value=e},pi:function(e,t){d.append(l(e,7)).value=t,c(d)},doctype:function(e){d.append(l("#doctype",10)).value=e,c(d)},start:function(e,t,n){var i,r,o,a,s;if(o=p?S.getElementRule(e):{}){for((i=l(o.outputName||e,1)).attributes=t,i.shortEnded=n,d.append(i),(s=w[d.name])&&w[i.name]&&!s[i.name]&&N.push(i),r=A.length;r--;)(a=A[r].name)in t.map&&((f=D[a])?f.push(i):D[a]=[i]);m[e]&&c(i),n||(d=i),!v&&x[e]&&(v=!0)}},end:function(e){var t,n,i,r,o;if(n=p?S.getElementRule(e):{}){if(m[e]&&!v){if((t=d.firstChild)&&3===t.type)if(0<(i=t.value.replace(g,"")).length)t.value=i,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)i=t.value,r=t.next,(0===i.length||C.test(i))&&(t.remove(),t=r),t=r;if((t=d.lastChild)&&3===t.type)if(0<(i=t.value.replace(y,"")).length)t.value=i,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)i=t.value,r=t.prev,(0===i.length||C.test(i))&&(t.remove(),t=r),t=r}if(v&&x[e]&&(v=!1),(n.removeEmpty||n.paddEmpty)&&d.isEmpty(_))if(n.paddEmpty)d.empty().append(new L("#text","3")).value=" ";else if(!d.attributes.map.name&&!d.attributes.map.id)return o=d.parent,m[d.name]?d.empty().remove():d.unwrap(),void(d=o);d=d.parent}}},S),r=d=new L(t.context||k.root_name,11),n.parse(e),p&&N.length&&(t.context?t.invalid=!0:function(e){var t,n,i,r,o,a,s,l,c,d,u,f,h,p;for(u=H("tr,td,th,tbody,thead,tfoot,table"),d=S.getNonEmptyElements(),f=S.getTextBlockElements(),t=0;t<e.length;t++)if((n=e[t]).parent&&!n.fixed)if(f[n.name]&&"li"==n.parent.name){for(h=n.next;h&&f[h.name];)h.name="li",h.fixed=!0,n.parent.insert(h,n.parent),h=h.next;n.unwrap(n)}else{for(r=[n],i=n.parent;i&&!S.isValidChild(i.name,n.name)&&!u[i.name];i=i.parent)r.push(i);if(i&&1<r.length){for(r.reverse(),o=a=T.filterNode(r[0].clone()),c=0;c<r.length-1;c++){for(S.isValidChild(a.name,r[c].name)?(s=T.filterNode(r[c].clone()),a.append(s)):s=a,l=r[c].firstChild;l&&l!=r[c+1];)p=l.next,s.append(l),l=p;a=s}o.isEmpty(d)?i.insert(n,r[0],!0):(i.insert(o,r[0],!0),i.insert(n,o)),((i=r[0]).isEmpty(d)||i.firstChild===i.lastChild&&"br"===i.firstChild.name)&&i.empty().remove()}else if(n.parent){if("li"===n.name){if((h=n.prev)&&("ul"===h.name||"ul"===h.name)){h.append(n);continue}if((h=n.next)&&("ul"===h.name||"ul"===h.name)){h.insert(n,h.firstChild,!0);continue}n.wrap(T.filterNode(new L("ul",1)));continue}S.isValidChild(n.parent.name,"div")&&S.isValidChild("div",n.name)?n.wrap(T.filterNode(new L("div",1))):"style"===n.name||"script"===n.name?n.empty().remove():n.unwrap()}}}(N)),E&&("body"==r.name||t.isRootContent)&&function(){function e(e){e&&((i=e.firstChild)&&3==i.type&&(i.value=i.value.replace(g,"")),(i=e.lastChild)&&3==i.type&&(i.value=i.value.replace(y,"")))}var t,n,i=r.firstChild;if(S.isValidChild(r.name,E.toLowerCase())){for(;i;)t=i.next,3==i.type||1==i.type&&"p"!==i.name&&!m[i.name]&&!i.attr("data-mce-type")?(n||((n=l(E,1)).attr(k.forced_root_block_attrs),r.insert(n,i)),n.append(i)):(e(n),n=null),i=t;e(n)}}(),!t.invalid){for(h in B){for(f=R[h],s=(i=B[h]).length;s--;)i[s].parent||i.splice(s,1);for(o=0,a=f.length;o<a;o++)f[o](i,h,t)}for(o=0,a=A.length;o<a;o++)if((f=A[o]).name in D){for(s=(i=D[f.name]).length;s--;)i[s].parent||i.splice(s,1);for(s=0,u=f.callbacks.length;s<u;s++)f.callbacks[s](i,f.name,t)}}return r},k.remove_trailing_brs&&T.addNodeFilter("br",function(e){var t,n,i,r,o,a,s,l,c=e.length,d=P({},S.getBlockElements()),u=S.getNonEmptyElements();for(d.body=1,t=0;t<c;t++)if(i=(n=e[t]).parent,d[n.parent.name]&&n===i.lastChild){for(o=n.prev;o;){if("span"!==(a=o.name)||"bookmark"!==o.attr("data-mce-type")){if("br"!==a)break;if("br"===a){n=null;break}}o=o.prev}n&&(n.remove(),i.isEmpty(u)&&((s=S.getElementRule(i.name))&&(s.removeEmpty?i.remove():s.paddEmpty&&(i.empty().append(new L("#text",3)).value=" "))))}else{for(r=n;i&&i.firstChild===r&&i.lastChild===r&&!d[(r=i).name];)i=i.parent;r===i&&((l=new L("#text",3)).value=" ",n.replace(l))}}),k.allow_html_in_named_anchor||T.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,t=r.lastChild;n=t.prev,i.insert(t,r),t=n;);}),k.validate&&S.getValidClasses()&&T.addAttributeFilter("class",function(e){for(var t,n,i,r,o,a,s,l=e.length,c=S.getValidClasses();l--;){for(n=(t=e[l]).attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,(a=c["*"])&&a[r]&&(s=!0),a=c[t.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),t.attr("class",o)}})}}),e(_,[f,r],function(t,e){var n=e.makeMap;return function(e){var s,l,c,d,u,f=[];return s=(e=e||{}).indent,l=n(e.indent_before||""),c=n(e.indent_after||""),d=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),u="html"==e.element_format,{start:function(e,t,n){var i,r,o,a;if(s&&l[e]&&0<f.length&&(0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n")),f.push("<",e),t)for(i=0,r=t.length;i<r;i++)o=t[i],f.push(" ",o.name,'="',d(o.value,!0),'"');f[f.length]=!n||u?">":" />",n&&s&&c[e]&&0<f.length&&(0<(a=f[f.length-1]).length&&"\n"!==a&&f.push("\n"))},end:function(e){var t;f.push("</",e,">"),s&&c[e]&&0<f.length&&(0<(t=f[f.length-1]).length&&"\n"!==t&&f.push("\n"))},text:function(e,t){0<e.length&&(f[f.length]=t?e:d(e))},cdata:function(e){f.push("<![CDATA[",e,"]]>")},comment:function(e){f.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?f.push("<?",e," ",d(t),"?>"):f.push("<?",e,"?>"),s&&f.push("\n")},doctype:function(e){f.push("<!DOCTYPE",e,">",s?"\n":"")},reset:function(){f.length=0},getContent:function(){return f.join("").replace(/\n$/,"")}}}}),e(E,[_,C],function(e,n){return function(t,p){var m=new e(t);(t=t||{}).validate=!("validate"in t)||t.validate,this.schema=p=p||new n,this.writer=m,this.serialize=function(e){function u(e){var t,n,i,r,o,a,s,l,c,d=f[e.type];if(d)d(e);else{if(t=e.name,n=e.shortEnded,i=e.attributes,h&&i&&1<i.length){for((a=[]).map={},s=0,l=(c=p.getElementRule(e.name)).attributesOrder.length;s<l;s++)(r=c.attributesOrder[s])in i.map&&(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));for(s=0,l=i.length;s<l;s++)(r=i[s].name)in a.map||(o=i.map[r],a.map[r]=o,a.push({name:r,value:o}));i=a}if(m.start(e.name,i,n),!n){if(e=e.firstChild)for(;u(e),e=e.next;);m.end(t)}}}var f,h;return h=t.validate,f={3:function(e){m.text(e.value,e.raw)},8:function(e){m.comment(e.value)},7:function(e){m.pi(e.name,e.value)},10:function(e){m.doctype(e.value)},4:function(e){m.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;u(e),e=e.next;);}},m.reset(),1!=e.type||t.inner?f[11](e):u(e),m.getContent()}}}),e(N,[p,w,f,E,b,C,i,r],function(e,n,i,u,t,r,f,o){var h=o.each,p=o.trim,a=e.DOM;return function(l,t){var c,s,d;return t&&(c=t.dom,s=t.schema),c=c||a,s=s||new r(l),l.entity_encoding=l.entity_encoding||"named",l.remove_trailing_brs=!("remove_trailing_brs"in l)||l.remove_trailing_brs,(d=new n(l,s)).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),d.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r=e.length,o="data-mce-"+t,a=l.url_converter,s=l.url_converter_scope;r--;)void 0!==(i=(n=e[r]).attributes.map[o])?(n.attr(t,0<i.length?i:null),n.attr(o,null)):(i=n.attributes.map[t],"style"===t?i=c.serializeStyle(c.parseStyle(i),n.name):a&&(i=a.call(s,i,t,n.name)),n.attr(t,0<i.length?i:null))}),d.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),d.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()}),d.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=i.decode(t.value))}),d.addNodeFilter("script,style",function(e,t){function n(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o,a=e.length;a--;)r=(i=e[a]).firstChild?i.firstChild.value:"","script"===t?((o=i.attr("type"))&&i.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),0<r.length&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):0<r.length&&(i.firstChild.value="\x3c!--\n"+n(r)+"\n--\x3e")}),d.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)0===(t=e[n]).value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),d.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),l.fix_list_elements&&d.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)("ul"===(n=(t=e[i]).parent).name||"ol"===n.name)&&t.prev&&"li"===t.prev.name&&t.prev.append(t)}),d.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:s,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:function(e,t){var n,i,r,o,a;return f.ie&&0<c.select("script,style,select,map").length?(a=e.innerHTML,e=e.cloneNode(!1),c.setHTML(e,a)):e=e.cloneNode(!0),(n=e.ownerDocument.implementation).createHTMLDocument&&(i=n.createHTMLDocument(""),h("BODY"==e.nodeName?e.childNodes:[e],function(e){i.body.appendChild(i.importNode(e,!0))}),e="BODY"!=e.nodeName?i.body.firstChild:i.body,r=c.doc,c.doc=i),(t=t||{}).format=t.format||"html",t.selection&&(t.forced_root_block=""),t.no_events||(t.node=e,this.onPreProcess(t)),o=new u(l,s),t.content=o.serialize(d.parse(p(t.getInner?e.innerHTML:c.getOuterHTML(e)),t)),t.cleanup||(t.content=t.content.replace(/\uFEFF/g,"")),t.no_events||this.onPostProcess(t),r&&(c.doc=r),t.node=null,t.content},addRules:function(e){s.addValidElements(e)},setRules:function(e){s.setValidElements(e)},onPreProcess:function(e){t&&t.fire("PreProcess",e)},onPostProcess:function(e){t&&t.fire("PostProcess",e)}}}}),e(k,[],function(){return function(h){function c(e,t){var n,i,r,o,a,s,l,c,d=0,u=-1;if((n=e.duplicate()).collapse(t),(c=n.parentElement()).ownerDocument===h.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(i=(o=c.children).length-1;d<=i;)if(a=o[l=Math.floor((d+i)/2)],n.moveToElementText(a),0<(u=n.compareEndPoints(t?"StartToStart":"EndToEnd",e)))i=l-1;else{if(!(u<0))return{node:a};d=l+1}if(u<0)for(a?n.collapse(!1):(n.moveToElementText(c),n.collapse(!0),a=c,r=!0),s=0;0!==n.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==n.move("character",1)&&c==n.parentElement();)s++;else for(n.collapse(!0),s=0;0!==n.compareEndPoints(t?"StartToStart":"StartToEnd",e)&&0!==n.move("character",-1)&&c==n.parentElement();)s++;return{node:a,position:u,offset:s,inside:r}}}var d=this,p=h.dom;this.getBookmark=function(e){function n(e){var t,n,i,r,o=[];for(t=e.parentNode,n=p.getRoot().parentNode;t!=n&&9!==t.nodeType;){for(r=(i=t.children).length;r--;)if(e===i[r]){o.push(r);break}t=(e=t).parentNode}return o}function t(e){var t;return(t=c(i,e))?{position:t.position,offset:t.offset,indexes:n(t.node),inside:t.inside}:void 0}var i=h.getRng(),r={};return 2===e&&(i.item?r.start={ctrl:!0,indexes:n(i.item(0))}:(r.start=t(!0),h.isCollapsed()||(r.end=t()))),r},this.moveToBookmark=function(o){function a(e){var t,n,i,r;for(t=p.getRoot(),n=e.length-1;0<=n;n--)r=t.children,(i=e[n])<=r.length-1&&(t=r[i]);return t}function e(e){var t,n,i,r=o[e?"start":"end"];r&&(t=0<r.position,(n=l.createTextRange()).moveToElementText(a(r.indexes)),void 0!==(i=r.offset)?(n.collapse(r.inside||t),n.moveStart("character",t?-i:i)):n.collapse(e),s.setEndPoint(e?"StartToStart":"EndToStart",n),e&&s.collapse(!0))}var s,l=p.doc.body;o.start&&(o.start.ctrl?(s=l.createControlRange()).addElement(a(o.start.indexes)):(s=l.createTextRange(),e(!0),e()),s.select())},this.addRange=function(e){function t(e){var t,n,i,r,o;i=p.create("a"),t=e?s:c,n=e?l:d,r=a.duplicate(),(t==u||t==u.documentElement)&&(t=f,n=0),3==t.nodeType?(t.parentNode.insertBefore(i,t),r.moveToElementText(i),r.moveStart("character",n),p.remove(i),a.setEndPoint(e?"StartToStart":"EndToEnd",r)):((o=t.childNodes).length?(n>=o.length?p.insertAfter(i,o[o.length-1]):t.insertBefore(i,o[n]),r.moveToElementText(i)):t.canHaveHTML&&(t.innerHTML="<span>&#xFEFF;</span>",i=t.firstChild,r.moveToElementText(i),r.collapse(!1)),a.setEndPoint(e?"StartToStart":"EndToEnd",r),p.remove(i))}var a,n,s,l,c,d,i,r,o,u=h.dom.doc,f=u.body;if(s=e.startContainer,l=e.startOffset,c=e.endContainer,d=e.endOffset,a=f.createTextRange(),s==c&&1==s.nodeType){if(l==d&&!s.hasChildNodes()){if(s.canHaveHTML)return(i=s.previousSibling)&&!i.hasChildNodes()&&p.isBlock(i)?i.innerHTML="&#xFEFF;":i=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",a.moveToElementText(s.lastChild),a.select(),p.doc.selection.clear(),s.innerHTML="",void(i&&(i.innerHTML=""));l=p.nodeIndex(s),s=s.parentNode}if(l==d-1)try{if(o=s.childNodes[l],(n=f.createControlRange()).addElement(o),n.select(),(r=h.getRng()).item&&o===r.item(0))return}catch(e){}}t(!0),t(),a.select()},this.getRangeAt=function(){function t(e){var t,n,i,r,o=c(s,e),a=0;if(t=o.node,n=o.offset,!o.inside||t.hasChildNodes())if(void 0!==n){if(o.position<0){if(!(i=o.inside?t.firstChild:t.nextSibling))return void l[e?"setStartAfter":"setEndAfter"](t);if(!n)return void(3==i.nodeType?l[e?"setStart":"setEnd"](i,0):l[e?"setStartBefore":"setEndBefore"](i));for(;i;){if(3==i.nodeType&&n<=(a+=(r=i.nodeValue).length)){t=i,a-=n,a=r.length-a;break}i=i.nextSibling}}else{if(!(i=t.previousSibling))return l[e?"setStartBefore":"setEndBefore"](t);if(!n)return void(3==t.nodeType?l[e?"setStart":"setEnd"](i,t.nodeValue.length):l[e?"setStartAfter":"setEndAfter"](i));for(;i;){if(3==i.nodeType&&n<=(a+=i.nodeValue.length)){t=i,a-=n;break}i=i.previousSibling}}l[e?"setStart":"setEnd"](t,a)}else l[e?"setStartBefore":"setEndAfter"](t);else l[e?"setStart":"setEnd"](t,0)}var n,i,r,o,a,s=h.getRng(),l=p.createRng();if((n=s.item?s.item(0):s.parentElement()).ownerDocument!=p.doc)return l;if(i=h.isCollapsed(),s.item)return l.setStart(n.parentNode,p.nodeIndex(n)),l.setEnd(l.startContainer,l.startOffset+1),l;try{t(!0),i||t()}catch(e){if(-2147024809!=e.number)throw e;a=d.getBookmark(2),(r=s.duplicate()).collapse(!0),n=r.parentElement(),i||((r=s.duplicate()).collapse(!1),(o=r.parentElement()).innerHTML=o.innerHTML),n.innerHTML=n.innerHTML,d.moveToBookmark(a),s=h.getRng(),t(!0),i||t()}return l}}}),e(S,[i],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),e(T,[S,r,i],function(U,$,q){return function(r,c){function d(e){var t=c.settings.object_resizing;return!1!==t&&!q.iOS&&("string"!=typeof t&&(t="table,img,div"),"false"!==e.getAttribute("data-mce-resize")&&c.dom.is(e,t))}function u(e){var t,n,i,r;t=e.screenX-_,n=e.screenY-E,B=t*x[2]+S,D=n*x[3]+T,B=B<5?5:B,D=D<5?5:D,("IMG"==v.nodeName&&!1!==c.settings.resize_img_proportional?!U.modifierPressed(e):U.modifierPressed(e)||"IMG"==v.nodeName&&x[2]*x[3]!=0)&&(F(t)>F(n)?(D=z(B*R),B=z(D/R)):(B=z(D/R),D=z(B*R))),H.setStyles(y,{width:B,height:D}),i=0<(i=x.startPos.x+t)?i:0,r=0<(r=x.startPos.y+n)?r:0,H.setStyles(b,{left:i,top:r,display:"block"}),b.innerHTML=B+" &times; "+D,x[2]<0&&y.clientWidth<=B&&H.setStyle(y,"left",N+(S-B)),x[3]<0&&y.clientHeight<=D&&H.setStyle(y,"top",k+(T-D)),(t=W.scrollWidth-L)+(n=W.scrollHeight-M)!==0&&H.setStyles(b,{left:i-t,top:r-n}),A||(c.fire("ObjectResizeStart",{target:v,width:S,height:T}),A=!0)}function f(){function e(e,t){t&&(v.style[e]||!c.schema.isValid(v.nodeName.toLowerCase(),e)?H.setStyle(v,e,t):H.setAttrib(v,e,t))}A=!1,e("width",B),e("height",D),H.unbind(O,"mousemove",u),H.unbind(O,"mouseup",f),I!=O&&(H.unbind(I,"mousemove",u),H.unbind(I,"mouseup",f)),H.remove(y),H.remove(b),l&&"TABLE"!=v.nodeName||h(v),c.fire("ObjectResized",{target:v,width:B,height:D}),H.setAttrib(v,"style",H.getAttrib(v,"style")),c.nodeChanged()}function h(e,o,a){var t,s,l,n,i;g(),t=H.getPos(e,W),N=t.x,k=t.y,i=e.getBoundingClientRect(),s=i.width||i.right-i.left,l=i.height||i.bottom-i.top,v!=e&&(m(),v=e,B=D=0),n=c.fire("ObjectSelected",{target:e}),d(e)&&!n.isDefaultPrevented()?P(C,function(t,e){function n(e){_=e.screenX,E=e.screenY,S=v.clientWidth,T=v.clientHeight,R=T/S,(x=t).startPos={x:s*t[0]+N,y:l*t[1]+k},L=W.scrollWidth,M=W.scrollHeight,y=v.cloneNode(!0),H.addClass(y,"mce-clonedresizable"),H.setAttrib(y,"data-mce-bogus","all"),y.contentEditable=!1,y.unSelectabe=!0,H.setStyles(y,{left:N,top:k,margin:0}),y.removeAttribute("data-mce-selected"),W.appendChild(y),H.bind(O,"mousemove",u),H.bind(O,"mouseup",f),I!=O&&(H.bind(I,"mousemove",u),H.bind(I,"mouseup",f)),b=H.add(W,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},S+" &times; "+T)}var i,r;return o?void(e==o&&n(a)):((i=H.get("mceResizeHandle"+e))?H.show(i):(r=W,i=H.add(r,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),q.ie&&(i.contentEditable=!1)),t.elm||(H.bind(i,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),n(e)}),t.elm=i),void H.setStyles(i,{left:s*t[0]+N-i.offsetWidth/2,top:l*t[1]+k-i.offsetHeight/2}))}):p(),v.setAttribute("data-mce-selected","1")}function p(){var e,t;for(e in g(),v&&v.removeAttribute("data-mce-selected"),C)(t=H.get("mceResizeHandle"+e))&&(H.unbind(t),H.remove(t))}function t(e){function t(e,t){if(e)do{if(e===t)return!0}while(e=e.parentNode)}var n,i;if(!A)return P(H.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),i="mousedown"==e.type?e.target:r.getNode(),t(i=H.$(i).closest(l?"table":"table,img,hr")[0],W)&&(a(),t(n=r.getStart(!0),i)&&t(r.getEnd(!0),i)&&(!l||i!=n&&"IMG"!==n.nodeName))?void h(i):void p()}function n(e,t,n){e&&e.attachEvent&&e.attachEvent("on"+t,n)}function e(e,t,n){e&&e.detachEvent&&e.detachEvent("on"+t,n)}function i(e){var t,n,i,r,o,a,s,l=e.srcElement;for(n in t=l.getBoundingClientRect(),a=w.clientX-t.left,s=w.clientY-t.top,C)if(i=C[n],r=l.offsetWidth*i[0],o=l.offsetHeight*i[1],F(r-a)<8&&F(o-s)<8){x=i;break}A=!0,c.fire("ObjectResizeStart",{target:v,width:v.clientWidth,height:v.clientHeight}),c.getDoc().selection.empty(),h(l,n,w)}function o(e){var t=e.srcElement;if(t!=v){if(c.fire("ObjectSelected",{target:t}),m(),0===t.id.indexOf("mceResizeHandle"))return void(e.returnValue=!1);("IMG"==t.nodeName||"TABLE"==t.nodeName)&&(p(),n(v=t,"resizestart",i))}}function m(){e(v,"resizestart",i)}function g(){for(var e in C){var t=C[e];t.elm&&(H.unbind(t.elm),delete t.elm)}}function a(){try{c.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}}function s(e){var t;if(l){t=O.body.createControlRange();try{return t.addElement(e),t.select(),!0}catch(e){}}}var v,y,b,C,x,w,_,E,N,k,S,T,R,A,B,D,L,M,H=c.dom,P=$.each,O=c.getDoc(),I=document,l=q.ie&&q.ie<11,F=Math.abs,z=Math.round,W=c.getBody();C={n:[.5,0,0,-1],e:[1,.5,1,0],s:[.5,1,0,1],w:[0,.5,-1,0],nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var V=".mce-content-body";return c.contentStyles.push(V+" div.mce-resizehandle {position: absolute;border: 1px solid black;background: #FFF;width: 5px;height: 5px;z-index: 10000}"+V+" .mce-resizehandle:hover {background: #000}"+V+" img[data-mce-selected], hr[data-mce-selected] {outline: 1px solid black;resize: none}"+V+" .mce-clonedresizable {position: absolute;"+(q.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+V+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),c.on("init",function(){l?(c.on("ObjectResized",function(e){"TABLE"!=e.target.nodeName&&(p(),s(e.target))}),n(W,"controlselect",o),c.on("mousedown",function(e){w=e})):(a(),11<=q.ie&&(c.on("mouseup",function(e){var t=e.target.nodeName;!A&&/^(TABLE|IMG|HR)$/.test(t)&&(c.selection.select(e.target,"TABLE"==t),c.nodeChanged())}),c.dom.bind(W,"mscontrolselect",function(e){/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"==e.target.tagName&&window.setTimeout(function(){c.selection.select(e.target)},0))}))),c.on("nodechange ResizeEditor",t),c.on("keydown keyup",function(e){v&&"TABLE"==v.nodeName&&t(e)}),c.on("hide",p)}),c.on("remove",g),{isResizable:d,showResizeRect:h,hideResizeRect:p,updateResizeRect:t,controlSelect:s,destroy:function(){v=y=null,l&&(m(),e(W,"controlselect",o))}}}}),e(R,[i,r],function(m,g){function e(h){var p=h.dom;this.getBookmark=function(e,c){function t(e,n){var i=0;return g.each(p.select(e),function(e,t){e==n&&(i=t)}),i}function n(o){function e(e){var t,n,i,r=e?"start":"end";t=o[r+"Container"],n=o[r+"Offset"],1==t.nodeType&&"TR"==t.nodeName&&((t=(i=t.childNodes)[Math.min(e?n:n-1,i.length-1)])&&(n=e?0:t.childNodes.length,o["set"+(e?"Start":"End")](t,n)))}return e(!0),e(),o}var i,r,o,a,s,l,d,u="&#xFEFF;";if(2==e)return"IMG"==(s=(l=h.getNode())?l.nodeName:null)?{name:s,index:t(s,l)}:h.tridentSel?h.tridentSel.getBookmark(e):function(){function e(e,t){var n,i,r=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"],a=[],s=0;if(3==r.nodeType){if(c)for(n=r.previousSibling;n&&3==n.nodeType;n=n.previousSibling)o+=n.nodeValue.length;a.push(o)}else o>=(i=r.childNodes).length&&i.length&&(s=1,o=Math.max(0,i.length-1)),a.push(p.nodeIndex(i[o],c)+s);for(;r&&r!=l;r=r.parentNode)a.push(p.nodeIndex(r,c));return a}var t=h.getRng(!0),l=p.getRoot(),n={};return n.start=e(t,!0),h.isCollapsed()||(n.end=e(t)),n}();if(e)return{rng:h.getRng()};if(i=h.getRng(),o=p.uniqueId(),a=h.isCollapsed(),d="overflow:hidden;line-height:0px",i.duplicate||i.item){if(i.item)return{name:s=(l=i.item(0)).nodeName,index:t(s,l)};r=i.duplicate();try{i.collapse(),i.pasteHTML('<span data-mce-type="bookmark" id="'+o+'_start" style="'+d+'">'+u+"</span>"),a||(r.collapse(!1),i.moveToElementText(r.parentElement()),0===i.compareEndPoints("StartToEnd",r)&&r.move("character",-1),r.pasteHTML('<span data-mce-type="bookmark" id="'+o+'_end" style="'+d+'">'+u+"</span>"))}catch(e){return null}}else{if("IMG"==(s=(l=h.getNode()).nodeName))return{name:s,index:t(s,l)};r=n(i.cloneRange()),a||(r.collapse(!1),r.insertNode(p.create("span",{"data-mce-type":"bookmark",id:o+"_end",style:d},u))),(i=n(i)).collapse(!0),i.insertNode(p.create("span",{"data-mce-type":"bookmark",id:o+"_start",style:d},u))}return h.moveToBookmark({id:o,keep:1}),{id:o}},this.moveToBookmark=function(s){function e(e){var t,n,i,r,o=s[e?"start":"end"];if(o){for(i=o[0],n=l,t=o.length-1;1<=t;t--){if(r=n.childNodes,o[t]>r.length-1)return;n=r[o[t]]}3===n.nodeType&&(i=Math.min(o[0],n.nodeValue.length)),1===n.nodeType&&(i=Math.min(o[0],n.childNodes.length)),e?a.setStart(n,i):a.setEnd(n,i)}return!0}function t(e){var t,n,i,r,o=p.get(s.id+"_"+e),a=s.keep;if(o&&(t=o.parentNode,"start"==e?(a?(t=o.firstChild,n=1):n=p.nodeIndex(o),c=d=t,u=f=n):(a?(t=o.firstChild,n=1):n=p.nodeIndex(o),d=t,f=n),!a)){for(r=o.previousSibling,i=o.nextSibling,g.each(g.grep(o.childNodes),function(e){3==e.nodeType&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});o=p.get(s.id+"_"+e);)p.remove(o,1);r&&i&&r.nodeType==i.nodeType&&3==r.nodeType&&!m.opera&&(n=r.nodeValue.length,r.appendData(i.nodeValue),p.remove(i),"start"==e?(c=d=r,u=f=n):(d=r,f=n))}}function n(e){return!p.isBlock(e)||e.innerHTML||m.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}var a,l,c,d,u,f;if(s)if(s.start){if(a=p.createRng(),l=p.getRoot(),h.tridentSel)return h.tridentSel.moveToBookmark(s);e(!0)&&e()&&h.setRng(a)}else s.id?(t("start"),t("end"),c&&((a=p.createRng()).setStart(n(c),u),a.setEnd(n(d),f),h.setRng(a))):s.name?h.select(p.select(s.name)[s.index]):s.rng&&h.setRng(s.rng)}}return e.isBookmarkNode=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},e}),e(A,[d,k,T,v,R,i,r],function(s,o,a,t,l,c,e){function n(e,t,n,i){var r=this;r.dom=e,r.win=t,r.serializer=n,r.editor=i,r.bookmarkManager=new l(r),r.controlSelection=new a(r,i),r.win.getSelection||(r.tridentSel=new o(r))}var d=e.each,u=e.trim,f=c.ie;return n.prototype={setCursorLocation:function(e,t){var n=this,i=n.dom.createRng();e?(i.setStart(e,t),i.setEnd(e,t),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(e){var t,n,i,r=this,o=r.getRng(),a=r.dom.create("body"),s=r.getSel();return t=n="",(e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,r.editor.fire("BeforeGetContent",e),"text"==e.format?r.isCollapsed()?"":o.text||(s.toString?s.toString():""):(o.cloneContents?(i=o.cloneContents())&&a.appendChild(i):o.item!==ye||o.htmlText!==ye?(a.innerHTML="<br>"+(o.item?o.item(0).outerHTML:o.htmlText),a.removeChild(a.firstChild)):a.innerHTML=o.toString(),/^\s/.test(a.innerHTML)&&(t=" "),/\s+$/.test(a.innerHTML)&&(n=" "),e.getInner=!0,e.content=r.isCollapsed()?"":t+r.serializer.serialize(a,e)+n,r.editor.fire("GetContent",e),e.content)},setContent:function(e,t){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if((t=t||{format:"html"}).set=!0,t.selection=!0,e=t.content=e,t.no_events||o.editor.fire("BeforeSetContent",t),e=t.content,a.insertNode){e+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=e:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=e:a.createContextualFragment?a.insertNode(a.createContextualFragment(e)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=e,a.insertNode(i))),n=o.dom.get("__caret"),(a=s.createRange()).setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(e){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(e)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+e),o.dom.remove("__mce_tmp")):a.pasteHTML(e);t.no_events||o.editor.fire("SetContent",t)},getStart:function(e){var t,n,i,r,o=this.getRng();if(o.duplicate||o.item){if(o.item)return o.item(0);for((i=o.duplicate()).collapse(1),(t=i.parentElement()).ownerDocument!==this.dom.doc&&(t=this.dom.getRoot()),n=r=o.parentElement();r=r.parentNode;)if(r==t){t=n;break}return t}return 1==(t=o.startContainer).nodeType&&t.hasChildNodes()&&(e&&o.collapsed||(t=t.childNodes[Math.min(t.childNodes.length-1,o.startOffset)])),t&&3==t.nodeType?t.parentNode:t},getEnd:function(e){var t,n,i=this.getRng();return i.duplicate||i.item?i.item?i.item(0):((i=i.duplicate()).collapse(0),(t=i.parentElement()).ownerDocument!==this.dom.doc&&(t=this.dom.getRoot()),t&&"BODY"==t.nodeName&&t.lastChild||t):(t=i.endContainer,n=i.endOffset,1==t.nodeType&&t.hasChildNodes()&&(e&&i.collapsed||(t=t.childNodes[0<n?n-1:n])),t&&3==t.nodeType?t.parentNode:t)},getBookmark:function(e,t){return this.bookmarkManager.getBookmark(e,t)},moveToBookmark:function(e){return this.bookmarkManager.moveToBookmark(e)},select:function(e,t){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,e){if(!t&&i.controlSelection.controlSelect(e))return;n=r.nodeIndex(e),o.setStart(e.parentNode,n),o.setEnd(e.parentNode,n+1),t&&(i._moveEndPoint(o,e,!0),i._moveEndPoint(o,e)),i.setRng(o)}return e},isCollapsed:function(){var e=this.getRng(),t=this.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},collapse:function(e){var t,n=this.getRng();n.item&&(t=n.item(0),(n=this.win.document.body.createTextRange()).moveToElementText(t)),n.collapse(!!e),this.setRng(n)},getSel:function(){var e=this.win;return e.getSelection?e.getSelection():e.document.selection},getRng:function(e){function t(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var n,i,r,o,a=this,s=a.win.document;if(!e&&a.lastFocusBookmark){var l=a.lastFocusBookmark;return l.startContainer?((i=s.createRange()).setStart(l.startContainer,l.startOffset),i.setEnd(l.endContainer,l.endOffset)):i=l,i}if(e&&a.tridentSel)return a.tridentSel.getRangeAt(0);try{(n=a.getSel())&&(i=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():s.createRange())}catch(e){}if(f&&i&&i.setStart&&s.selection){try{o=s.selection.createRange()}catch(e){}o&&o.item&&(r=o.item(0),(i=s.createRange()).setStartBefore(r),i.setEndAfter(r))}return i||(i=s.createRange?s.createRange():s.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=a.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),a.selectedRange&&a.explicitRange&&(0===t(i.START_TO_START,i,a.selectedRange)&&0===t(i.END_TO_END,i,a.selectedRange)?i=a.explicitRange:(a.selectedRange=null,a.explicitRange=null)),i},setRng:function(e,t){var n,i=this;if(e)if(e.select)try{e.select()}catch(e){}else if(i.tridentSel){if(e.cloneRange)try{return void i.tridentSel.addRange(e)}catch(e){}}else if(n=i.getSel()){i.explicitRange=e;try{n.removeAllRanges(),n.addRange(e)}catch(e){}!1===t&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),i.selectedRange=0<n.rangeCount?n.getRangeAt(0):null}},setNode:function(e){return this.setContent(this.dom.getOuterHTML(e)),e},getNode:function(){function e(e,t){for(var n=e;e&&3===e.nodeType&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}var t,n=this.getRng(),i=n.startContainer,r=n.endContainer,o=n.startOffset,a=n.endOffset,s=this.dom.getRoot();return n?n.setStart?(t=n.commonAncestorContainer,!n.collapsed&&(i==r&&a-o<2&&i.hasChildNodes()&&(t=i.childNodes[o]),3===i.nodeType&&3===r.nodeType&&(i=i.length===o?e(i.nextSibling,!0):i.parentNode,r=0===a?e(r.previousSibling,!1):r.parentNode,i&&i===r))?i:t&&3==t.nodeType?t.parentNode:t):((t=n.item?n.item(0):n.parentElement()).ownerDocument!==this.win.document&&(t=s),t):s},getSelectedBlocks:function(e,t){var n,i,r=this.dom,o=[];if(i=r.getRoot(),e=r.getParent(e||this.getStart(),r.isBlock),t=r.getParent(t||this.getEnd(),r.isBlock),e&&e!=i&&o.push(e),e&&t&&e!=t)for(var a=new s(n=e,i);(n=a.next())&&n!=t;)r.isBlock(n)&&o.push(n);return t&&e!=t&&t!=i&&o.push(t),o},isForward:function(){var e,t,n=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||((e=n.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(t=n.createRng()).setStart(i.focusNode,i.focusOffset),t.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,t)<=0)},normalize:function(){var e=this.getRng();return c.range&&new t(this.dom).normalize(e)&&this.setRng(e,this.isForward()),e},selectorChanged:function(e,t){var a,s=this;return s.selectorChangedData||(s.selectorChangedData={},a={},s.editor.on("NodeChange",function(e){var n=e.element,i=s.dom,r=i.getParents(n,null,i.getRoot()),o={};d(s.selectorChangedData,function(e,n){d(r,function(t){return i.is(t,n)?(a[n]||(d(e,function(e){e(!0,{node:t,selector:n,parents:r})}),a[n]=e),o[n]=e,!1):void 0})}),d(a,function(e,t){o[t]||(delete a[t],d(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),s.selectorChangedData[e]||(s.selectorChangedData[e]=[]),s.selectorChangedData[e].push(t),s},getScrollContainer:function(){for(var e,t=this.dom.getRoot();t&&"BODY"!=t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e){function t(e){for(var t=0,n=0,i=e;i&&i.nodeType;)t+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:t,y:n}}var n,i,r,o,a=this.dom;if("BODY"!=a.getRoot().nodeName){var s=this.getScrollContainer();if(s)return n=t(e).y-t(s).y,o=s.clientHeight,void((n<(r=s.scrollTop)||r+o<n+25)&&(s.scrollTop=n<r?n:n-o+25))}i=a.getViewPort(this.editor.getWin()),n=a.getPos(e).y,r=i.y,o=i.h,(n<i.y||r+o<n+25)&&this.editor.getWin().scrollTo(0,n<r?n:n-o+25)},placeCaretAt:function(e,t){var n,i,r=this.editor.getDoc();if(r.caretPositionFromPoint)i=r.caretPositionFromPoint(e,t),(n=r.createRange()).setStart(i.offsetNode,i.offset),n.collapse(!0);else if(r.caretRangeFromPoint)n=r.caretRangeFromPoint(e,t);else if(r.body.createTextRange){n=r.body.createTextRange();try{n.moveToPoint(e,t),n.collapse(!0)}catch(e){n.collapse(t<r.body.clientHeight)}}this.setRng(n)},_moveEndPoint:function(e,t,n){var i=t,r=new s(t,i),o=this.dom.schema.getNonEmptyElements();do{if(3==t.nodeType&&0!==u(t.nodeValue).length)return void(n?e.setStart(t,0):e.setEnd(t,t.nodeValue.length));if(o[t.nodeName]&&!/^(TD|TH)$/.test(t.nodeName))return void(n?e.setStartBefore(t):"BR"==t.nodeName?e.setEndBefore(t):e.setEndAfter(t));if(c.ie&&c.ie<11&&this.dom.isBlock(t)&&this.dom.isEmpty(t))return void(n?e.setStart(t,0):e.setEnd(t,0))}while(t=n?r.next():r.prev());"BODY"==i.nodeName&&(n?e.setStart(i,0):e.setEnd(i,i.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},n}),e(B,[R,r],function(o,e){var a=e.each;return function(r){this.compare=function(e,t){function n(n){var i={};return a(r.getAttribs(n),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf("_")&&"style"!==t&&"data-mce-style"!==t&&(i[t]=r.getAttrib(n,t))}),i}function i(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!=n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0}return!(e.nodeName!=t.nodeName||!i(n(e),n(t))||!i(r.parseStyle(r.getAttrib(e,"style")),r.parseStyle(r.getAttrib(t,"style")))||o.isBookmarkNode(e)||o.isBookmarkNode(t))}}}),e(D,[r],function(e){var c=e.each;return{getCssText:function(n,e){function i(e){return e.replace(/%(\w+)/g,"")}var t,r,o,a,s=n.dom,l="";if(!1===(a=n.settings.preview_styles))return"";if(a||(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}return t=e.block||e.inline||"span",r=s.create(t),c(e.styles,function(e,t){(e=i(e))&&s.setStyle(r,t,e)}),c(e.attributes,function(e,t){(e=i(e))&&s.setAttrib(r,t,e)}),c(e.classes,function(e){e=i(e),s.hasClass(r,e)||s.addClass(r,e)}),n.fire("PreviewFormats"),s.setStyles(r,{position:"absolute",left:-65535}),n.getBody().appendChild(r),o=s.getStyle(n.getBody(),"fontSize",!0),o=/px$/.test(o)?parseInt(o,10):0,c(a.split(" "),function(e){var t=s.getStyle(r,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=s.getStyle(n.getBody(),e,!0),"#ffffff"==s.toHex(t).toLowerCase())||"color"==e&&"#000000"==s.toHex(t).toLowerCase())){if("font-size"==e&&/em|%$/.test(t)){if(0===o)return;t=(t=parseFloat(t,10)/(/%$/.test(t)?100:1))*o+"px"}"border"==e&&t&&(l+="padding:0 2px;"),l+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),s.remove(r),l}}}),e(L,[d,v,R,B,r,D],function(J,e,t,Q,Z,o){return function(b){function C(e){return e.nodeType&&(e=e.nodeName),!!b.schema.getTextBlockElements()[e.toLowerCase()]}function c(e){return/^(TH|TD)$/.test(e.nodeName)}function g(e,t){return P.getParents(e,t,P.getRoot())}function x(e){return 1===e.nodeType&&"_mce_caret"===e.id}function w(e){return e?i[e]:i}function n(e,t){e&&("string"!=typeof e?Y(e,function(e,t){n(t,e)}):(t=t.length?t:[t],Y(t,function(e){e.deep===L&&(e.deep=!e.selector),e.split===L&&(e.split=!e.selector||e.inline),e.remove===L&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),i[e]=t))}function h(e){var t;return b.dom.getParent(e,function(e){return(t=b.dom.getStyle(e,"text-decoration"))&&"none"!==t}),t}function r(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=h(e.parentNode),b.dom.getStyle(e,"color")&&t?b.dom.setStyle(e,"text-decoration",t):b.dom.getStyle(e,"text-decoration")===t&&b.dom.setStyle(e,"text-decoration",null))}function _(h,p,o){function m(n,e){if(e=e||v,n){if(e.onformat&&e.onformat(n,e,p,o),Y(e.styles,function(e,t){P.setStyle(n,t,f(e,p))}),e.styles){var t=P.getAttrib(n,"style");t&&n.setAttribute("data-mce-style",t)}Y(e.attributes,function(e,t){P.setAttrib(n,t,f(e,p))}),Y(e.classes,function(e){e=f(e,p),P.hasClass(n,e)||P.addClass(n,e)})}}function e(e,t,l){var c,d,u=[],f=!0;c=v.inline||v.block,m(d=P.create(c)),I.walk(e,function(e){var s;Y(e,function e(t){var n,i,r,o,a;return a=f,n=t.nodeName.toLowerCase(),i=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&j(t)&&(a=f,f="true"===j(t),o=!0),k(n,"br")?(s=0,void(v.block&&P.remove(t))):v.wrapper&&E(t,h,p)?void(s=0):f&&!o&&v.block&&!v.wrapper&&C(n)&&F(i,c)?(m(t=P.rename(t,c)),u.push(t),void(s=0)):v.selector&&(Y(g,function(e){"collapsed"in e&&e.collapsed!==y||P.is(t,e.selector)&&!x(t)&&(m(t,e),r=!0)}),!v.inline||r)?void(s=0):void(!f||o||!F(c,n)||!F(i,c)||!l&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||x(t)||v.inline&&z(t)?(s=0,Y(G(t.childNodes),e),o&&(f=a),s=0):(s||(s=P.clone(d,$),t.parentNode.insertBefore(s,t),u.push(s)),s.appendChild(t)))})}),!0===v.links&&Y(u,function(e){!function e(t){"A"===t.nodeName&&m(t,v),Y(G(t.childNodes),e)}(e)}),Y(u,function(n){var e,t,i,r,o;if(t=0,Y(n.childNodes,function(e){S(e)||K(e)||t++}),e=t,!(1<u.length)&&z(n)||0!==e){if(v.inline||v.wrapper){if(v.exact||1!==e||(Y((i=n).childNodes,function(e){return 1!=e.nodeType||K(e)||x(e)?void 0:(r=e,$)}),r&&!K(r)&&N(r,v)&&(m(o=P.clone(r,$)),P.replace(o,i,q),P.remove(r,1)),n=o||i),Y(g,function(t){Y(P.select(t.inline,n),function(e){K(e)||R(t,p,e,t.exact?e:null)})}),E(n.parentNode,h,p))return P.remove(n,1),n=0,q;v.merge_with_parents&&P.getParent(n.parentNode,function(e){return E(e,h,p)?(P.remove(n,1),n=0,q):void 0}),n&&!1!==v.merge_siblings&&(n=a(n=a(A(n),n),A(n,q)))}}else P.remove(n,1)})}var t,n,g=w(h),v=g[0],y=!o&&O.isCollapsed();if(v)if(o)o.nodeType?((n=P.createRng()).setStartBefore(o),n.setEndAfter(o),e(T(n,g),0,!0)):e(o,0,!0);else if(y&&v.inline&&!P.select("td.mce-item-selected,th.mce-item-selected").length)B("apply",h,p);else{var i=b.selection.getNode();l||!g[0].defaultBlock||P.getParent(i,P.isBlock)||_(g[0].defaultBlock),b.selection.setRng(function(){var e=b.selection.getRng(),t=e.startContainer,n=e.endContainer;if(t!=n&&0===e.endOffset){var i=function(e,t){var n=new J(t);for(o=n.current();o;o=n.prev())if(1<o.childNodes.length||o==e||"BR"==o.tagName)return o}(t,n),r=3==i.nodeType?i.length:i.childNodes.length;e.setEnd(i,r)}return e}()),t=O.getBookmark(),e(T(O.getRng(q),g)),v.styles&&(v.styles.color||v.styles.textDecoration)&&(X(i,r,"childNodes"),r(i)),O.moveToBookmark(t),D(O.getRng(q)),b.nodeChanged()}}function y(i,d,e,r){function o(e){return function(e,t,n,i){var r,o,a,s,l,c;if(e){for(c=e.parentNode,r=t.parentNode;r&&r!=c;r=r.parentNode){for(o=P.clone(r,$),l=0;l<u.length;l++)if(R(u[l],d,o,o)){o=0;break}o&&(a&&o.appendChild(a),s||(s=o),a=o)}!i||f.mixed&&z(e)||(t=P.split(e,t)),a&&(n.parentNode.insertBefore(a,n),s.appendChild(n))}return t}((Y(g(e.parentNode).reverse(),function(e){var t;n||"_start"==e.id||"_end"==e.id||(t=E(e,i,d,r))&&!1!==t.split&&(n=e)}),n),e,e,!0);var n}function a(e){var t=P.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return K(n)&&(n=n[e?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),P.remove(t,!0),n}function t(e){var t,n,i=e.commonAncestorContainer;if(e=T(e,u,q),f.split){if((t=v(e,q))!=(n=v(e))){if(/^(TR|TH|TD)$/.test(t.nodeName)&&t.firstChild&&(t="TR"==t.nodeName?t.firstChild.firstChild||t:t.firstChild||t),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&c(n)&&n.firstChild&&(n=n.firstChild||n),P.isChildOf(t,n)&&!c(t)&&!c(n))return o(t=m(t,"span",{id:"_start","data-mce-type":"bookmark"})),void(t=a(q));t=m(t,"span",{id:"_start","data-mce-type":"bookmark"}),n=m(n,"span",{id:"_end","data-mce-type":"bookmark"}),o(t),o(n),t=a(q),n=a()}else t=n=o(t);e.startContainer=t.parentNode?t.parentNode:t,e.startOffset=W(t),e.endContainer=n.parentNode?n.parentNode:n,e.endOffset=W(n)+1}I.walk(e,function(e){Y(e,function(e){(function e(t){var n,i,r,o,a;if(1===t.nodeType&&j(t)&&(o=l,l="true"===j(t),a=!0),n=G(t.childNodes),l&&!a)for(i=0,r=u.length;i<r&&!R(u[i],d,t,t);i++);if(f.deep&&n.length){for(i=0,r=n.length;i<r;i++)e(n[i]);a&&(l=o)}})(e),1===e.nodeType&&"underline"===b.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===h(e.parentNode)&&R({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)})})}var n,s,u=w(i),f=u[0],l=!0;return e?void(e.nodeType?((s=P.createRng()).setStartBefore(e),s.setEndAfter(e),t(s)):t(e)):void(O.isCollapsed()&&f.inline&&!P.select("td.mce-item-selected,th.mce-item-selected").length?B("remove",i,d,r):(n=O.getBookmark(),t(O.getRng(q)),O.moveToBookmark(n),f.inline&&p(i,d,O.getStart())&&D(O.getRng(!0)),b.nodeChanged()))}function E(e,t,s,l){function n(e,t,n){var i,r,o,a=t[n];if(t.onmatch)return t.onmatch(e,t,n);if(a)if(a.length===L){for(i in a)if(a.hasOwnProperty(i)){if(r="attributes"===n?P.getAttrib(e,i):d(e,i),l&&!r&&!t.exact)return;if((!l||t.exact)&&!k(r,u(f(a[i],s),i)))return}}else for(o=0;o<a.length;o++)if("attributes"===n?P.getAttrib(e,a[o]):d(e,a[o]))return t;return t}var i,r,o,a=w(t);if(a&&e)for(r=0;r<a.length;r++)if(N(e,i=a[r])&&n(e,i,"attributes")&&n(e,i,"styles")){if(o=i.classes)for(r=0;r<o.length;r++)if(!P.hasClass(e,o[r]))return;return i}}function p(n,i,e){function t(e){var t=P.getRoot();return e!==t&&E(e=P.getParent(e,function(e){return e.parentNode===t||!!E(e,n,i,!0)}),n,i)}var r;return e?t(e):t(e=O.getNode())?q:(r=O.getStart())!=e&&t(r)?q:$}function N(e,t){return k(e,t.inline)?q:k(e,t.block)?q:t.selector?1==e.nodeType&&P.is(e,t.selector):void 0}function k(e,t){return t=t||"",e=""+((e=e||"").nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()==t.toLowerCase()}function d(e,t){return u(P.getStyle(e,t),t)}function u(e,t){return("color"==t||"backgroundColor"==t)&&(e=P.toHex(e)),"fontWeight"==t&&700==e&&(e="bold"),"fontFamily"==t&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e}function f(e,n){return"string"!=typeof e?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e}function S(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)}function m(e,t,n){var i=P.create(t,n);return e.parentNode.insertBefore(i,e),i.appendChild(e),i}function T(a,s,l){function e(e){var t,n,i,r,o,a;if(t=n=e?f:p,r=e?"previousSibling":"nextSibling",o=P.getRoot(),3==t.nodeType&&!S(t)&&(e?0<h:m<t.nodeValue.length))return t;for(;;){if(!s[0].block_expand&&z(n))return n;for(i=n[r];i;i=i[r])if(!K(i)&&!S(i)&&("BR"!=(a=i).nodeName||!a.getAttribute("data-mce-bogus")||a.nextSibling))return n;if(n.parentNode==o){t=n;break}n=n.parentNode}return t}function t(e,t){for(t===L&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[t])&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}}function n(e){for(var t=e;t;){if(1===t.nodeType&&j(t))return"false"===j(t)?t:e;t=t.parentNode}return e}function i(e,t,o){function n(e,t){var n,i,r=e.nodeValue;return void 0===t&&(t=o?r.length:0),o?(n=r.lastIndexOf(" ",t),-1===(n=(i=r.lastIndexOf(" ",t))<n?n:i)||l||n++):(n=r.indexOf(" ",t),i=r.indexOf(" ",t),n=-1!==n&&(-1===i||n<i)?n:i),n}var i,r,a,s;if(3===e.nodeType){if(-1!==(a=n(e,t)))return{container:e,offset:a};s=e}for(i=new J(e,P.getParent(e,z)||b.getBody());r=i[o?"prev":"next"]();)if(3===r.nodeType){if(-1!==(a=n(s=r)))return{container:r,offset:a}}else if(z(r))break;return s?{container:s,offset:t=o?0:s.length}:void 0}function r(e,t){var n,i,r,o;for(3==e.nodeType&&0===e.nodeValue.length&&e[t]&&(e=e[t]),n=g(e),i=0;i<n.length;i++)for(r=0;r<s.length;r++)if(!("collapsed"in(o=s[r])&&o.collapsed!==a.collapsed)&&P.is(n[i],o.selector))return n[i];return e}function o(e,t){var n,i=P.getRoot();if(s[0].wrapper||(n=P.getParent(e,s[0].block,i)),n||(n=P.getParent(3==e.nodeType?e.parentNode:e,function(e){return e!=i&&C(e)})),n&&s[0].wrapper&&(n=g(n,"ul,ol").reverse()[0]||n),!n)for(n=e;n[t]&&!z(n[t])&&!k(n=n[t],"br"););return n||e}var c,d,u,f=a.startContainer,h=a.startOffset,p=a.endContainer,m=a.endOffset;if(1==f.nodeType&&f.hasChildNodes()&&(c=f.childNodes.length-1,3==(f=f.childNodes[c<h?c:h]).nodeType&&(h=0)),1==p.nodeType&&p.hasChildNodes()&&(c=p.childNodes.length-1,3==(p=p.childNodes[c<m?c:m-1]).nodeType&&(m=p.nodeValue.length)),f=n(f),p=n(p),(K(f.parentNode)||K(f))&&(3==(f=(f=K(f)?f:f.parentNode).nextSibling||f).nodeType&&(h=0)),(K(p.parentNode)||K(p))&&(3==(p=(p=K(p)?p:p.parentNode).previousSibling||p).nodeType&&(m=p.length)),s[0].inline&&(a.collapsed&&((u=i(f,h,!0))&&(f=u.container,h=u.offset),(u=i(p,m))&&(p=u.container,m=u.offset)),(d=t(p,m)).node)){for(;d.node&&0===d.offset&&d.node.previousSibling;)d=t(d.node.previousSibling);d.node&&0<d.offset&&3===d.node.nodeType&&" "===d.node.nodeValue.charAt(d.offset-1)&&1<d.offset&&(p=d.node).splitText(d.offset-1)}return(s[0].inline||s[0].block_expand)&&(s[0].inline&&3==f.nodeType&&0!==h||(f=e(!0)),s[0].inline&&3==p.nodeType&&m!==p.nodeValue.length||(p=e())),s[0].selector&&s[0].expand!==$&&!s[0].inline&&(f=r(f,"previousSibling"),p=r(p,"nextSibling")),(s[0].block||s[0].selector)&&(f=o(f,"previousSibling"),p=o(p,"nextSibling"),s[0].block&&(z(f)||(f=e(!0)),z(p)||(p=e()))),1==f.nodeType&&(h=W(f),f=f.parentNode),1==p.nodeType&&(m=W(p)+1,p=p.parentNode),{startContainer:f,startOffset:h,endContainer:p,endOffset:m}}function R(n,i,r,o){var e,t,a,s;if(!N(r,n)&&(s=r,!n.links||"A"!=s.tagName))return $;if("all"!=n.remove)for(Y(n.styles,function(e,t){e=u(f(e,i),t),"number"==typeof t&&(t=e,o=0),(n.remove_similar||!o||k(d(o,t),e))&&P.setStyle(r,t,""),a=1}),a&&""===P.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),Y(n.attributes,function(e,t){var n;if(e=f(e,i),"number"==typeof t&&(t=e,o=0),!o||k(P.getAttrib(o,t),e)){if("class"==t&&((e=P.getAttrib(r,t))&&(n="",Y(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n)))return void P.setAttrib(r,t,n);"class"==t&&r.removeAttribute("className"),U.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),Y(n.classes,function(e){e=f(e,i),(!o||P.hasClass(o,e))&&P.removeClass(r,e)}),t=P.getAttribs(r),e=0;e<t.length;e++)if(0!==t[e].nodeName.indexOf("_"))return $;return"none"!=n.remove?(function(e,t){function n(e,t,n){return!(e=A(e,t,n))||"BR"==e.nodeName||z(e)}var i,r=e.parentNode;t.block&&(l?r==P.getRoot()&&(t.list_block&&k(e,t.list_block)||Y(G(e.childNodes),function(e){F(l,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=m(e,l),P.setAttribs(i,b.settings.forced_root_block_attrs)):i=0})):z(e)&&!z(r)&&(n(e,$)||n(e.firstChild,q,1)||e.insertBefore(P.create("br"),e.firstChild),n(e,q)||n(e.lastChild,$,1)||e.appendChild(P.create("br")))),t.selector&&t.inline&&!k(t.inline,e)||P.remove(e,1)}(r,n),q):void 0}function A(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1==e.nodeType||!S(e))return e}function a(t,e){function n(e,t){for(i=e;i;i=i[t]){if(3==i.nodeType&&0!==i.nodeValue.length)return e;if(1==i.nodeType&&!K(i))return i}return e}var i,r,o=new Q(P);if(t&&e&&(t=n(t,"previousSibling"),e=n(e,"nextSibling"),o.compare(t,e))){for(i=t.nextSibling;i&&i!=e;)i=(r=i).nextSibling,t.appendChild(r);return P.remove(e),Y(G(e.childNodes),function(e){t.appendChild(e)}),t}return e}function v(e,t){var n,i,r;return n=e[t?"startContainer":"endContainer"],i=e[t?"startOffset":"endOffset"],1==n.nodeType&&(r=n.childNodes.length-1,!t&&i&&i--,n=n.childNodes[r<i?r:i]),3===n.nodeType&&t&&i>=n.nodeValue.length&&(n=new J(n,b.getBody()).next()||n),3!==n.nodeType||t||0!==i||(n=new J(n,b.getBody()).prev()||n),n}function B(e,u,f,h){function p(e){var t=P.create("span",{id:g,"data-mce-bogus":!0,style:v?"color:red":""});return e&&t.appendChild(b.getDoc().createTextNode(V)),t}function r(e,t){for(;e;){if(3===e.nodeType&&e.nodeValue!==V||1<e.childNodes.length)return!1;t&&1===e.nodeType&&t.push(e),e=e.firstChild}return!0}function o(e){for(;e;){if(e.id===g)return e;e=e.parentNode}}function a(e){var t;if(e)for(e=(t=new J(e,e)).current();e;e=t.next())if(3===e.nodeType)return e}function s(e,t){var n,i;if(e)i=O.getRng(!0),r(e)?(!1!==t&&(i.setStartBefore(e),i.setEndBefore(e)),P.remove(e)):((n=a(e)).nodeValue.charAt(0)===V&&(n.deleteData(0,1),i.startContainer==n&&0<i.startOffset&&i.setStart(n,i.startOffset-1),i.endContainer==n&&0<i.endOffset&&i.setEnd(n,i.endOffset-1)),P.remove(e,1)),O.setRng(i);else if(!(e=o(O.getStart())))for(;e=P.get(g);)s(e,!1)}function n(){var e;(e=o(O.getStart()))&&!P.isEmpty(e)&&X(e,function(e){1!=e.nodeType||e.id===g||P.isEmpty(e)||P.setAttrib(e,"data-mce-bogus",null)},"childNodes")}var t,i,l,c,d,m,g="_mce_caret",v=b.settings.caret_debug;b._hasCaretEvents||(H=function(){var e,t=[];if(r(o(O.getStart()),t))for(e=t.length;e--;)P.setAttrib(t[e],"data-mce-bogus","1")},M=function(e){var t=e.keyCode;s(),(8==t&&O.isCollapsed()||37==t||39==t)&&s(o(O.getStart())),n()},b.on("SetContent",function(e){e.selection&&n()}),b._hasCaretEvents=!0),"apply"==e?(c=(t=O.getRng(!0)).startOffset,m=t.startContainer.nodeValue,(i=o(O.getStart()))&&(l=a(i)),m&&0<c&&c<m.length&&/\w/.test(m.charAt(c))&&/\w/.test(m.charAt(c-1))?(d=O.getBookmark(),t.collapse(!0),t=T(t,w(u)),t=I.split(t),_(u,f,t),O.moveToBookmark(d)):(i&&l.nodeValue===V||(l=(i=p(!0)).firstChild,t.insertNode(i),c=1),_(u,f,i),O.setCursorLocation(l,c))):function(){var e,t,n,i,r,o,a,s,l=O.getRng(!0),c=[];for(e=l.startContainer,t=l.startOffset,3==(r=e).nodeType&&(t!=e.nodeValue.length&&(i=!0),r=r.parentNode);r;){if(E(r,u,f,h)){o=r;break}r.nextSibling&&(i=!0),c.push(r),r=r.parentNode}if(o)if(i)n=O.getBookmark(),l.collapse(!0),l=T(l,w(u),!0),l=I.split(l),y(u,f,l),O.moveToBookmark(n);else{for(r=s=p(),a=c.length-1;0<=a;a--)r.appendChild(P.clone(c[a],!1)),r=r.firstChild;r.appendChild(P.doc.createTextNode(V)),r=r.firstChild;var d=P.getParent(o,C);d&&P.isEmpty(d)?o.parentNode.replaceChild(s,o):P.insertAfter(s,o),O.setCursorLocation(r,1),P.isEmpty(o)&&P.remove(o)}}()}function D(e){var t,n,i,r,o,a=e.startContainer,s=e.startOffset;if(3==a.nodeType&&s>=a.nodeValue.length&&(s=W(a),a=a.parentNode,t=!0),1==a.nodeType)for(a=(r=a.childNodes)[Math.min(s,r.length-1)],n=new J(a,P.getParent(a,P.isBlock)),(s>r.length-1||t)&&n.next(),i=n.current();i;i=n.next())if(3==i.nodeType&&!S(i))return o=P.create("a",{"data-mce-bogus":"all"},V),i.parentNode.insertBefore(o,i),e.setStart(i,0),O.setRng(e),void P.remove(o)}var s,L,M,H,i={},P=b.dom,O=b.selection,I=new e(P),F=b.schema.isValidChild,z=P.isBlock,l=b.settings.forced_root_block,W=P.nodeIndex,V="\ufeff",U=/^(src|href|style)$/,$=!1,q=!0,j=P.getContentEditable,K=t.isBookmarkNode,Y=Z.each,G=Z.grep,X=Z.walk;(0,Z.extend)(this,{get:w,register:n,unregister:function(e){return e&&i[e]&&delete i[e],i},apply:_,remove:y,toggle:function(e,t,n){var i=w(e);!p(e,t,n)||"toggle"in i[0]&&!i[0].toggle?_(e,t,n):y(e,t,n)},match:p,matchAll:function(i,r){var e,o=[],a={};return e=O.getStart(),P.getParent(e,function(e){var t,n;for(t=0;t<i.length;t++)n=i[t],!a[n]&&E(e,n,r)&&(a[n]=!0,o.push(n))},P.getRoot()),o},matchNode:E,canApply:function(e){var t,n,i,r,o=w(e);if(o)for(t=g(O.getStart()),i=o.length-1;0<=i;i--){if(!(r=o[i].selector)||o[i].defaultBlock)return q;for(n=t.length-1;0<=n;n--)if(P.is(t[n],r))return q}return $},formatChanged:function(e,t,n){var o;return s||(s={},o={},b.on("NodeChange",function(n){var i=g(n.element),r={};i=Z.grep(i,function(e){return 1==e.nodeType&&!e.getAttribute("data-mce-bogus")}),Y(s,function(e,n){Y(i,function(t){return E(t,n,{},e.similar)?(o[n]||(Y(e,function(e){e(!0,{node:t,format:n,parents:i})}),o[n]=e),r[n]=e,!1):void 0})}),Y(o,function(e,t){r[t]||(delete o[t],Y(e,function(e){e(!1,{node:n.element,format:t,parents:i})}))})})),Y(e.split(","),function(e){s[e]||(s[e]=[],s[e].similar=n),s[e].push(t)}),this},getCssText:function(e){return o.getCssText(b,e)}}),n({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},defaultBlock:"div"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(n,e,t){Y(t,function(e,t){P.setAttrib(n,t,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),Y("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n(e,{block:e,remove:"all"})}),n(b.settings.formats),function(){b.addShortcut("meta+b","bold_desc","Bold"),b.addShortcut("meta+i","italic_desc","Italic"),b.addShortcut("meta+u","underline_desc","Underline");for(var e=1;e<=6;e++)b.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);b.addShortcut("access+7","",["FormatBlock",!1,"p"]),b.addShortcut("access+8","",["FormatBlock",!1,"div"]),b.addShortcut("access+9","",["FormatBlock",!1,"address"])}(),b.on("BeforeGetContent",function(e){H&&"raw"!=e.format&&H()}),b.on("mouseup keydown",function(e){M&&M(e)})}}),e(M,[S,i,r,x],function(e,n,t,h){var p,m=t.trim;return p=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[​\ufeff]+<\\/span>",'\\s?data-mce-selected="[^"]+"'].join("|"),"gi"),function(l){function a(){var e,t,n,i,r,o=l.getContent({format:"raw",no_events:1}),a=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=l.schema;for(o=o.replace(p,""),r=s.getShortEndedElements();i=a.exec(o);)t=a.lastIndex,n=i[0].length,e=r[i[1]]?t:h.findEndTag(s,o,t),o=o.substring(0,t-n)+o.substring(e),a.lastIndex=t-n;return m(o)}function s(e){l.isNotDirty=!e}function i(e){o.typing=!1,o.add({},e)}var c,r,o=this,d=0,u=[],f=0;return l.on("init",function(){o.add()}),l.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&o.beforeChange()}),l.on("ExecCommand",function(e){var t=e.command;"Undo"!=t&&"Redo"!=t&&"mceRepaint"!=t&&i(e)}),l.on("ObjectResizeStart",function(){o.beforeChange()}),l.on("SaveContent ObjectResized blur",i),l.on("DragEnd",i),l.on("KeyUp",function(e){var t=e.keyCode;(33<=t&&t<=36||37<=t&&t<=40||45==t||13==t||e.ctrlKey)&&(i(),l.nodeChanged()),(46==t||8==t||n.mac&&(91==t||93==t))&&l.nodeChanged(),r&&o.typing&&(l.isDirty()||(s(u[0]&&a()!=u[0].content),l.isNotDirty||l.fire("change",{level:u[0],lastLevel:null})),l.fire("TypingUndo"),r=!1,l.nodeChanged())}),l.on("KeyDown",function(e){var t=e.keyCode;if(33<=t&&t<=36||37<=t&&t<=40||45==t)o.typing&&i(e);else{var n=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||20<t)||224==t||91==t||o.typing||n||(o.beforeChange(),o.typing=!0,o.add({},e),r=!0)}}),l.on("MouseDown",function(e){o.typing&&i(e)}),l.addShortcut("meta+z","","Undo"),l.addShortcut("meta+y,meta+shift+z","","Redo"),l.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||l.nodeChanged()}),o={data:u,typing:!1,beforeChange:function(){f||(c=l.selection.getBookmark(2,!0))},add:function(e,t){var n,i,r=l.settings;if((e=e||{}).content=a(),f||l.removed)return null;if(i=u[d],l.fire("BeforeAddUndo",{level:e,lastLevel:i,originalEvent:t}).isDefaultPrevented())return null;if(i&&i.content==e.content)return null;if(u[d]&&(u[d].beforeBookmark=c),r.custom_undo_redo_levels&&u.length>r.custom_undo_redo_levels){for(n=0;n<u.length-1;n++)u[n]=u[n+1];u.length--,d=u.length}e.bookmark=l.selection.getBookmark(2,!0),d<u.length-1&&(u.length=d+1),u.push(e),d=u.length-1;var o={level:e,lastLevel:i,originalEvent:t};return l.fire("AddUndo",o),0<d&&(s(!0),l.fire("change",o)),e},undo:function(){var e;return o.typing&&(o.add(),o.typing=!1),0<d&&(e=u[--d],0===d&&s(!1),l.setContent(e.content,{format:"raw"}),l.selection.moveToBookmark(e.beforeBookmark),l.fire("undo",{level:e})),e},redo:function(){var e;return d<u.length-1&&(e=u[++d],l.setContent(e.content,{format:"raw"}),l.selection.moveToBookmark(e.bookmark),s(!0),l.fire("redo",{level:e})),e},clear:function(){u=[],d=0,o.typing=!1,l.fire("ClearUndos")},hasUndo:function(){return 0<d||o.typing&&u[0]&&a()!=u[0].content},hasRedo:function(){return d<u.length-1&&!this.typing},transact:function(e){o.beforeChange();try{f++,e()}finally{f--}o.add()}}}}),e(H,[d,v,i],function(L,M,H){var P=H.ie&&H.ie<11;return function(N){var k=N.dom,S=N.selection,T=N.settings,R=N.undoManager,A=N.schema,B=A.getNonEmptyElements(),D=A.getMoveCaretBeforeOnEnterElements();N.on("keydown",function(e){13==e.keyCode&&!1!==function(e){function c(e){return e&&k.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==k.getContentEditable(e)}function i(e){var t;k.isBlock(e)&&(t=S.getRng(),e.appendChild(k.create("span",null," ")),S.select(e),e.lastChild.outerHTML="",S.setRng(t))}function r(e){var t,n,i,r,o=e;if(e){if(H.ie&&H.ie<9&&h&&h.firstChild&&h.firstChild==h.lastChild&&"BR"==h.firstChild.tagName&&k.remove(h.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)){var a=function(e){for(;e;){if(1==e.nodeType||3==e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(e.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&e.insertBefore(k.doc.createTextNode(" "),e.firstChild)}if(i=k.createRng(),H.ie||e.normalize(),e.hasChildNodes()){for(t=new L(e,e);n=t.current();){if(3==n.nodeType){i.setStart(n,0),i.setEnd(n,0);break}if(D[n.nodeName.toLowerCase()]){i.setStartBefore(n),i.setEndBefore(n);break}o=n,n=t.next()}n||(i.setStart(o,0),i.setEnd(o,0))}else"BR"==e.nodeName?e.nextSibling&&k.isBlock(e.nextSibling)?((!p||p<9)&&(r=k.create("br"),e.parentNode.insertBefore(r,e)),i.setStartBefore(e),i.setEndBefore(e)):(i.setStartAfter(e),i.setEndAfter(e)):(i.setStart(e,0),i.setEnd(e,0));S.setRng(i),k.remove(r),S.scrollIntoView(e)}}function d(e){var t=T.forced_root_block;t&&t.toLowerCase()===e.tagName.toLowerCase()&&k.setAttribs(e,T.forced_root_block_attrs)}function o(e){var t,n,i,r=s,o=A.getTextInlineElements();if(e||"TABLE"==b?d(t=k.create(e||x)):t=h.cloneNode(!1),i=t,!1!==T.keep_styles)do{if(o[r.nodeName]){if("_mce_caret"==r.id)continue;n=r.cloneNode(!1),k.setAttrib(n,"id",""),t.hasChildNodes()?n.appendChild(t.firstChild):i=n,t.appendChild(n)}}while(r=r.parentNode);return P||(i.innerHTML='<br data-mce-bogus="1">'),t}function t(e){var t,n,i;if(3==s.nodeType&&(e?0<l:l<s.nodeValue.length))return!1;if(s.parentNode==h&&w&&!e)return!0;if(e&&1==s.nodeType&&s==h.firstChild)return!0;if("TABLE"===s.nodeName||s.previousSibling&&"TABLE"==s.previousSibling.nodeName)return w&&!e||!w&&e;for(t=new L(s,h),3==s.nodeType&&(e&&0===l?t.prev():e||l!=s.nodeValue.length||t.next());n=t.current();){if(1===n.nodeType){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),B[i]&&"br"!==i))return!1}else if(3===n.nodeType&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0}function n(){N.execCommand("InsertLineBreak",!1,e)}var u,a,f,s,l,h,p,m,g,v,y,b,C,x,w,_,E;if(u=S.getRng(!0),!e.isDefaultPrevented()){if(!u.collapsed)return void N.execCommand("Delete");if(new M(k).normalize(u),s=u.startContainer,l=u.startOffset,x=(x=(T.force_p_newlines?"p":"")||T.forced_root_block)?x.toUpperCase():"",p=k.doc.documentMode,m=e.shiftKey,1==s.nodeType&&s.hasChildNodes()&&(w=l>s.childNodes.length-1,s=s.childNodes[Math.min(l,s.childNodes.length-1)]||s,l=w&&3==s.nodeType?s.nodeValue.length:0),f=function(e){var t,n,i=k.getRoot();for(t=e;t!==i&&"false"!==k.getContentEditable(t);)"true"===k.getContentEditable(t)&&(n=t),t=t.parentNode;return t!==i?n:i}(s)){if(R.beforeChange(),!k.isBlock(f)&&f!=k.getRoot())return void((!x||m)&&n());if((x&&!m||!x&&m)&&(s=function(e,t){var n,i,r,o,a,s,l=x||"P";if(i=k.getParent(e,k.isBlock),s=N.getBody().nodeName.toLowerCase(),!i||!c(i)){if(!(i=i||f).hasChildNodes())return d(n=k.create(l)),i.appendChild(n),u.setStart(n,0),u.setEnd(n,0),n;for(o=e;o.parentNode!=i;)o=o.parentNode;for(;o&&!k.isBlock(o);)o=(r=o).previousSibling;if(r&&A.isValidChild(s,l.toLowerCase())){for(d(n=k.create(l)),r.parentNode.insertBefore(n,r),o=r;o&&!k.isBlock(o);)a=o.nextSibling,n.appendChild(o),o=a;u.setStart(e,t),u.setEnd(e,t)}}return e}(s,l)),h=k.getParent(s,k.isBlock),y=h?k.getParent(h.parentNode,k.isBlock):null,b=h?h.nodeName.toUpperCase():"","LI"!=(C=y?y.nodeName.toUpperCase():"")||e.ctrlKey||(h=y,b=C),/^(LI|DT|DD)$/.test(b)){if(!x&&m)return void n();if(k.isEmpty(h))return void function(){function e(e){for(var t=y[e?"firstChild":"lastChild"];t&&1!=t.nodeType;)t=t[e?"nextSibling":"previousSibling"];return t===h}function t(){var e=y.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:y}var n=y.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(x="LI"),g=x?o(x):k.create("BR"),e(!0)&&e()?"LI"==n?k.insertAfter(g,t()):k.replace(g,y):e(!0)?"LI"==n?(k.insertAfter(g,t()),g.appendChild(k.doc.createTextNode(" ")),g.appendChild(y)):y.parentNode.insertBefore(g,y):e()?(k.insertAfter(g,t()),i(g)):(y=t(),(a=u.cloneRange()).setStartAfter(h),a.setEndAfter(y),v=a.extractContents(),"LI"==x&&"LI"==v.firstChild.nodeName?(g=v.firstChild,k.insertAfter(v,y)):(k.insertAfter(v,y),k.insertAfter(g,y))),k.remove(h),r(g),R.add()}()}if("PRE"==b&&!1!==T.br_in_pre){if(!m)return void n()}else if(!x&&!m&&"LI"!=b||x&&m)return void n();x&&h===N.getBody()||(x=x||"P",t()?(g=/^(H[1-6]|PRE|FIGURE)$/.test(b)&&"HGROUP"!=C?o(x):o(),T.end_container_on_empty_block&&c(y)&&k.isEmpty(h)?g=k.split(y,h):k.insertAfter(g,h),r(g)):t(!0)?(i(g=h.parentNode.insertBefore(o(),h)),r(h)):((a=u.cloneRange()).setEndAfter(h),function(e){for(;3===e.nodeType&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(v=a.extractContents()),g=v.firstChild,k.insertAfter(v,h),function(e){var t,n=e,i=[];if(n){for(;n=n.firstChild;){if(k.isBlock(n))return;1!=n.nodeType||B[n.nodeName.toLowerCase()]||i.push(n)}for(t=i.length;t--;)!(n=i[t]).hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?k.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&k.remove(n)}}(g),_=h,P||(_.normalize(),(!(E=_.lastChild)||/^(left|right)$/gi.test(k.getStyle(E,"float",!0)))&&k.add(_,"br")),r(g)),k.setAttrib(g,"id",""),N.fire("NewBlock",{newBlock:g}),R.add())}}}(e)&&e.preventDefault()})}}),e(P,[],function(){return function(m){var g=m.settings,v=m.dom,y=m.selection,b=m.schema,C=b.getBlockElements();g.forced_root_block&&m.on("NodeChange",function(){var e,t,n,i,r,o,a,s,l,c,d,u,f=y.getStart(),h=m.getBody(),p=-16777215;if(u=g.forced_root_block,f&&1===f.nodeType&&u){for(;f&&f!=h;){if(C[f.nodeName])return;f=f.parentNode}if((e=y.getRng()).setStart){t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;try{l=m.getDoc().activeElement===h}catch(e){}}else e.item&&(f=e.item(0),(e=m.getDoc().body.createTextRange()).moveToElementText(f)),l=e.parentElement().ownerDocument===m.getDoc(),(c=e.duplicate()).collapse(!0),n=-1*c.move("character",p),c.collapsed||((c=e.duplicate()).collapse(!1),r=-1*c.move("character",p)-n);for(f=h.firstChild,d=h.nodeName.toLowerCase();f;)if((3===f.nodeType||1==f.nodeType&&!C[f.nodeName])&&b.isValidChild(d,u.toLowerCase())){if(3===f.nodeType&&0===f.nodeValue.length){f=(a=f).nextSibling,v.remove(a);continue}o||(o=v.create(u,m.settings.forced_root_block_attrs),f.parentNode.insertBefore(o,f),s=!0),f=(a=f).nextSibling,o.appendChild(a)}else o=null,f=f.nextSibling;if(s&&l){if(e.setStart)e.setStart(t,n),e.setEnd(i,r),y.setRng(e);else try{(e=m.getDoc().body.createTextRange()).moveToElementText(h),e.collapse(!0),e.moveStart("character",n),0<r&&e.moveEnd("character",r),e.select()}catch(e){}m.nodeChanged()}}})}}),e(O,[E,i,r,B,v,d],function(N,f,e,k,v,y){var S=e.each,h=e.extend,p=e.map,m=e.inArray,g=e.explode,b=f.gecko,T=f.ie,C=f.ie&&f.ie<11;return function(w){function n(t,n,i,e){var r,o,a=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus||w.focus(),e=h({},e),(e=w.fire("BeforeExecCommand",{command:t,ui:n,value:i})).isDefaultPrevented())return!1;if(o=t.toLowerCase(),r=d.exec[o])return r(o,n,i),w.fire("ExecCommand",{command:t,ui:n,value:i}),!0;if(S(w.plugins,function(e){return e.execCommand&&e.execCommand(t,n,i)?(w.fire("ExecCommand",{command:t,ui:n,value:i}),!(a=!0)):void 0}),a)return a;if(w.theme&&w.theme.execCommand&&w.theme.execCommand(t,n,i))return w.fire("ExecCommand",{command:t,ui:n,value:i}),!0;try{a=w.getDoc().execCommand(t,n,i)}catch(e){}return!!a&&(w.fire("ExecCommand",{command:t,ui:n,value:i}),!0)}function t(e){var t;if(!w._isHidden()){if(e=e.toLowerCase(),t=d.state[e])return t(e);try{return w.getDoc().queryCommandState(e)}catch(e){}return!1}}function e(e,n){n=n||"exec",S(e,function(t,e){S(e.toLowerCase().split(","),function(e){d[n][e]=t})})}function a(e,t,n){return t===ye&&(t=!1),n===ye&&(n=null),w.getDoc().execCommand(e,t,n)}function i(e){return l.match(e)}function o(e,t){l.toggle(e,t?{value:t}:ye),w.nodeChanged()}function r(e){c=E.getBookmark(e)}function s(){E.moveToBookmark(c)}var _,E,l,c,d={state:{},exec:{},value:{}},u=w.settings;w.on("PreInit",function(){_=w.dom,E=w.selection,u=w.settings,l=w.formatter}),h(this,{execCommand:n,queryCommandState:t,queryCommandValue:function(e){var t;if(!w._isHidden()){if(e=e.toLowerCase(),t=d.value[e])return t(e);try{return w.getDoc().queryCommandValue(e)}catch(e){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),d.exec[e])return!0;try{return w.getDoc().queryCommandSupported(e)}catch(e){}return!1},addCommands:e,addCommand:function(e,r,o){e=e.toLowerCase(),d.exec[e]=function(e,t,n,i){return r.call(o||w,t,n,i)}},addQueryStateHandler:function(e,t,n){e=e.toLowerCase(),d.state[e]=function(){return t.call(n||w)}},addQueryValueHandler:function(e,t,n){e=e.toLowerCase(),d.value[e]=function(){return t.call(n||w)}},hasCustomCommand:function(e){return e=e.toLowerCase(),!!d.exec[e]}}),e({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){w.undoManager.add()},"Cut,Copy,Paste":function(e){var t,n=w.getDoc();try{a(e)}catch(e){t=!0}if(t||!n.queryCommandSupported(e)){var i=w.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");f.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),w.windowManager.alert(i)}},unlink:function(){if(E.isCollapsed()){var e=E.getNode();"A"==e.tagName&&w.dom.remove(e,!0)}else l.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t=e.substring(7);"full"==t&&(t="justify"),S("left,center,right,justify".split(","),function(e){t!=e&&l.remove("align"+e)}),o("align"+t),n("mceRepaint")},"InsertUnorderedList,InsertOrderedList":function(e){var t,n;a(e),(t=_.getParent(E.getNode(),"ol,ul"))&&(n=t.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(r(),_.split(n,t),s()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){o(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){o(e,n)},FontSize:function(e,t,n){var i,r;1<=n&&n<=7&&(r=g(u.font_size_style_values),n=(i=g(u.font_size_classes))?i[n-1]||n:r[n-1]||n),o(e,n)},RemoveFormat:function(e){l.remove(e)},mceBlockQuote:function(){o("blockquote")},FormatBlock:function(e,t,n){return o(n||"p")},mceCleanup:function(){var e=E.getBookmark();w.setContent(w.getContent({cleanup:!0}),{cleanup:!0}),E.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var i=n||E.getNode();i!=w.getBody()&&(r(),w.dom.remove(i,!0),s())},mceSelectNodeDepth:function(e,t,n){var i=0;_.getParent(E.getNode(),function(e){return 1==e.nodeType&&i++==n?(E.select(e),!1):void 0},w.getBody())},mceSelectNode:function(e,t,n){E.select(n)},mceInsertContent:function(e,t,n){var i,r,o,a,s,l,c,d,u,f,h,p,m=w.schema.getTextInlineElements();"string"!=typeof n&&(p=n.merge,n=n.content),/^ | $/.test(n)&&(n=function(e){function t(e){return i[e]&&3==i[e].nodeType}var n,i,r;return n=E.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(0<r?e=e.replace(/^&nbsp;/," "):t("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<i.length?e=e.replace(/&nbsp;(<br>|)$/," "):t("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e}(n)),i=w.parser,r=new N({},w.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:n,format:"html",selection:!0},w.fire("BeforeSetContent",l),-1==(n=l.content).indexOf("{$caret}")&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,h);var g,v,y,b=(d=E.getRng()).startContainer||(d.parentElement?d.parentElement():null),C=w.getBody();b===C&&E.isCollapsed()&&_.isBlock(C.firstChild)&&_.isEmpty(C.firstChild)&&((d=_.createRng()).setStart(C.firstChild,0),d.setEnd(C.firstChild,0),E.setRng(d)),E.isCollapsed()||(w.getDoc().execCommand("Delete",!1,null),v=(g=E.getRng(!0)).startContainer,y=g.startOffset,3==v.nodeType&&g.collapsed&&(" "===v.data[y]?(v.deleteData(y,1),/[\u00a0| ]$/.test(n)||(n+=" ")):" "===v.data[y-1]&&(v.deleteData(y-1,1),/[\u00a0| ]$/.test(n)||(n=" "+n))));var x={context:(o=E.getNode()).nodeName.toLowerCase()};if(function(e){if(p)for(u=e.firstChild;u;u=u.walk(!0))m[u.name]&&u.attr("data-mce-new","true")}(s=i.parse(n,x)),"mce_marker"==(u=s.lastChild).attr("id"))for(u=(c=u).prev;u;u=u.walk(!0))if(3==u.type||!_.isBlock(u.name)){w.schema.isValidChild(u.parent.name,"span")&&u.parent.insert(c,u,"br"===u.name);break}if(x.invalid){for(E.setContent(h),o=E.getNode(),a=w.getBody(),9==o.nodeType?o=u=a:u=o;u!==a;)u=(o=u).parentNode;n=o==a?a.innerHTML:_.getOuterHTML(o),n=r.serialize(i.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return r.serialize(s)}))),o==a?_.setHTML(a,n):_.setOuterHTML(o,n)}else n=r.serialize(s),u=o.firstChild,f=o.lastChild,!u||u===f&&"BR"===u.nodeName?_.setHTML(o,n):E.setContent(n);(function(){if(p){var n=w.getBody(),i=new k(_);S(_.select("*[data-mce-new]"),function(e){e.removeAttribute("data-mce-new");for(var t=e.parentNode;t&&t!=n;t=t.parentNode)i.compare(t,e)&&_.remove(e,!0)})}})(),c=_.get("mce_marker"),E.scrollIntoView(c),d=_.createRng(),(u=c.previousSibling)&&3==u.nodeType?(d.setStart(u,u.nodeValue.length),T||(f=c.nextSibling)&&3==f.nodeType&&(u.appendData(f.data),f.parentNode.removeChild(f))):(d.setStartBefore(c),d.setEndBefore(c)),_.remove(c),E.setRng(d),w.fire("SetContent",l),w.addVisual()},mceInsertRawHTML:function(e,t,n){E.setContent("tiny_mce_marker"),w.setContent(w.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(e,t,n){o(n)},mceSetContent:function(e,t,n){w.setContent(n)},"Indent,Outdent":function(n){var i,r,o;i=u.indentation,r=/[a-z%]+$/i.exec(i),i=parseInt(i,10),t("InsertUnorderedList")||t("InsertOrderedList")?a(n):(u.forced_root_block||_.getParent(E.getNode(),_.isBlock)||l.apply("div"),S(E.getSelectedBlocks(),function(e){if("LI"!=e.nodeName){var t=w.getParam("indent_use_margin",!1)?"margin":"padding";t+="rtl"==_.getStyle(e,"direction",!0)?"Right":"Left","outdent"==n?(o=Math.max(0,parseInt(e.style[t]||0,10)-i),_.setStyle(e,t,o?o+r:"")):(o=parseInt(e.style[t]||0,10)+i+r,_.setStyle(e,t,o))}}))},mceRepaint:function(){if(b)try{r(!0),E.getSel()&&E.getSel().selectAllChildren(w.getBody()),E.collapse(!0),s()}catch(e){}},InsertHorizontalRule:function(){w.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){w.hasVisual=!w.hasVisual,w.addVisual()},mceReplaceContent:function(e,t,n){w.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,E.getContent({format:"text"})))},mceInsertLink:function(e,t,n){var i;"string"==typeof n&&(n={href:n}),i=_.getParent(E.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||l.remove("link"),n.href&&l.apply("link",n,i)},selectAll:function(){var e,t=_.getRoot();E.getRng().setStart?((e=_.createRng()).setStart(t,0),e.setEnd(t,t.childNodes.length),E.setRng(e)):(e=E.getRng()).item||(e.moveToElementText(t),e.select())},delete:function(){a("Delete");var e=w.getBody();_.isEmpty(e)&&(w.setContent(""),e.firstChild&&_.isBlock(e.firstChild)?w.selection.setCursorLocation(e.firstChild,0):w.selection.setCursorLocation(e,0))},mceNewDocument:function(){w.setContent("")},InsertLineBreak:function(e,t,n){var i,r,o,a=n,s=E.getRng(!0);new v(_).normalize(s);var l=s.startOffset,c=s.startContainer;if(1==c.nodeType&&c.hasChildNodes()){var d=l>c.childNodes.length-1;c=c.childNodes[Math.min(l,c.childNodes.length-1)]||c,l=d&&3==c.nodeType?c.nodeValue.length:0}var u=_.getParent(c,_.isBlock),f=u?u.nodeName.toUpperCase():"",h=u?_.getParent(u.parentNode,_.isBlock):null,p=h?h.nodeName.toUpperCase():"",m=a&&a.ctrlKey;"LI"!=p||m||(u=h,f=p),c&&3==c.nodeType&&l>=c.nodeValue.length&&(C||function(){for(var e,t=new y(c,u),n=w.schema.getNonEmptyElements();e=t.next();)if(n[e.nodeName.toLowerCase()]||0<e.length)return!0}()||(i=_.create("br"),s.insertNode(i),s.setStartAfter(i),s.setEndAfter(i),r=!0)),i=_.create("br"),s.insertNode(i);var g=_.doc.documentMode;return C&&"PRE"==f&&(!g||g<8)&&i.parentNode.insertBefore(_.doc.createTextNode("\r"),i),o=_.create("span",{},"&nbsp;"),i.parentNode.insertBefore(o,i),E.scrollIntoView(o),_.remove(o),r?(s.setStartBefore(i),s.setEndBefore(i)):(s.setStartAfter(i),s.setEndAfter(i)),E.setRng(s),w.undoManager.add(),!0}}),e({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var t="align"+e.substring(7),n=E.isCollapsed()?[_.getParent(E.getNode(),_.isBlock)]:E.getSelectedBlocks(),i=p(n,function(e){return!!l.matchNode(e,t)});return-1!==m(i,!0)},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return i(e)},mceBlockQuote:function(){return i("blockquote")},Outdent:function(){var e;if(u.inline_styles){if((e=_.getParent(E.getStart(),_.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0;if((e=_.getParent(E.getEnd(),_.isBlock))&&0<parseInt(e.style.paddingLeft,10))return!0}return t("InsertUnorderedList")||t("InsertOrderedList")||!u.inline_styles&&!!_.getParent(E.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var t=_.getParent(E.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),e({"FontSize,FontName":function(e){var t,n=0;return(t=_.getParent(E.getNode(),"span"))&&(n="fontsize"==e?t.style.fontSize:t.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),e({Undo:function(){w.undoManager.undo()},Redo:function(){w.undoManager.redo()}})}}),e(I,[r],function(e){function a(i,e){var t,n,r=this;if(i=l(i),t=(e=r.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(i)||/^\s*#/.test(i))r.source=i;else{var o=0===i.indexOf("//");0!==i.indexOf("/")||o||(i=(t&&t.protocol||"http")+"://mce_host"+i),/^[\w\-]*:?\/\//.test(i)||(n=e.base_uri?e.base_uri.path:new a(location.href).directory,""===e.base_uri.protocol?i="//mce_host"+r.toAbsPath(n,i):(i=/([^#?]*)([#?]?.*)/.exec(i),i=(t&&t.protocol||"http")+"://mce_host"+r.toAbsPath(n,i[1])+i[2])),i=i.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(i),s(c,function(e,t){var n=i[t];n&&(n=n.replace(/\(mce_at\)/g,"@@")),r[e]=n}),t&&(r.protocol||(r.protocol=t.protocol),r.userInfo||(r.userInfo=t.userInfo),r.port||"mce_host"!==r.host||(r.port=t.port),r.host&&"mce_host"!==r.host||(r.host=t.host),r.source=""),o&&(r.protocol="")}}var s=e.each,l=e.trim,c="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),n={ftp:21,http:80,https:443,mailto:25};return a.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var t;if("./"===e)return e;if("mce_host"!=(e=new a(e,{base_uri:this})).host&&this.host!=e.host&&e.host||this.port!=e.port||this.protocol!=e.protocol&&""!==e.protocol)return e.getURI();var n=this.getURI(),i=e.getURI();return n==i||"/"==n.charAt(n.length-1)&&n.substr(0,n.length-1)==i?n:(t=this.toRelPath(this.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return(e=new a(e,{base_uri:this})).getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=n[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,i,r,o=0,a="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),n=t.split("/"),e.length>=n.length)for(i=0,r=e.length;i<r;i++)if(i>=n.length||e[i]!=n[i]){o=i+1;break}if(e.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=e.length||e[i]!=n[i]){o=i+1;break}if(1===o)return t;for(i=0,r=e.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(e,t){var n,i,r,o=0,a=[];for(i=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),s(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];0<=n;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?0<o?o--:a.push(t[n]):o++);return 0!==(r=(n=e.length-o)<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(e){var t,n=this;return(!n.source||e)&&(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},a}),e(F,[r],function(e){function t(){}var l,c,d=e.each,u=e.extend;return t.extend=l=function(n){function i(){var e,t,n;if(!c&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function t(){return this}function e(n,i){return function(){var e,t=this._super;return this._super=s[n],e=i.apply(this,arguments),this._super=t,e}}var r,o,a,s=this.prototype;for(o in c=!0,r=new this,c=!1,n.Mixins&&(d(n.Mixins,function(e){for(var t in e=e)"init"!==t&&(n[t]=e[t])}),s.Mixins&&(n.Mixins=s.Mixins.concat(n.Mixins))),n.Methods&&d(n.Methods.split(","),function(e){n[e]=t}),n.Properties&&d(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&d(n.Statics,function(e,t){i[t]=e}),n.Defaults&&s.Defaults&&(n.Defaults=u({},s.Defaults,n.Defaults)),n)"function"==typeof(a=n[o])&&s[o]?r[o]=e(o,a):r[o]=a;return i.prototype=r,(i.constructor=i).extend=l,i},t}),e(z,[r],function(p){function e(a){function s(){return!1}function l(){return!0}function i(e,t,n,i){var r,o,a;if(!1===t&&(t=s),t)for(t={func:t},i&&p.extend(t,i),a=(o=e.toLowerCase().split(" ")).length;a--;)e=o[a],(r=h[e])||(r=h[e]=[],u(e,!0)),n?r.unshift(t):r.push(t);return f}function c(e,t){var n,i,r,o,a;if(e)for(n=(o=e.toLowerCase().split(" ")).length;n--;){if(e=o[n],i=h[e],!e){for(r in h)u(r,!1),delete h[r];return f}if(i){if(t)for(a=i.length;a--;)i[a].func===t&&(i=i.slice(0,a).concat(i.slice(a+1)),h[e]=i);else i.length=0;i.length||(u(e,!1),delete h[e])}}else{for(e in h)u(e,!1);h={}}return f}var d,u,f=this,h={};d=(a=a||{}).scope||f,u=a.toggleEvent||s,f.fire=function(e,t){var n,i,r,o;if(e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=d),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=l},t.stopPropagation=function(){t.isPropagationStopped=l},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=l},t.isDefaultPrevented=s,t.isPropagationStopped=s,t.isImmediatePropagationStopped=s),a.beforeFire&&a.beforeFire(t),n=h[e])for(i=0,r=n.length;i<r;i++){if((o=n[i]).once&&c(e,o.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===o.func.call(d,t))return t.preventDefault(),t}return t},f.on=i,f.off=c,f.once=function(e,t,n){return i(e,t,n,{once:!0})},f.has=function(e){return e=e.toLowerCase(),!(!h[e]||0===h[e].length)}}var t=p.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return e.isNative=function(e){return!!t[e.toLowerCase()]},e}),e(W,[F],function(e){var r,m=/^([\w\\*]+)?(?:#([\w\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,s=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,g=/^\s*|\s*$/g,o=e.extend({init:function(e){function a(e,t,n){function i(e){e&&t.push(e)}var r,o,a,s,l,c,d,u,f;return r=m.exec(e.replace(g,"")),i((f=r[1])?(f=f.toLowerCase(),function(e){return"*"===f||e.type===f}):void 0),i((u=r[2])?function(e){return e._name===u}:void 0),i((d=r[3])?(d=d.split("."),function(e){for(var t=d.length;t--;)if(!e.hasClass(d[t]))return!1;return!0}):void 0),i((s=r[4],l=r[5],c=r[6],s?function(e){var t=e[s]?e[s]():"";return l?"="===l?t===c:"*="===l?0<=t.indexOf(c):"~="===l?0<=(" "+t+" ").indexOf(" "+c+" "):"!="===l?t!=c:"^="===l?0===t.indexOf(c):"$="===l&&t.substr(t.length-c.length)===c:!!c}:void 0)),i((o=r[7])?(o=/(?:not\((.+)\))|(.+)/i.exec(o))[1]?(a=h(o[1],[]),function(e){return!p(e,a)}):(o=o[2],function(e,t,n){return"first"===o?0===t:"last"===o?t===n-1:"even"===o?t%2==0:"odd"===o?t%2==1:!!e[o]&&e[o]()}):void 0),t.psuedo=!!r[7],t.direct=n,t}function h(e,t){var n,i,r,o=[];do{if(s.exec(""),(i=s.exec(e))&&(e=i[3],o.push(i[1]),i[2])){n=i[3];break}}while(i);for(n&&h(n,t),e=[],r=0;r<o.length;r++)">"!=o[r]&&e.push(a(o[r],[],">"===o[r-1]));return t.push(e),t}var p=this.match;this._selectors=h(e,[])},match:function(e,t){var n,i,r,o,a,s,l,c,d,u,f,h,p;for(n=0,i=(t=t||this._selectors).length;n<i;n++){for(p=e,h=0,r=(o=(a=t[n]).length)-1;0<=r;r--)for(c=a[r];p;){if(c.psuedo)for(d=u=(f=p.parent().items()).length;d--&&f[d]!==p;);for(s=0,l=c.length;s<l;s++)if(!c[s](p,d,u)){s=l+1;break}if(s===l){h++;break}if(r===o-1)break;p=p.parent()}if(h===o)return!0}return!1},find:function(e){function c(e,t,n){var i,r,o,a,s,l=t[n];for(i=0,r=e.length;i<r;i++){for(s=e[i],o=0,a=l.length;o<a;o++)if(!l[o](s,i,r)){o=a+1;break}if(o===a)n==t.length-1?d.push(s):s.items&&c(s.items(),t,n+1);else if(l.direct)return;s.items&&c(s.items(),t,n)}}var t,n,d=[],i=this._selectors;if(e.items){for(t=0,n=i.length;t<n;t++)c(e.items(),i[t],0);1<n&&(d=function(e){for(var t,n=[],i=e.length;i--;)(t=e[i]).__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}(d))}return r||(r=o.Collection),new r(d)}});return o}),e(V,[r,W,F],function(i,a,e){var s,r,t=Array.prototype.push,n=Array.prototype.slice;return r={length:0,init:function(e){e&&this.add(e)},add:function(e){return i.isArray(e)?t.apply(this,e):e instanceof s?this.add(e.toArray()):t.call(this,e),this},set:function(e){var t,n=this.length;for(this.length=0,this.add(e),t=this.length;t<n;t++)delete this[t];return this},filter:function(t){var e,n,i,r,o=[];for("string"==typeof t?(t=new a(t),r=function(e){return t.match(e)}):r=t,e=0,n=this.length;e<n;e++)r(i=this[e])&&o.push(i);return new s(o)},slice:function(){return new s(n.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},each:function(e){return i.each(this,e),this},toArray:function(){return i.toArray(this)},indexOf:function(e){for(var t=this.length;t--&&this[t]!==e;);return t},reverse:function(){return new s(i.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].hasClass(e)},prop:function(t,n){var e;return void 0!==n?(this.each(function(e){e[t]&&e[t](n)}),this):(e=this[0])&&e[t]?e[t]():void 0},exec:function(t){var n=i.toArray(arguments).slice(1);return this.each(function(e){e[t]&&e[t].apply(e,n)}),this},remove:function(){for(var e=this.length;e--;)this[e].remove();return this}},i.each("fire on off show hide addClass removeClass append prepend before after reflow".split(" "),function(n){r[n]=function(){var t=i.toArray(arguments);return this.each(function(e){n in e&&e[n].apply(e,t)}),this}}),i.each("text name disabled active selected checked visible parent value data".split(" "),function(t){r[t]=function(e){return this.prop(t,e)}}),s=e.extend(r),a.Collection=s}),e(U,[r,p],function(e,r){var t=0;return{id:function(){return"mceu_"+t++},createFragment:function(e){return r.DOM.createFragment(e)},getWindowSize:function(){return r.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return r.DOM.getPos(e,t)},getViewPort:function(e){return r.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return r.DOM.addClass(e,t)},removeClass:function(e,t){return r.DOM.removeClass(e,t)},hasClass:function(e,t){return r.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return r.DOM.toggleClass(e,t,n)},css:function(e,t,n){return r.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return r.DOM.getStyle(e,t,!0)},on:function(e,t,n,i){return r.DOM.bind(e,t,n,i)},off:function(e,t,n){return r.DOM.unbind(e,t,n)},fire:function(e,t,n){return r.DOM.fire(e,t,n)},innerHtml:function(e,t){r.DOM.setHTML(e,t)}}}),e($,[F,r,z,V,U],function(e,r,i,o,v){function a(n){return n._eventDispatcher||(n._eventDispatcher=new i({scope:n,toggleEvent:function(e,t){t&&i.isNative(e)&&(n._nativeEvents||(n._nativeEvents={}),n._nativeEvents[e]=!0,n._rendered&&n.bindPendingEvents())}})),n._eventDispatcher}var f="onmousewheel"in document,l=e.extend({Statics:{classPrefix:"mce-"},isRtl:function(){return l.rtl},classPrefix:"mce-",init:function(n){var e,t,i=this;if(i.settings=n=r.extend({},i.Defaults,n),i._id=n.id||v.id(),i._text=i._name="",i._width=i._height=0,i._aria={role:n.role},this._elmCache={},e=n.classes)for((e=e.split(" ")).map={},t=e.length;t--;)e.map[e[t]]=!0;i._classes=e||[],i.visible(!0),r.each("title text width height name classes visible disabled active value".split(" "),function(e){var t=n[e];void 0!==t?i[e](t):void 0===i["_"+e]&&(i["_"+e]=!1)}),i.on("click",function(){return!i.disabled()&&void 0}),n.classes&&r.each(n.classes.split(" "),function(e){i.addClass(e)}),i.settings=n,i._borderBox=i.parseBox(n.border),i._paddingBox=i.parseBox(n.padding),i._marginBox=i.parseBox(n.margin),n.hidden&&i.hide()},Properties:"parent,title,text,width,height,disabled,active,name,value",Methods:"renderHtml",getContainerElm:function(){return document.body},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},parseBox:function(e){var t;if(e)return"number"==typeof e?{top:e=e||0,left:e,bottom:e,right:e}:(1===(t=(e=e.split(" ")).length)?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],10)||0,right:parseInt(e[1],10)||0,bottom:parseInt(e[2],10)||0,left:parseInt(e[3],10)||0})},borderBox:function(){return this._borderBox},paddingBox:function(){return this._paddingBox},marginBox:function(){return this._marginBox},measureBox:function(r,e){function t(e){var t,n,i=parseFloat((t=e,(n=document.defaultView)?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),n.getComputedStyle(r,null).getPropertyValue(t)):r.currentStyle[t]),10);return isNaN(i)?0:i}return{top:t(e+"TopWidth"),right:t(e+"RightWidth"),bottom:t(e+"BottomWidth"),left:t(e+"LeftWidth")}},initLayoutRect:function(){var e,t,n,i,r,o,a,s,l,c,d=this,u=d.settings,f=d.getEl();e=d._borderBox=d._borderBox||d.measureBox(f,"border"),d._paddingBox=d._paddingBox||d.measureBox(f,"padding"),d._marginBox=d._marginBox||d.measureBox(f,"margin"),c=v.getSize(f),s=u.minWidth,l=u.minHeight,r=s||c.width,o=l||c.height,n=u.width,i=u.height,a=void 0!==(a=u.autoResize)?a:!n&&!i,n=n||r,i=i||o;var h=e.left+e.right,p=e.top+e.bottom,m=u.maxWidth||65535,g=u.maxHeight||65535;return d._layoutRect=t={x:u.x||0,y:u.y||0,w:n,h:i,deltaW:h,deltaH:p,contentW:n-h,contentH:i-p,innerW:n-h,innerH:i-p,startMinWidth:s||0,startMinHeight:l||0,minW:Math.min(r,m),minH:Math.min(o,g),maxW:m,maxH:g,autoResize:a,scrollW:0},d._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,a,s=this._layoutRect;return s||(s=this.initLayoutRect()),e?(i=s.deltaW,r=s.deltaH,e.x!==o&&(s.x=e.x),e.y!==o&&(s.y=e.y),e.minW!==o&&(s.minW=e.minW),e.minH!==o&&(s.minH=e.minH),(n=e.w)!==o&&(n=(n=n<s.minW?s.minW:n)>s.maxW?s.maxW:n,s.w=n,s.innerW=n-i),(n=e.h)!==o&&(n=(n=n<s.minH?s.minH:n)>s.maxH?s.maxH:n,s.h=n,s.innerH=n-r),(n=e.innerW)!==o&&(n=(n=n<s.minW-i?s.minW-i:n)>s.maxW-i?s.maxW-i:n,s.innerW=n,s.w=n+i),(n=e.innerH)!==o&&(n=(n=n<s.minH-r?s.minH-r:n)>s.maxH-r?s.maxH-r:n,s.innerH=n,s.h=n+r),e.contentW!==o&&(s.contentW=e.contentW),e.contentH!==o&&(s.contentH=e.contentH),((t=this._lastLayoutRect).x!==s.x||t.y!==s.y||t.w!==s.w||t.h!==s.h)&&((a=l.repaintControls)&&a.map&&!a.map[this._id]&&(a.push(this),a.map[this._id]=!0),t.x=s.x,t.y=s.y,t.w=s.w,t.h=s.h),this):s},repaint:function(){var e,t,n,i,r,o,a,s,l=this;s=document.createRange?function(e){return e}:Math.round,e=l.getEl().style,n=l._layoutRect,a=l._lastRepaintRect||{},r=(i=l._borderBox).left+i.right,o=i.top+i.bottom,n.x!==a.x&&(e.left=s(n.x)+"px",a.x=n.x),n.y!==a.y&&(e.top=s(n.y)+"px",a.y=n.y),n.w!==a.w&&(e.width=s(n.w-r)+"px",a.w=n.w),n.h!==a.h&&(e.height=s(n.h-o)+"px",a.h=n.h),l._hasBody&&n.innerW!==a.innerW&&((t=l.getEl("body").style).width=s(n.innerW)+"px",a.innerW=n.innerW),l._hasBody&&n.innerH!==a.innerH&&((t=t||l.getEl("body").style).height=s(n.innerH)+"px",a.innerH=n.innerH),l._lastRepaintRect=a,l.fire("repaint",{},!1)},on:function(e,t){var n,i,r,o=this;return a(o).on(e,"string"!=typeof(n=t)?n:function(e){return i||o.parentsAndSelf().each(function(e){var t=e.settings.callbacks;return t&&(i=t[n])?(r=e,!1):void 0}),i.call(r,e)}),o},off:function(e,t){return a(this).off(e,t),this},fire:function(e,t,n){if((t=t||{}).control||(t.control=this),t=a(this).fire(e,t),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},hasEventListeners:function(e){return a(this).has(e)},parents:function(e){var t,n=new o;for(t=this.parent();t;t=t.parent())n.add(t);return e&&(n=n.filter(e)),n},parentsAndSelf:function(e){return new o(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},findCommonAncestor:function(e,t){for(var n;e;){for(n=t;n&&e!=n;)n=n.parent();if(e==n)break;e=e.parent()}return e},hasClass:function(e,t){var n=this._classes[t||"control"];return e=this.classPrefix+e,n&&!!n.map[e]},addClass:function(e,t){var n,i;return e=this.classPrefix+e,(n=this._classes[t||"control"])||((n=[]).map={},this._classes[t||"control"]=n),n.map[e]||(n.map[e]=e,n.push(e),this._rendered&&((i=this.getEl(t))&&(i.className=n.join(" ")))),this},removeClass:function(e,t){var n,i,r;if(e=this.classPrefix+e,(n=this._classes[t||"control"])&&n.map[e])for(delete n.map[e],i=n.length;i--;)n[i]===e&&n.splice(i,1);return this._rendered&&((r=this.getEl(t))&&(r.className=n.join(" "))),this},toggleClass:function(e,t,n){return t?this.addClass(e,n):this.removeClass(e,n),this},classes:function(e){var t=this._classes[e||"control"];return t?t.join(" "):""},innerHtml:function(e){return v.innerHtml(this.getEl(),e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=v.get(t)),this._elmCache[t]},visible:function(e){var t;return void 0!==e?(this._visible!==e&&(this._rendered&&(this.getEl().style.display=e?"":"none"),this._visible=e,(t=this.parent())&&(t._lastRect=null),this.fire(e?"show":"hide")),this):this._visible},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this.getEl(this.ariaTarget);return void 0===t?this._aria[e]:(this._aria[e]=t,this._rendered&&n.setAttribute("role"==e?e:"aria-"+e,t),this)},encode:function(e,t){return!1!==t&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return l.translate?l.translate(e):e},before:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this),!0),this},after:function(e){var t=this.parent();return t&&t.insert(e,t.items().indexOf(this)),this},remove:function(){var t,e,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(e=o.length;e--;)o[e].remove()}r&&r.items&&(t=[],r.items().each(function(e){e!==n&&t.push(e)}),r.items().set(t),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&v.off(i);var a=n.getRoot().controlIdLookup;return a&&delete a[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n._rendered=!1,n},renderBefore:function(e){return e.parentNode.insertBefore(v.createFragment(this.renderHtml()),e),this.postRender(),this},renderTo:function(e){return(e=e||this.getContainerElm()).appendChild(v.createFragment(this.renderHtml())),this.postRender(),this},postRender:function(){var e,t,n,i,r,o=this,a=o.settings;for(i in a)0===i.indexOf("on")&&o.on(i.substr(2),a[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}o.bindPendingEvents(),a.style&&((e=o.getEl())&&(e.setAttribute("style",a.style),e.style.cssText=a.style)),o._visible||v.css(o.getEl(),"display","none"),o.settings.border&&(t=o.borderBox(),v.css(o.getEl(),{"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var s=o.getRoot();for(var l in s.controlIdLookup||(s.controlIdLookup={}),(s.controlIdLookup[o._id]=o)._aria)o.aria(l,o._aria[l]);o.fire("postrender",{},!1)},scrollIntoView:function(e){var t,n,i,r,o,a,s=this.getEl(),l=s.parentNode,c=function(e,t){var n,i,r=e;for(n=i=0;r&&r!=t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}(s,l);return t=c.x,n=c.y,i=s.offsetWidth,r=s.offsetHeight,o=l.clientWidth,a=l.clientHeight,"end"==e?(t-=o-i,n-=a-r):"center"==e&&(t-=o/2-i/2,n-=a/2-r/2),l.scrollLeft=t,l.scrollTop=n,this},bindPendingEvents:function(){function e(e){var t=d.getParentCtrl(e.target);t&&t.fire(e.type,e)}function t(){var e=s._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),s._lastHoverCtrl=null)}function n(e){var t,n,i,r=d.getParentCtrl(e.target),o=s._lastHoverCtrl,a=0;if(r!==o){if((n=(s._lastHoverCtrl=r).parents().toArray().reverse()).push(r),o){for((i=o.parents().toArray().reverse()).push(o),a=0;a<i.length&&n[a]===i[a];a++);for(t=i.length-1;a<=t;t--)(o=i[t]).fire("mouseleave",{target:o.getEl()})}for(t=a;t<n.length;t++)(r=n[t]).fire("mouseenter",{target:r.getEl()})}}function i(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=d.fire("wheel",e)}var r,o,a,s,l,c,d=this;if(d._rendered=!0,l=d._nativeEvents){for((a=d.parents().toArray()).unshift(d),r=0,o=a.length;!s&&r<o;r++)s=a[r]._eventsRoot;for(s||(s=a[a.length-1]||d),d._eventsRoot=s,o=r,r=0;r<o;r++)a[r]._eventsRoot=s;var u=s._delegates;for(c in u||(u=s._delegates={}),l){if(!l)return!1;"wheel"!==c?("mouseenter"===c||"mouseleave"===c?s._hasMouseEnter||(v.on(s.getEl(),"mouseleave",t),v.on(s.getEl(),"mouseover",n),s._hasMouseEnter=1):u[c]||(v.on(s.getEl(),c,e),u[c]=!0),l[c]=!1):f?v.on(d.getEl(),"mousewheel",i):v.on(d.getEl(),"DOMMouseScroll",i)}}},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),t=(e=t).parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){return this.repaint(),this}});return l}),e(q,[],function(){var o,a={};return{add:function(e,t){a[e.toLowerCase()]=t},has:function(e){return!!a[e.toLowerCase()]},create:function(e,t){var n,i,r;if(!o){for(i in r=tinymce.ui)a[i.toLowerCase()]=r[i];o=!0}if("string"==typeof e?(t=t||{}).type=e:e=(t=e).type,e=e.toLowerCase(),!(n=a[e]))throw new Error("Could not find control by type: "+e);return(n=new n(t)).type=e,n}}}),e(j,[],function(){return function(e){function o(e){return(e=e||g)&&e.getAttribute("role")}function n(e){for(var t,n=e||g;n=n.parentNode;)if(t=o(n))return t}function i(e){return g?g.getAttribute("aria-"+e):void 0}function a(e){var t=e.tagName.toUpperCase();return"INPUT"==t||"TEXTAREA"==t}function s(e){var r=[];return function e(t){if(1==t.nodeType&&"none"!=t.style.display){(a(i=t)&&!i.hidden||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell)$/.test(o(i)))&&r.push(t);for(var n=0;n<t.childNodes.length;n++)e(t.childNodes[n])}var i}(e||t.getEl()),r}function l(e){var t,n;(n=(e=e||v).parents().toArray()).unshift(e);for(var i=0;i<n.length&&!(t=n[i]).settings.ariaRoot;i++);return t}function c(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function r(e,t){var n=-1,i=l();t=t||s(i.getEl());for(var r=0;r<t.length;r++)t[r]===g&&(n=r);n+=e,i.lastAriaIndex=c(n,t)}function d(){"tablist"==n()?r(-1,s(g.parentNode)):v.parent().submenu?p():r(-1)}function u(){var e=o(),t=n();"tablist"==t?r(1,s(g.parentNode)):"menuitem"==e&&"menu"==t&&i("haspopup")?m():r(1)}function f(){r(-1)}function h(){var e=o(),t=n();"menuitem"==e&&"menubar"==t?m():"button"==e&&i("haspopup")?m({key:"down"}):r(1)}function p(){v.fire("cancel")}function m(e){e=e||{},v.fire("click",{target:g,aria:e})}var g,v,t=e.root;try{g=document.activeElement}catch(e){g=document.body}return v=t.getParentCtrl(g),t.on("keydown",function(e){function t(e,t){a(g)||!1!==t(e)&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,d);break;case 39:t(e,u);break;case 38:t(e,f);break;case 40:t(e,h);break;case 27:p();break;case 14:case 13:case 32:t(e,m);break;case 9:!1!==function(e){if("tablist"==n()){var t=s(v.getEl("body"))[0];t&&t.focus()}else r(e.shiftKey?-1:1)}(e)&&e.preventDefault()}}),t.on("focusin",function(e){g=e.target,v=e.control}),{focusFirst:function(e){var t=l(e),n=s(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?c(t.lastAriaIndex,n):c(0,n)}}}}),e(K,[$,V,W,q,j,r,U],function(r,n,t,o,i,a,s){var l={};return r.extend({layout:"",innerClass:"container-inner",init:function(e){var t=this;t._super(e),e=t.settings,t._fixed=e.fixed,t._items=new n,t.isRtl()&&t.addClass("rtl"),t.addClass("container"),t.addClass("container-body","body"),e.containerCls&&t.addClass(e.containerCls),t._layout=o.create((e.layout||t.layout)+"layout"),t.settings.items&&t.add(t.settings.items),t._hasBody=!0},items:function(){return this._items},find:function(e){return(e=l[e]=l[e]||new t(e)).find(this)},add:function(e){return this.items().add(this.create(e)).parent(this),this},focus:function(e){var t,n,i;return e&&(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(this):(i=this.find("*"),this.statusbar&&i.add(this.statusbar.items()),i.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),this)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}0<=r&&((n=t.getEl())&&n.parentNode.removeChild(n),(n=e.getEl())&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,i=[];return a.isArray(e)||(e=[e]),a.each(e,function(e){e&&(e instanceof r||("string"==typeof e&&(e={type:e}),t=a.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=o.create(t)),i.push(e))}),i},renderNew:function(){var r=this;return r.items().each(function(e,t){var n,i;e.parent(r),e._rendered||(n=r.getEl("body"),i=s.createFragment(e.renderHtml()),n.hasChildNodes()&&t<=n.childNodes.length-1?n.insertBefore(i,n.childNodes[t]):n.appendChild(i),e.postRender())}),r._layout.applyClasses(r),r._lastRect=null,r},append:function(e){return this.add(e).renderNew()},prepend:function(e){return this.items().set(this.create(e).concat(this.items().toArray())),this.renderNew()},insert:function(e,t,n){var i,r,o;return e=this.create(e),i=this.items(),!n&&t<i.length-1&&(t+=1),0<=t&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),this.renderNew()},fromJSON:function(e){for(var t in e)this.find("#"+t).value(e[t]);return this},toJSON:function(){var i={};return this.find("*").each(function(e){var t=e.name(),n=e.value();t&&void 0!==n&&(i[t]=n)}),i},preRender:function(){},renderHtml:function(){var e=this._layout,t=this.settings.role;return this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes()+'"'+(t?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.classes("body")+'">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t._rendered=!0,t.settings.style&&s.css(t.getEl(),t.settings.style),t.settings.border&&(e=t.borderBox(),s.css(t.getEl(),{"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=new i({root:t})),t},initLayoutRect:function(){var e=this._super();return this._layout.recalc(this),e},recalc:function(){var e=this._layoutRect,t=this._lastRect;return t&&t.w==e.w&&t.h==e.h?void 0:(this._layout.recalc(this),e=this.layoutRect(),this._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0)},reflow:function(){var e;if(this.visible()){for(r.repaintControls=[],r.repaintControls.map={},this.recalc(),e=r.repaintControls.length;e--;)r.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),r.repaintControls=[]}return this}})}),e(Y,[U],function(w){return function(e,h){function p(){return x.getElementById(h.handle||e)}var m,g,t,v,y,b,C,x=document;h=h||{},t=function(e){var t,n,i,r,o,a,s,l,c,d,u,f=(d=document,u=Math.max,i=d.documentElement,r=d.body,o=u(i.scrollWidth,r.scrollWidth),a=u(i.clientWidth,r.clientWidth),s=u(i.offsetWidth,r.offsetWidth),l=u(i.scrollHeight,r.scrollHeight),c=u(i.clientHeight,r.clientHeight),{width:o<s?a:o,height:l<u(i.offsetHeight,r.offsetHeight)?c:l});e.preventDefault(),g=e.button,t=p(),b=e.screenX,C=e.screenY,n=window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue("cursor"):t.runtimeStyle.cursor,m=x.createElement("div"),w.css(m,{position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:1e-4,cursor:n}),x.body.appendChild(m),w.on(x,"mousemove",y),w.on(x,"mouseup",v),h.start(e)},y=function(e){return e.button!==g?v(e):(e.deltaX=e.screenX-b,e.deltaY=e.screenY-C,e.preventDefault(),void h.drag(e))},v=function(e){w.off(x,"mousemove",y),w.off(x,"mouseup",v),m.parentNode.removeChild(m),h.stop&&h.stop(e)},this.destroy=function(){w.off(p())},w.on(p(),"mousedown",t)}}),e(G,[U,Y],function(y,i){return{init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){function n(){function e(e,t,n,i,r,o){var a,s,l,c,d,u,f,h;if(s=g.getEl("scroll"+e)){if(f=t.toLowerCase(),h=n.toLowerCase(),g.getEl("absend")&&y.css(g.getEl("absend"),f,g.layoutRect()[i]-1),!r)return void y.css(s,"display","none");y.css(s,"display","block"),a=g.getEl("body"),l=g.getEl("scroll"+e+"t"),c=a["client"+n]-2*v,d=(c-=p&&m?s["client"+o]:0)/a["scroll"+n],(u={})[f]=a["offset"+t]+v,u[h]=c,y.css(s,u),(u={})[f]=a["scroll"+t]*d,u[h]=c*d,y.css(l,u)}}var p,m,t;t=g.getEl("body"),p=t.scrollWidth>t.clientWidth,m=t.scrollHeight>t.clientHeight,e("h","Left","Width","contentW",p,"Height"),e("v","Top","Height","contentH",m,"Width")}var g=this,v=2;g.settings.autoScroll&&(g._hasScroll||(g._hasScroll=!0,function(){function e(a,s,l,c,d){var u,e=g._id+"-scroll"+a,t=g.classPrefix;g.getEl().appendChild(y.createFragment('<div id="'+e+'" class="'+t+"scrollbar "+t+"scrollbar-"+a+'"><div id="'+e+'t" class="'+t+'scrollbar-thumb"></div></div>')),g.draghelper=new i(e+"t",{start:function(){u=g.getEl("body")["scroll"+s],y.addClass(y.get(e),t+"active")},drag:function(e){var t,n,i,r,o=g.layoutRect();n=o.contentW>o.innerW,i=o.contentH>o.innerH,r=g.getEl("body")["client"+l]-2*v,t=(r-=n&&i?g.getEl("scroll"+a)["client"+d]:0)/g.getEl("body")["scroll"+l],g.getEl("body")["scroll"+s]=u+e["delta"+c]/t},stop:function(){y.removeClass(y.get(e),t+"active")}})}g.addClass("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}(),g.on("wheel",function(e){var t=g.getEl("body");t.scrollLeft+=10*(e.deltaX||0),t.scrollTop+=10*e.deltaY,n()}),y.on(g.getEl("body"),"scroll",n)),n())}}}),e(X,[K,G],function(e,t){return e.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[t],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),void 0===n?n='<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}})}),e(J,[U],function(h){function o(e,t,n){var i,r,o,a,s,l,c,d,u,f;return u=h.getViewPort(),o=(r=h.getPos(t)).x,a=r.y,e._fixed&&"static"==h.getRuntimeStyle(document.body,"position")&&(o-=u.x,a-=u.y),i=e.getEl(),s=(f=h.getSize(i)).width,l=f.height,c=(f=h.getSize(t)).width,d=f.height,"b"===(n=(n||"").split(""))[0]&&(a+=d),"r"===n[1]&&(o+=c),"c"===n[0]&&(a+=Math.round(d/2)),"c"===n[1]&&(o+=Math.round(c/2)),"b"===n[3]&&(a-=l),"r"===n[4]&&(o-=s),"c"===n[3]&&(a-=Math.round(l/2)),"c"===n[4]&&(o-=Math.round(s/2)),{x:o,y:a,w:s,h:l}}return{testMoveRel:function(e,t){for(var n=h.getViewPort(),i=0;i<t.length;i++){var r=o(this,e,t[i]);if(this._fixed){if(0<r.x&&r.x+r.w<n.w&&0<r.y&&r.y+r.h<n.h)return t[i]}else if(r.x>n.x&&r.x+r.w<n.w+n.x&&r.y>n.y&&r.y+r.h<n.h+n.y)return t[i]}return t[0]},moveRel:function(e,t){"string"!=typeof t&&(t=this.testMoveRel(e,t));var n=o(this,e,t);return this.moveTo(n.x,n.y)},moveBy:function(e,t){var n=this.layoutRect();return this.moveTo(n.x+e,n.y+t),this},moveTo:function(e,t){function n(e,t,n){return e<0?0:t<e+n?(e=t-n)<0?0:e:e}if(this.settings.constrainToViewport){var i=h.getViewPort(window),r=this.layoutRect();e=n(e,i.w+i.x,r.w),t=n(t,i.h+i.y,r.h)}return this._rendered?this.layoutRect({x:e,y:t}).repaint():(this.settings.x=e,this.settings.y=t),this.fire("move",{x:e,y:t}),this}}}),e(Q,[U],function(i){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=i.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this.layoutRect();return this.resizeTo(n.w+e,n.h+t)}}}),e(Z,[X,J,Q,U],function(e,t,n,a){function r(r){function e(e,t){for(var n,i=0;i<u.length;i++)if(u[i]!=r)for(n=u[i].parent();n&&(n=n.parent());)n==r&&u[i].fixed(e).moveBy(0,t).repaint()}var t=a.getViewPort().y;r.settings.autofix&&(r._fixed?r._autoFixY>t&&(r.fixed(!1).layoutRect({y:r._autoFixY}).repaint(),e(!1,r._autoFixY-t)):(r._autoFixY=r.layoutRect().y,r._autoFixY<t&&(r.fixed(!0).layoutRect({y:0}).repaint(),e(!0,t-r._autoFixY))))}function o(e,t){var n,i,r=h.zIndex||65535;if(e)f.push(t);else for(n=f.length;n--;)f[n]===t&&f.splice(n,1);if(f.length)for(n=0;n<f.length;n++)f[n].modal&&(r++,i=f[n]),f[n].getEl().style.zIndex=r,f[n].zIndex=r,r++;var o=document.getElementById(t.classPrefix+"modal-block");i?a.css(o,"z-index",i.zIndex-1):o&&(o.parentNode.removeChild(o),d=!1),h.currentZIndex=r}function i(e){var t;for(t=u.length;t--;)u[t]===e&&u.splice(t,1);for(t=f.length;t--;)f[t]===e&&f.splice(t,1)}var s,l,c,d,u=[],f=[],h=e.extend({Mixins:[t,n],init:function(e){var i=this;i._super(e),(i._eventsRoot=i).addClass("floatpanel"),e.autohide&&(function(){function r(e,t){for(;e;){if(e==t)return!0;e=e.parent()}}s||(s=function(e){if(2!=e.button)for(var t=u.length;t--;){var n=u[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(r(i,n)||n.parent()===i))continue;(e=n.fire("autohide",{target:e.target})).isDefaultPrevented()||n.hide()}}},a.on(document,"click",s))}(),function(){if(!c){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;c=function(){document.all&&t==e.clientWidth&&n==e.clientHeight||(t=e.clientWidth,n=e.clientHeight,h.hideAll())},a.on(window,"resize",c)}}(),u.push(i)),e.autofix&&(l||(l=function(){var e;for(e=u.length;e--;)r(u[e])},a.on(window,"scroll",l)),i.on("move",function(){r(this)})),i.on("postrender show",function(e){if(e.control==i){var t,n=i.classPrefix;i.modal&&!d&&(t=(t=a.createFragment('<div id="'+n+'modal-block" class="'+n+"reset "+n+'fade"></div>')).firstChild,i.getContainerElm().appendChild(t),setTimeout(function(){a.addClass(t,n+"in"),a.addClass(i.getEl(),n+"in")},0),d=!0),o(!0,i)}}),i.on("show",function(){i.parents().each(function(e){return e._fixed?(i.fixed(!0),!1):void 0})}),e.popover&&(i._preBodyHtml='<div class="'+i.classPrefix+'arrow"></div>',i.addClass("popover").addClass("bottom").addClass(i.isRtl()?"end":"start"))},fixed:function(e){if(this._fixed!=e){if(this._rendered){var t=a.getViewPort();e?this.layoutRect().y-=t.y:this.layoutRect().y+=t.y}this.toggleClass("fixed",e),this._fixed=e}return this},show:function(){var e,t=this._super();for(e=u.length;e--&&u[e]!==this;);return-1===e&&u.push(this),t},hide:function(){return i(this),o(!1,this),this._super()},hideAll:function(){h.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),o(!1,this)),this},remove:function(){i(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});return h.hideAll=function(){for(var e=u.length;e--;){var t=u[e];t&&t.settings.autohide&&(t.hide(),u.splice(e,1))}},h}),e(ee,[Z,X,U,Y],function(e,n,s,i){return e.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.addClass("rtl"),t.addClass("window"),t._fixed=!0,e.buttons&&(t.statusbar=new n({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.addClass("foot"),t.statusbar.parent(t)),t.on("click",function(e){-1!=e.target.className.indexOf(t.classPrefix+"close")&&t.close()}),t.on("cancel",function(){t.close()}),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(s.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&((t=e.headerW)>e.w&&(n=e.x-Math.max(0,t/2),r.layoutRect({w:t,x:n}),i=!0)),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),(t=o.layoutRect().minW+e.deltaW)>e.w&&(n=e.x-Math.max(0,t-e.w),r.layoutRect({w:t,x:n}),i=!0)),i&&r.recalc()},initLayoutRect:function(){var e,t=this._super(),n=0;if(this.settings.title&&!this._fullscreen){e=this.getEl("head");var i=s.getSize(e);t.headerW=i.width,t.headerH=i.height,n+=t.headerH}this.statusbar&&(n+=this.statusbar.layoutRect().h),t.deltaH+=n,t.minH+=n,t.h+=n;var r=s.getWindowSize();return t.x=Math.max(0,r.w/2-t.w/2),t.y=Math.max(0,r.h/2-t.h/2),t},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",a="",s=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><button type="button" class="'+i+'close" aria-hidden="true">×</button><div id="'+n+'-dragh" class="'+i+'dragh"></div></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(e)),e.statusbar&&(a=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes()+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.classes("body")+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(e){var n,t,i=this,r=document.documentElement,o=i.classPrefix;if(e!=i._fullscreen)if(s.on(window,"resize",function(){var e;if(i._fullscreen)if(n)i._timer||(i._timer=setTimeout(function(){var e=s.getWindowSize();i.moveTo(0,0).resizeTo(e.w,e.h),i._timer=0},50));else{e=(new Date).getTime();var t=s.getWindowSize();i.moveTo(0,0).resizeTo(t.w,t.h),50<(new Date).getTime()-e&&(n=!0)}}),t=i.layoutRect(),i._fullscreen=e){i._initial={x:t.x,y:t.y,w:t.w,h:t.h},i._borderBox=i.parseBox("0"),i.getEl("head").style.display="none",t.deltaH-=t.headerH+2,s.addClass(r,o+"fullscreen"),s.addClass(document.body,o+"fullscreen"),i.addClass("fullscreen");var a=s.getWindowSize();i.moveTo(0,0).resizeTo(a.w,a.h)}else i._borderBox=i.parseBox(i.settings.border),i.getEl("head").style.display="",t.deltaH+=t.headerH,s.removeClass(r,o+"fullscreen"),s.removeClass(document.body,o+"fullscreen"),i.removeClass("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h);return i.reflow()},postRender:function(){var t,n=this;setTimeout(function(){n.addClass("in")},0),n._super(),n.statusbar&&n.statusbar.postRender(),n.focus(),this.dragHelper=new i(n._id+"-dragh",{start:function(){t={x:n.layoutRect().x,y:n.layoutRect().y}},drag:function(e){n.moveTo(t.x+e.deltaX,t.y+e.deltaY)}}),n.on("submit",function(e){e.isDefaultPrevented()||n.close()})},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e=this.classPrefix;this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),this._fullscreen&&(s.removeClass(document.documentElement,e+"fullscreen"),s.removeClass(document.body,e+"fullscreen"))},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}})}),e(te,[ee],function(r){var o=r.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function t(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),i(t)}}}var n,i=e.callback||function(){};switch(e.buttons){case o.OK_CANCEL:n=[t("Ok",!0,!0),t("Cancel",!1)];break;case o.YES_NO:case o.YES_NO_CANCEL:n=[t("Yes",1,!0),t("No",0)],e.buttons==o.YES_NO_CANCEL&&n.push(t("Cancel",-1));break;default:n=[t("Ok",!0,!0)]}return new r({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:n,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){i(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,o.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=o.OK_CANCEL,o.msgBox(e)}}});return o}),e(ne,[ee,te],function(o,a){return function(i){function t(){return r.length?r[r.length-1]:void 0}var r=[];this.windows=r,i.on("remove",function(){for(var e=r.length;e--;)r[e].close()}),this.open=function(n,e){var t;return i.editorManager.setActive(i),n.title=n.title||" ",n.url=n.url||n.file,n.url&&(n.width=parseInt(n.width||320,10),n.height=parseInt(n.height||240,10)),n.body&&(n.items={defaults:n.defaults,type:n.bodyType||"form",items:n.body}),n.url||n.buttons||(n.buttons=[{text:"Ok",subtype:"primary",onclick:function(){t.find("form")[0].submit()}},{text:"Cancel",onclick:function(){t.close()}}]),t=new o(n),r.push(t),t.on("close",function(){for(var e=r.length;e--;)r[e]===t&&r.splice(e,1);r.length||i.focus()}),n.data&&t.on("postRender",function(){this.find("*").each(function(e){var t=e.name();t in n.data&&e.value(n.data[t])})}),t.features=n||{},t.params=e||{},1===r.length&&i.nodeChanged(),t.renderTo().reflow()},this.alert=function(e,t,n){a.alert(e,function(){t?t.call(n||this):i.focus()})},this.confirm=function(e,t,n){a.confirm(e,function(e){t.call(n||this,e)})},this.close=function(){t()&&t().close()},this.getParams=function(){return t()?t().params:null},this.setParams=function(e){t()&&(t().params=e)},this.getWindows=function(){return r}}}),e(ie,[S,v,d,b,f,i,r],function(k,S,T,R,A,B,D){return function(f){function e(e,t){try{f.getDoc().execCommand(e,!1,t)}catch(e){}}function t(){var e=f.getDoc().documentMode;return e||6}function h(e){return e.isDefaultPrevented()}function p(e){var t;e.dataTransfer&&(f.selection.isCollapsed()&&"IMG"==e.target.tagName&&l.select(e.target),0<(t=f.selection.getContent()).length&&e.dataTransfer.setData(N,E+escape(t)))}function m(e){var t,n;return e.dataTransfer&&((t=e.dataTransfer.getData(N))&&0<=t.indexOf(E)&&(n=unescape(t.substr(E.length)))),n}function g(e){f.queryCommandSupported("mceInsertClipboardContent")?f.execCommand("mceInsertClipboardContent",!1,{content:e}):f.execCommand("mceInsertContent",!1,e)}function n(){f.shortcuts.add("meta+a",null,"SelectAll")}function i(){f.on("keydown",function(e){if(!h(e)&&e.keyCode===y){if(!f.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng(!0).startOffset){var t=l.getNode(),n=t.previousSibling;if("HR"==t.nodeName)return c.remove(t),void e.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(c.remove(n),e.preventDefault())}}})}function r(){f.on("keydown",function(e){if(!h(e)&&e.keyCode===y&&l.isCollapsed()&&0===l.getRng(!0).startOffset){var t=l.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function o(){f.inline||(f.contentStyles.push("body {min-height: 150px}"),f.on("click",function(e){var t;"HTML"==e.target.nodeName&&(t=f.selection.getRng(),f.getBody().focus(),f.selection.setRng(t),f.selection.normalize(),f.nodeChanged())}))}var a,s=D.each,v=f.$,y=k.BACKSPACE,b=k.DELETE,c=f.dom,l=f.selection,d=f.settings,u=f.parser,C=f.serializer,x=B.gecko,w=B.ie,_=B.webkit,E="data:text/mce-internal,",N=w?"Text":"URL";f.on("keydown",function(e){var t,n,i,r,o;if(!h(e)&&e.keyCode==k.BACKSPACE&&(n=(t=l.getRng()).startContainer,i=t.startOffset,r=c.getRoot(),o=n,t.collapsed&&0===i)){for(;o&&o.parentNode&&o.parentNode.firstChild==o&&o.parentNode!=r;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(f.formatter.toggle("blockquote",null,o),(t=c.createRng()).setStart(n,0),t.setEnd(n,0),l.setRng(t))}}),function(){function r(e){var t=c.create("body"),n=e.cloneContents();return t.appendChild(n),l.serializer.serialize(t,{format:"html"})}f.on("keydown",function(e){var t,n,i=e.keyCode;if(!h(e)&&(i==b||i==y)){if(t=f.selection.isCollapsed(),n=f.getBody(),t&&!c.isEmpty(n))return;if(!t&&!function(e){if(!e.setStart){if(e.item)return!1;var t=e.duplicate();return t.moveToElementText(f.getBody()),S.compareRanges(e,t)}var n=r(e),i=c.createRng();return i.selectNode(f.getBody()),n===r(i)}(f.selection.getRng()))return;e.preventDefault(),f.setContent(""),n.firstChild&&c.isBlock(n.firstChild)?f.selection.setCursorLocation(n.firstChild,0):f.selection.setCursorLocation(n,0),f.nodeChanged()}})}(),f.on("keyup focusin mouseup",function(e){65==e.keyCode&&k.metaKeyPressed(e)||l.normalize()},!0),_&&(function(){function a(e){var t=d.schema.getBlockElements(),n=f.getBody();if("BR"!=e.nodeName)return!1;for(e=e;e!=n&&!t[e.nodeName];e=e.parentNode)if(e.nextSibling)return!1;return!0}function l(e,t){var n;for(n=e.nextSibling;n&&n!=t;n=n.nextSibling)if((3!=n.nodeType||0!==v.trim(n.data).length)&&n!==t)return!1;return n===t}function c(e,t,n){var i,r,o;for(o=d.schema.getNonEmptyElements(),i=new T(n||e,e);r=i[t?"next":"prev"]();){if(o[r.nodeName]&&!a(r))return r;if(3==r.nodeType&&0<r.data.length)return r}}function n(e){var t=u.getRng();return!!function(e){var t,n,i,r,o;if(!e.collapsed&&(t=d.getParent(S.getNode(e.startContainer,e.startOffset),d.isBlock),n=d.getParent(S.getNode(e.endContainer,e.endOffset),d.isBlock),o=f.schema.getTextBlockElements(),t!=n&&o[t.nodeName]&&o[n.nodeName]&&"false"!==d.getContentEditable(t)&&"false"!==d.getContentEditable(n)))return e.deleteContents(),i=c(t,!1),r=c(n,!0),d.isEmpty(n)||v(t).append(n.childNodes),v(n).remove(),i?1==i.nodeType?"BR"==i.nodeName?(e.setStartBefore(i),e.setEndBefore(i)):(e.setStartAfter(i),e.setEndAfter(i)):(e.setStart(i,i.data.length),e.setEnd(i,i.data.length)):r&&(1==r.nodeType?(e.setStartBefore(r),e.setEndBefore(r)):(e.setStart(r,0),e.setEnd(r,0))),u.setRng(e),!0}(t=function(e,t){var n,i,r,o,a,s;if(!e.collapsed)return e;if(a=e.startContainer,s=e.startOffset,3==a.nodeType)if(t){if(s<a.data.length)return e}else if(0<s)return e;if(n=S.getNode(e.startContainer,e.startOffset),r=d.getParent(n,d.isBlock),i=c(f.getBody(),t,n),o=d.getParent(i,d.isBlock),!n||!i)return e;if(o&&r!=o)if(t){if(!l(r,o))return e;1==n.nodeType?"BR"==n.nodeName?e.setStartBefore(n):e.setStartAfter(n):e.setStart(n,n.data.length),1==i.nodeType?e.setEnd(i,0):e.setEndBefore(i)}else{if(!l(o,r))return e;1==i.nodeType?"BR"==i.nodeName?e.setStartBefore(i):e.setStartAfter(i):e.setStart(i,i.data.length),1==n.nodeType?e.setEnd(n,0):e.setEndBefore(n)}return e}(t,e))||void 0}function s(e){var t,i,r;n(e)||(D.each(f.getBody().getElementsByTagName("*"),function(e){"SPAN"==e.tagName&&e.setAttribute("mce-data-marked",1),!e.hasAttribute("data-mce-style")&&e.hasAttribute("style")&&f.dom.setAttrib(e,"style",f.dom.getAttrib(e,"style"))}),(t=new o(function(){})).observe(f.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),f.getDoc().execCommand(e?"ForwardDelete":"Delete",!1,null),i=f.selection.getRng(),r=i.startContainer.parentNode,D.each(t.takeRecords(),function(e){if(d.isChildOf(e.target,f.getBody())){if("style"==e.attributeName){var t=e.target.getAttribute("data-mce-style");t?e.target.setAttribute("style",t):e.target.removeAttribute("style")}D.each(e.addedNodes,function(e){var t,n;"SPAN"!=e.nodeName||e.getAttribute("mce-data-marked")||(e==r&&(t=i.startOffset,n=e.firstChild),d.remove(e,!0),n&&(i.setStart(n,t),i.setEnd(n,t),f.selection.setRng(i)))})}}),t.disconnect(),D.each(f.dom.select("span[mce-data-marked]"),function(e){e.removeAttribute("mce-data-marked")}))}var e,i,r=f.getDoc(),d=f.dom,u=f.selection,o=window.MutationObserver;o||(e=!0,o=function(){function t(e){var t=e.relatedNode||e.target;r.push({target:t,addedNodes:[t]})}function n(e){var t=e.relatedNode||e.target;r.push({target:t,attributeName:e.attrName})}var i,r=[];this.observe=function(e){(i=e).addEventListener("DOMSubtreeModified",t,!1),i.addEventListener("DOMNodeInsertedIntoDocument",t,!1),i.addEventListener("DOMNodeInserted",t,!1),i.addEventListener("DOMAttrModified",n,!1)},this.disconnect=function(){i.removeEventListener("DOMSubtreeModified",t,!1),i.removeEventListener("DOMNodeInsertedIntoDocument",t,!1),i.removeEventListener("DOMNodeInserted",t,!1),i.removeEventListener("DOMAttrModified",n,!1)},this.takeRecords=function(){return r}}),f.on("keydown",function(e){var t=e.keyCode==b,n=e.ctrlKey||e.metaKey;if(!h(e)&&(t||e.keyCode==y)){var i=f.selection.getRng(),r=i.startContainer,o=i.startOffset;if(!n&&i.collapsed&&3==r.nodeType&&(t?o<r.data.length:0<o))return;e.preventDefault(),n&&f.selection.getSel().modify("extend",t?"forward":"backward",e.metaKey?"lineboundary":"word"),s(t)}}),f.on("keypress",function(e){var t,n,i,r,o,a;h(e)||u.isCollapsed()||!e.charCode||k.metaKeyPressed(e)||(t=f.selection.getRng(),a=String.fromCharCode(e.charCode),e.preventDefault(),n=v(t.startContainer).parents().filter(function(e,t){return!!f.schema.getTextInlineElements()[t.nodeName]}),s(!0),(n=n.filter(function(e,t){return!v.contains(f.getBody(),t)})).length?(i=d.createFragment(),n.each(function(e,t){t=t.cloneNode(!1),i.hasChildNodes()?t.appendChild(i.firstChild):o=t,i.appendChild(t),i.appendChild(t)}),o.appendChild(f.getDoc().createTextNode(a)),r=d.getParent(t.startContainer,d.isBlock),d.isEmpty(r)?v(r).empty().append(i):t.insertNode(i),t.setStart(o.firstChild,1),t.setEnd(o.firstChild,1),f.selection.setRng(t)):f.selection.setContent(a))}),f.addCommand("Delete",function(){s()}),f.addCommand("ForwardDelete",function(){s(!0)}),e||(f.on("dragstart",function(e){i=u.getRng(),p(e)}),f.on("drop",function(t){if(!h(t)){var n=m(t);n&&(t.preventDefault(),window.setTimeout(function(){var e=S.getCaretRangeFromPoint(t.x,t.y,r);i&&(u.setRng(i),i=null),s(),u.setRng(e),g(n)},0))}}),f.on("cut",function(e){!h(e)&&e.clipboardData&&(e.preventDefault(),e.clipboardData.clearData(),e.clipboardData.setData("text/html",f.selection.getContent()),e.clipboardData.setData("text/plain",f.selection.getContent({format:"text"})),s(!0))}))}(),f.settings.content_editable||(c.bind(f.getDoc(),"focusin",function(){l.setRng(l.getRng())}),c.bind(f.getDoc(),"mousedown mouseup",function(e){e.target==f.getDoc().documentElement&&(f.getBody().focus(),"mousedown"==e.type?l.placeCaretAt(e.clientX,e.clientY):l.setRng(l.getRng()))})),f.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&(e.preventDefault(),l.getSel().setBaseAndExtent(t,0,t,1),f.nodeChanged()),"A"==t.nodeName&&c.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),l.select(t))}),d.forced_root_block&&f.on("init",function(){e("DefaultParagraphSeparator",d.forced_root_block)}),f.on("init",function(){f.dom.bind(f.getBody(),"submit",function(e){e.preventDefault()})}),r(),u.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"==e[t].attr("class")&&e[t].remove()}),f.on("touchstart",function(e){var i,r,o,t;i=e.target,r=(new Date).getTime(),!(t=e.changedTouches)||1<t.length||(o=t[0],f.once("touchend",function(e){var t,n=e.changedTouches[0];500<(new Date).getTime()-r||5<Math.abs(o.clientX-n.clientX)||5<Math.abs(o.clientY-n.clientY)||(t={target:i},s("pageX pageY clientX clientY screenX screenY".split(" "),function(e){t[e]=n[e]}),(t=f.fire("click",t)).isDefaultPrevented()||(f.selection.placeCaretAt(n.clientX,n.clientY),f.nodeChanged()))}))}),B.iOS?(f.inline||f.on("keydown",function(){document.activeElement==document.body&&f.getWin().focus()}),o(),f.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),f.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):n()),w&&B.ie<11&&(i(),document.body.setAttribute("role","application"),7<t()||(e("RespectVisibilityInDesign",!0),f.contentStyles.push(".mceHideBrInPre pre br {display: none}"),c.addClass(f.getBody(),"mceHideBrInPre"),u.addNodeFilter("pre",function(e){for(var t,n,i,r,o=e.length;o--;)for(n=(t=e[o].getAll("br")).length;n--;)(r=(i=t[n]).prev)&&3===r.type&&"\n"!=r.value.charAt(r.value-1)?r.value+="\n":i.parent.insert(new R("#text",3),i,!0).value="\n"}),C.addNodeFilter("pre",function(e){for(var t,n,i,r=e.length;r--;)for(n=(t=e[r].getAll("br")).length;n--;)(i=t[n].prev)&&3==i.type&&(i.value=i.value.replace(/\r?\n$/,""))})),c.bind(f.getBody(),"mouseup",function(){var e,t=l.getNode();"IMG"==t.nodeName&&((e=c.getStyle(t,"width"))&&(c.setAttrib(t,"width",e.replace(/[^0-9%]+/g,"")),c.setStyle(t,"width","")),(e=c.getStyle(t,"height"))&&(c.setAttrib(t,"height",e.replace(/[^0-9%]+/g,"")),c.setStyle(t,"height","")))}),f.on("keydown",function(e){var t;h(e)||e.keyCode!=y||(t=f.getDoc().selection.createRange())&&t.item&&(e.preventDefault(),f.undoManager.beforeChange(),c.remove(t.item(0)),f.undoManager.add())}),10<=t()&&(a="",s("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,t){a+=(0<t?",":"")+e+":empty"}),f.contentStyles.push(a+"{padding-right: 1px !important}")),t()<9&&(u.addNodeFilter("noscript",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).firstChild)&&t.attr("data-mce-innertext",n.value)}),C.addNodeFilter("noscript",function(e){for(var t,n,i,r=e.length;r--;)t=e[r],(n=e[r].firstChild)?n.value=A.decode(n.value):(i=t.attributes.map["data-mce-innertext"])&&(t.attr("data-mce-innertext",null),(n=new R("#text",3)).value=i,n.raw=!0,t.append(n))})),function(){function n(e,t){var n=l.createTextRange();try{n.moveToPoint(e,t)}catch(e){n=null}return n}function t(e){var t;e.button?(t=n(e.x,e.y))&&(0<t.compareEndPoints("StartToStart",o)?t.setEndPoint("StartToStart",o):t.setEndPoint("EndToEnd",o),t.select()):i()}function i(){var e=s.selection.createRange();o&&!e.item&&0===e.compareEndPoints("StartToEnd",e)&&o.select(),c.unbind(s,"mouseup",i),c.unbind(s,"mousemove",t),o=r=0}var r,o,a,s=c.doc,l=s.body;s.documentElement.unselectable=!0,c.bind(s,"mousedown contextmenu",function(e){if("HTML"===e.target.nodeName){if(r&&i(),(a=s.documentElement).scrollHeight>a.clientHeight)return;r=1,(o=n(e.x,e.y))&&(c.bind(s,"mouseup",i),c.bind(s,"mousemove",t),c.getRoot().focus(),o.select())}})}()),11<=B.ie&&(o(),f.inline||f.on("focus blur beforegetcontent",function(){var e=f.dom.create("br");f.getBody().appendChild(e),e.parentNode.removeChild(e)},!0),r()),B.ie&&(n(),e("AutoUrlDetect",!1),f.on("dragstart",function(e){p(e)}),f.on("drop",function(e){if(!h(e)){var t=m(e);if(t){e.preventDefault();var n=S.getCaretRangeFromPoint(e.x,e.y,f.getDoc());l.setRng(n),g(t)}}})),x&&(i(),window.Range.prototype.getClientRects||f.on("mousedown",function(e){if(!h(e)&&"HTML"===e.target.nodeName){var t=f.getBody();t.blur(),setTimeout(function(){t.focus()},0)}}),function(){function n(){var e=c.getAttribs(l.getStart().cloneNode(!1));return function(){var t=l.getStart();t!==f.getBody()&&(c.setAttrib(t,"style",null),s(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function i(){return!l.isCollapsed()&&c.getParent(l.getStart(),c.isBlock)!=c.getParent(l.getEnd(),c.isBlock)}f.on("keypress",function(e){var t;return h(e)||8!=e.keyCode&&46!=e.keyCode||!i()?void 0:(t=n(),f.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1)}),c.bind(f.getDoc(),"cut",function(e){var t;!h(e)&&i()&&(t=n(),setTimeout(function(){t()},0))})}(),d.readonly||f.on("BeforeExecCommand MouseDown",function(){f._refreshContentEditable(),e("StyleWithCSS",!1),e("enableInlineTableEditing",!1),d.object_resizing||e("enableObjectResizing",!1)}),f.on("SetContent ExecCommand",function(e){("setcontent"==e.type||"mceInsertLink"===e.command)&&s(c.select("a"),function(e){var t=e.parentNode,n=c.getRoot();if(t.lastChild===e){for(;t&&!c.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}c.add(t,"br",{"data-mce-bogus":1})}})}),f.on("Undo Redo SetContent",function(e){e.initial||f.execCommand("mceRepaint")}),f.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),B.mac&&f.on("keydown",function(e){!k.metaKeyPressed(e)||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),f.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))}),r())}}),e(re,[z],function(i){function r(n){return n._eventDispatcher||(n._eventDispatcher=new i({scope:n,toggleEvent:function(e,t){i.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}return{fire:function(e,t,n){if(this.removed&&"remove"!==e)return t;if(t=r(this).fire(e,t,n),!1!==n&&this.parent)for(var i=this.parent();i&&!t.isPropagationStopped();)i.fire(e,t,!1),i=i.parent();return t},on:function(e,t,n){return r(this).on(e,t,n)},off:function(e,t){return r(this).off(e,t)},once:function(e,t){return r(this).once(e,t)},hasEventListeners:function(e){return r(this).has(e)}}}),e(oe,[re,p,r],function(e,t,n){function i(e,t){return"selectionchange"==t?e.getDoc():!e.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=l.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()}function r(o,a){var e,t=i(o,a);if(o.delegates||(o.delegates={}),!o.delegates[a])if(o.settings.event_root){if(s||(s={},o.editorManager.on("removeEditor",function(){var e;if(!o.editorManager.activeEditor&&s){for(e in s)o.dom.unbind(i(o,e));s=null}})),s[a])return;e=function(e){for(var t=e.target,n=o.editorManager.editors,i=n.length;i--;){var r=n[i].getBody();(r===t||l.isChildOf(t,r))&&(n[i].hidden||n[i].fire(a,e))}},s[a]=e,l.bind(t,a,e)}else e=function(e){o.hidden||o.fire(a,e)},l.bind(t,a,e),o.delegates[a]=e}var s,l=t.DOM,o={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){r(t,e)})},toggleNativeEvent:function(e,t){var n=this;n.settings.readonly||"focus"!=e&&"blur"!=e&&(t?n.initialized?r(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(i(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this;if(t.delegates){for(e in t.delegates)t.dom.unbind(i(t,e),e,t.delegates[e]);delete t.delegates}t.inline||(t.getBody().onload=null,t.dom.unbind(t.getWin()),t.dom.unbind(t.getDoc())),t.dom.unbind(t.getBody()),t.dom.unbind(t.getContainer())}};return n.extend({},e,o)}),e(ae,[r,i],function(l,c){var d=l.each,u=l.explode,f={f9:120,f10:121,f11:122},h=l.makeMap("alt,ctrl,shift,meta,access");return function(s){function o(e,t,n,i){var r,o,a;for(o in a={func:n,scope:i||s,desc:s.translate(t)},d(u(e,"+"),function(e){e in h?a[e]=!0:/^[0-9]{2,}$/.test(e)?a.keyCode=parseInt(e,10):(a.charCode=e.charCodeAt(0),a.keyCode=f[e]||e.toUpperCase().charCodeAt(0))}),r=[a.keyCode],h)a[o]?r.push(o):a[o]=!1;return a.id=r.join(","),a.access&&(a.alt=!0,c.mac?a.ctrl=!0:a.shift=!0),a.meta&&(c.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a}var a={};s.on("keyup keypress keydown",function(t){(t.altKey||t.ctrlKey||t.metaKey)&&!t.isDefaultPrevented()&&d(a,function(e){return e.ctrl==t.ctrlKey&&e.meta==t.metaKey&&e.alt==t.altKey&&e.shift==t.shiftKey&&(t.keyCode==e.keyCode||t.charCode&&t.charCode==e.charCode)?(t.preventDefault(),"keydown"==t.type&&e.func.call(e.scope),!0):void 0})}),this.add=function(e,n,i,r){var t;return"string"==typeof(t=i)?i=function(){s.execCommand(t,!1,null)}:l.isArray(t)&&(i=function(){s.execCommand(t[0],t[1],t[2])}),d(u(e.toLowerCase()),function(e){var t=o(e,n,i,r);a[t.id]=t}),!0},this.remove=function(e){var t=o(e);return!!a[t.id]&&(delete a[t.id],!0)}}}),e(se,[p,l,g,y,b,N,E,A,L,M,H,P,O,I,m,t,ne,C,w,ie,i,r,oe,ae],function(a,s,l,c,d,u,o,f,h,p,m,g,v,y,b,e,C,x,w,_,E,N,t,k){function n(e,t,n){var i,r,o=this;i=o.documentBaseUrl=n.documentBaseURL,r=n.baseURI,o.settings=t=A({id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:i,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o,ie7_compat:!0},t),l.language=t.language||"en",l.languageLoad=t.language_load,l.baseURL=n.baseURL,o.id=t.id=e,o.isNotDirty=!0,o.plugins={},o.documentBaseURI=new y(t.document_base_url||i,{base_uri:r}),o.baseURI=r,o.contentCSS=[],o.contentStyles=[],o.shortcuts=new k(o),o.loadedCSS={},o.editorCommands=new v(o),t.target&&(o.targetElm=t.target),o.suffix=n.suffix,o.editorManager=n,o.inline=t.inline,t.cache_suffix&&(E.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),n.fire("SetupEditor",o),o.execCallback("setup",o),o.$=s.overrideDefaults(function(){return{context:o.inline?o.getBody():o.getDoc(),element:o.getBody()}})}var S=a.DOM,T=l.ThemeManager,R=l.PluginManager,A=N.extend,B=N.each,D=N.explode,L=N.inArray,M=N.trim,i=N.resolve,H=e.Event,P=E.gecko,O=E.ie;return A(n.prototype={render:function(){var n=this,i=n.settings,e=n.id,r=n.suffix;if(H.domLoaded){if(n.getElement()&&E.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var t=n.getElement().form||S.getParent(e,"form");t&&(n.formElement=t,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(S.insertAfter(S.create("input",{type:"hidden",name:e}),e),n.hasHiddenInput=!0),n.formEventDelegate=function(e){n.fire(e.type,e)},S.bind(t,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||t.submit.nodeType||t.submit.length||t._mceOldSubmit||(t._mceOldSubmit=t.submit,t.submit=function(){return n.editorManager.triggerSave(),n.isNotDirty=!0,t._mceOldSubmit(t)})),n.windowManager=new C(n),"xml"==i.encoding&&n.on("GetContent",function(e){e.save&&(e.content=S.encode(e.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),function(){var e=b.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&e.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!T.urls[i.theme]){var t=i.theme_url;t=t?n.documentBaseURI.toAbsolute(t):"themes/"+i.theme+"/theme"+r+".js",T.load(i.theme,t)}N.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),B(i.external_plugins,function(e,t){R.load(t,e),i.plugins+=" "+t}),B(i.plugins.split(/[ ,]/),function(e){if((e=M(e))&&!R.urls[e])if("-"==e.charAt(0)){e=e.substr(1,e.length);var t=R.dependencies(e);B(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"};e=R.createUrl(t,e),R.load(e.resource,e)})}else R.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"})}),e.loadQueue(function(){n.removed||n.init()})}()}}else S.bind(window,"ready",function e(){S.unbind(window,"ready",e),n.render()})},init:function(){var e,t,n,i,r,o,a,s,l,c,d,u=this,f=u.settings,h=u.getElement(),p=[];if(this.editorManager.i18n.setCode(f.language),u.rtl=this.editorManager.i18n.rtl,u.editorManager.add(u),f.aria_label=f.aria_label||S.getAttrib(h,"aria-label",u.getLang("aria.rich_text_area")),f.theme&&("function"!=typeof f.theme?(f.theme=f.theme.replace(/-/,""),o=T.get(f.theme),u.theme=new o(u,T.urls[f.theme]),u.theme.init&&u.theme.init(u,T.urls[f.theme]||u.documentBaseUrl.replace(/\/$/,""),u.$)):u.theme=f.theme),B(f.plugins.replace(/\-/g,"").split(/[ ,]/),function t(e){var n,i,r=R.get(e);n=R.urls[e]||u.documentBaseUrl.replace(/\/$/,""),e=M(e),r&&-1===L(p,e)&&(B(R.dependencies(e),function(e){t(e)}),i=new r(u,n,u.$),(u.plugins[e]=i).init&&(i.init(u,n),p.push(e)))}),f.render_ui&&u.theme&&(u.orgDisplay=h.style.display,"function"!=typeof f.theme?(e=f.width||h.style.width||h.offsetWidth,t=f.height||h.style.height||h.offsetHeight,n=f.min_height||100,(c=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),c.test(""+t)&&(t=Math.max(parseInt(t,10),n)),r=u.theme.renderUI({targetNode:h,width:e,height:t,deltaWidth:f.delta_width,deltaHeight:f.delta_height}),f.content_editable||(t=(r.iframeHeight||t)+("number"==typeof t?r.deltaHeight||0:""))<n&&(t=n)):((r=f.theme(u,h)).editorContainer.nodeType&&(r.editorContainer=r.editorContainer.id=r.editorContainer.id||u.id+"_parent"),r.iframeContainer.nodeType&&(r.iframeContainer=r.iframeContainer.id=r.iframeContainer.id||u.id+"_iframecontainer"),t=r.iframeHeight||h.offsetHeight),u.editorContainer=r.editorContainer),f.content_css&&B(D(f.content_css),function(e){u.contentCSS.push(u.documentBaseURI.toAbsolute(e))}),f.content_style&&u.contentStyles.push(f.content_style),f.content_editable)return h=i=r=null,u.initContentBody();for(u.iframeHTML=f.doctype+"<html><head>",f.document_base_url!=u.documentBaseUrl&&(u.iframeHTML+='<base href="'+u.documentBaseURI.getURI()+'" />'),!E.caretAfter&&f.ie7_compat&&(u.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),u.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',d=0;d<u.contentCSS.length;d++){var m=u.contentCSS[d];u.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+N._addCacheSuffix(m)+'" />',u.loadedCSS[m]=!0}-1!=(s=f.body_id||"tinymce").indexOf("=")&&(s=(s=u.getParam("body_id","","hash"))[u.id]||s),-1!=(l=f.body_class||"").indexOf("=")&&(l=(l=u.getParam("body_class","","hash"))[u.id]||""),f.content_security_policy&&(u.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+f.content_security_policy+'" />'),u.iframeHTML+='</head><body id="'+s+'" class="mce-content-body '+l+'" data-id="'+u.id+'"><br></body></html>';var g='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+u.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&(a=g);var v=S.create("iframe",{id:u.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:u.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:t,display:"block"}});if(v.onload=function(){v.onload=null,u.fire("load")},S.setAttrib(v,"src",a||'javascript:""'),u.contentAreaContainer=r.iframeContainer,u.iframeElement=v,i=S.add(r.iframeContainer,v),O)try{u.getDoc()}catch(e){i.src=a=g}r.editorContainer&&(S.get(r.editorContainer).style.display=u.orgDisplay,u.hidden=S.isHidden(r.editorContainer)),u.getElement().style.display="none",S.setAttrib(u.id,"aria-hidden",!0),a||u.initContentBody(),h=i=r=null},initContentBody:function(e){var t,n,s=this,i=s.settings,r=s.getElement(),o=s.getDoc();i.inline||(s.getElement().style.visibility=s.orgVisibility),e||i.content_editable||(o.open(),o.write(s.iframeHTML),o.close()),i.content_editable&&(s.on("remove",function(){var e=this.getBody();S.removeClass(e,"mce-content-body"),S.removeClass(e,"mce-edit-focus"),S.setAttrib(e,"contentEditable",null)}),S.addClass(r,"mce-content-body"),s.contentDocument=o=i.content_document||document,s.contentWindow=i.content_window||window,s.bodyElement=r,i.content_document=i.content_window=null,i.root_name=r.nodeName.toLowerCase()),(t=s.getBody()).disabled=!0,i.readonly||(s.inline&&"static"==S.getStyle(t,"position",!0)&&(t.style.position="relative"),t.contentEditable=s.getParam("content_editable_state",!0)),t.disabled=!1,s.schema=new x(i),s.dom=new a(o,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:i.force_hex_style_colors,class_filter:i.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:i.content_editable,schema:s.schema,onSetAttrib:function(e){s.fire("SetAttrib",e)}}),s.parser=new w(i,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r,o=e.length,a=s.dom;o--;)i=(n=e[o]).attr(t),r="data-mce-"+t,n.attributes.map[r]||("style"===t?((i=a.serializeStyle(a.parseStyle(i),n.name)).length||(i=null),n.attr(r,i),n.attr(t,i)):"tabindex"===t?(n.attr(r,i),n.attr(t,null)):n.attr(r,s.convertURL(i,t,n.name)))}),s.parser.addNodeFilter("script",function(e){for(var t,n=e.length;n--;)(t=e[n]).attr("type","mce-"+(t.attr("type")||"no/type"))}),s.parser.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)(t=e[n]).type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t,n=e.length,i=s.schema.getNonEmptyElements();n--;)(t=e[n]).isEmpty(i)&&(t.append(new d("br",1)).shortEnded=!0)}),s.serializer=new u(i,s),s.selection=new f(s.dom,s.getWin(),s.serializer,s),s.formatter=new h(s),s.undoManager=new p(s),s.forceBlocks=new g(s),s.enterKey=new m(s),s._nodeChangeDispatcher=new c(s),s.fire("PreInit"),i.browser_spellcheck||i.gecko_spellcheck||(o.body.spellcheck=!1,S.setAttrib(t,"spellcheck","false")),s.fire("PostRender"),s.quirks=new _(s),i.directionality&&(t.dir=i.directionality),i.nowrap&&(t.style.whiteSpace="nowrap"),i.protect&&s.on("BeforeSetContent",function(t){B(i.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),i.padd_empty_editor&&s.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),0<s.contentStyles.length&&(n="",B(s.contentStyles,function(e){n+=e+"\r\n"}),s.dom.addStyle(n)),B(s.contentCSS,function(e){s.loadedCSS[e]||(s.dom.loadCSS(e),s.loadedCSS[e]=!0)}),i.auto_focus&&setTimeout(function(){var e;(e=!0===i.auto_focus?s:s.editorManager.get(i.auto_focus)).destroyed||e.focus()},100),r=o=t=null},focus:function(e){var t,n,i,r=this.selection,o=this.settings.content_editable,a=this.getDoc();if(!e){if((t=r.getRng()).item&&(n=t.item(0)),this._refreshContentEditable(),o||(E.opera||this.getBody().focus(),this.getWin().focus()),P||o){if((i=this.getBody()).setActive)try{i.setActive()}catch(e){i.focus()}else i.focus();o&&r.normalize()}n&&n.ownerDocument==a&&((t=a.body.createControlRange()).addElement(n),t.select())}this.editorManager.setActive(this)},execCallback:function(e){var t,n=this.settings[e];if(n)return this.callbackLookup&&(t=this.callbackLookup[e])&&(n=t.func,t=t.scope),"string"==typeof n&&(t=(t=n.replace(/\.\w+$/,""))?i(t):0,n=i(n),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:n,scope:t}),n.apply(t||this,Array.prototype.slice.call(arguments,1))},translate:function(e){var n=this.settings.language||"en",i=this.editorManager.i18n;return e?i.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,t){return i.data[n+"."+t]||"{#"+t+"}"}):""},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(t!==ye?t:"{#"+e+"}")},getParam:function(e,t,n){var i,r=e in this.settings?this.settings[e]:t;return"hash"===n?(i={},"string"==typeof r?B(r.split(0<r.indexOf("=")?/[;,](?![^=;,]*(?:[;,]|$))/:","),function(e){1<(e=e.split("=")).length?i[M(e[0])]=M(e[1]):i[M(e[0])]=M(e)}):i=r,i):r},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.text||t.icon||(t.icon=e),n.buttons=n.buttons||{},t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[e]=t},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,i){this.shortcuts.add(e,t,n,i)},execCommand:function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(S.show(this.getContainer()),S.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(O&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e==e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(S.hide(e.getContainer()),S.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this.getElement();return n?((e=e||{}).load=!0,t=this.setContent(n.value!==ye?n.value:n.innerHTML,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t):void 0},save:function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=t:(i.inline||(r.innerHTML=t),(n=S.getParent(i.id,"form"))&&B(n.elements,function(e){return e.name==i.id?(e.value=t,!1):void 0})),e.element=r=null,!1!==e.set_dirty&&(i.isNotDirty=!0),t},setContent:function(e,t){var n,i=this,r=i.getBody();return(t=t||{}).format=t.format||"html",t.set=!0,t.content=e,t.no_events||i.fire("BeforeSetContent",t),0===(e=t.content).length||/^\s+$/.test(e)?((n=i.settings.forced_root_block)&&i.schema.isValidChild(r.nodeName.toLowerCase(),n.toLowerCase())?(e=O&&O<11?"":'<br data-mce-bogus="1">',e=i.dom.createHTML(n,i.settings.forced_root_block_attrs,e)):O||(e='<br data-mce-bogus="1">'),i.dom.setHTML(r,e),i.fire("SetContent",t)):("raw"!==t.format&&(e=new o({},i.schema).serialize(i.parser.parse(e,{isRootContent:!0}))),t.content=M(e),i.dom.setHTML(r,t.content),t.no_events||i.fire("SetContent",t)),t.content},getContent:function(e){var t,n=this.getBody();return(e=e||{}).format=e.format||"html",e.get=!0,e.getInner=!0,e.no_events||this.fire("BeforeGetContent",e),t="raw"==e.format?n.innerHTML:"text"==e.format?n.innerText||n.textContent:this.serializer.serialize(n,e),"text"!=e.format?e.content=M(t):e.content=t,e.no_events||this.fire("GetContent",e),e.content},insertContent:function(e,t){t&&(e=A({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},getContainer:function(){return this.container||(this.container=S.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=S.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(e,t,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"==n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n,i=this,r=i.settings,o=i.dom;e=e||i.getBody(),i.hasVisual===ye&&(i.hasVisual=r.visual),B(o.select("table,a",e),function(e){var t;switch(e.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",void((t=o.getAttrib(e,"border"))&&"0"!=t||!i.hasVisual?o.removeClass(e,n):o.addClass(e,n));case"A":return void(o.getAttrib(e,"href",!1)||(t=o.getAttrib(e,"name")||e.id,n=r.visual_anchor_class||"mce-item-anchor",t&&i.hasVisual?o.addClass(e,n):o.removeClass(e,n)))}}),i.fire("VisualAid",{element:e,hasVisual:i.hasVisual})},remove:function(){var e=this;e.removed||(e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&S.remove(e.getElement().nextSibling),e.inline||(O&&O<10&&e.getDoc().execCommand("SelectAll",!1,null),S.setStyle(e.id,"display",e.orgDisplay),e.getBody().onload=null),e.fire("remove"),e.editorManager.remove(e),S.remove(e.getContainer()),e.destroy())},destroy:function(e){var t,n=this;if(!n.destroyed){if(!e&&!n.removed)return void n.remove();e||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),(t=n.formElement)&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),S.unbind(t,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},_refreshContentEditable:function(){var e,t;this._isHidden()&&((t=(e=this.getBody()).parentNode).removeChild(e),t.appendChild(e),e.focus())},_isHidden:function(){var e;return P?!(e=this.selection.getSel())||!e.rangeCount||0===e.rangeCount:0}},t),n}),e(le,[],function(){var r={},i="en";return{setCode:function(e){e&&(i=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return i},rtl:!1,add:function(e,t){var n=r[e];for(var i in n||(r[e]=n={}),t)n[i]=t[i];this.setCode(e)},translate:function(e){var t;if((t=r[i])||(t={}),void 0===e)return e;if("string"!=typeof e&&e.raw)return e.raw;if(e.push){var n=e.slice(1);e=(t[e[0]]||e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return n[t]})}return(t[e]||e).replace(/{context:\w+}$/,"")},data:r}}),e(ce,[p,i],function(e,t){function r(o){function n(){try{return document.activeElement}catch(e){return document.body}}function i(e){return!!c.getParent(e,r.isEditorUIElement)}o.on("AddEditor",function(e){var r=e.editor;r.on("init",function(){(r.inline||t.ie)&&("onbeforedeactivate"in document&&t.ie<9?r.dom.bind(r.getBody(),"beforedeactivate",function(e){if(e.target==r.getBody())try{r.lastRng=r.selection.getRng()}catch(e){}}):r.on("nodechange mouseup keyup",function(e){var t=n();"nodechange"==e.type&&e.selectionChange||(t&&t.id==r.id+"_ifr"&&(t=r.getBody()),r.dom.isChildOf(t,r.getBody())&&(r.lastRng=r.selection.getRng()))}),t.webkit&&!a&&(a=function(){var e=o.activeEditor;if(e&&e.selection){var t=e.selection.getRng();t&&!t.collapsed&&(r.lastRng=t)}},c.bind(document,"selectionchange",a)))}),r.on("setcontent",function(){r.lastRng=null}),r.on("mousedown",function(){r.selection.lastFocusBookmark=null}),r.on("focusin",function(){var e,t,n,i=o.focusedEditor;r.selection.lastFocusBookmark&&(r.selection.setRng(((t=(e=r).selection.lastFocusBookmark).startContainer?((n=e.getDoc().createRange()).setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset)):n=t,n)),r.selection.lastFocusBookmark=null),i!=r&&(i&&i.fire("blur",{focusedEditor:r}),o.setActive(r),(o.focusedEditor=r).fire("focus",{blurredEditor:i}),r.focus(!0)),r.lastRng=null}),r.on("focusout",function(){window.setTimeout(function(){var e=o.focusedEditor;i(n())||e!=r||(r.fire("blur",{focusedEditor:null}),o.focusedEditor=null,r.selection&&(r.selection.lastFocusBookmark=null))},0)}),s||(s=function(e){var t=o.activeEditor;t&&e.target.ownerDocument==document&&(t.selection&&e.target!=t.getBody()&&(t.selection.lastFocusBookmark=function(e,t){if(t&&t.startContainer){if(!e.isChildOf(t.startContainer,e.getRoot())||!e.isChildOf(t.endContainer,e.getRoot()))return;return{startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset}}return t}(t.dom,t.lastRng)),e.target==document.body||i(e.target)||o.focusedEditor!=t||(t.fire("blur",{focusedEditor:null}),o.focusedEditor=null))},c.bind(document,"focusin",s)),r.inline&&!l&&(l=function(e){var t=o.activeEditor;if(t.inline&&!t.dom.isChildOf(e.target,t.getBody())){var n=t.selection.getRng();n.collapsed||(t.lastRng=n)}},c.bind(document,"mouseup",l))}),o.on("RemoveEditor",function(e){o.focusedEditor==e.editor&&(o.focusedEditor=null),o.activeEditor||(c.unbind(document,"selectionchange",a),c.unbind(document,"focusin",s),c.unbind(document,"mouseup",l),a=s=l=null)})}var a,s,l,c=e.DOM;return r.isEditorUIElement=function(e){return-1!==e.className.toString().indexOf("mce-")},r}),e(de,[se,l,p,I,i,r,re,le,ce],function(d,e,t,s,n,i,r,o,l){function u(e){var t,n=c.editors;delete n[e.id];for(var i=0;i<n.length;i++)if(n[i]==e){n.splice(i,1),t=!0;break}return c.activeEditor==e&&(c.activeEditor=n[0]),c.focusedEditor==e&&(c.focusedEditor=null),t}var a,c,f=t.DOM,h=i.explode,p=i.each,m=i.extend,g=0;return m(c={$:e,majorVersion:"4",minorVersion:"1.10",releaseDate:"2015-05-05",editors:[],i18n:o,activeEditor:null,setup:function(){var e,t,n,i,r="";if(t=document.location.href,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,r=n.suffix;else{for(var o=document.getElementsByTagName("script"),a=0;a<o.length;a++)if(i=o[a].src,/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!=i.indexOf(".min")&&(r=".min"),e=i.substring(0,i.lastIndexOf("/"));break}!e&&document.currentScript&&(-1!=(i=document.currentScript.src).indexOf(".min")&&(r=".min"),e=i.substring(0,i.lastIndexOf("/")))}this.baseURL=new s(t).toAbsolute(e),this.documentBaseURL=t,this.baseURI=new s(this.baseURL),this.suffix=r,this.focusManager=new l(this)},init:function(i){function r(e){var t=e.id;return t||(t=(t=e.name)&&!f.get(t)?e.name:f.uniqueId(),e.setAttribute("id",t)),t}function o(e,t,n){if((r=l.get(e))&&!(r.getContainer()||r.getBody()).parentNode&&(u(r),r.unbindAllNativeEvents(),r.destroy(!0),r=null),!r){var i=new d(e,t,l);i.targetElm=i.targetElm||n,c.push(i),i.render()}var r}function a(e){var t=i[e];if(t)return t.apply(l,Array.prototype.slice.call(arguments,2))}function s(e,t){return t.constructor===RegExp?t.test(e.className):f.hasClass(e,t)}var l=this,c=[];l.settings=i,f.bind(window,"ready",function e(){var t,n;if(f.unbind(window,"ready",e),a("onpageload"),i.types)p(i.types,function(t){p(f.select(t.selector),function(e){o(r(e),m({},i,t),e)})});else if(i.selector)p(f.select(i.selector),function(e){o(r(e),i,e)});else{switch(i.target&&o(r(i.target),i),i.mode){case"exact":0<(t=i.elements||"").length&&p(h(t),function(t){var e;(e=f.get(t))?o(t,i,e):p(document.forms,function(e){p(e.elements,function(e){e.name===t&&(t="mce_editor_"+g++,f.setAttrib(e,"id",t),o(t,i,e))})})});break;case"textareas":case"specific_textareas":p(f.select("textarea"),function(e){i.editor_deselector&&s(e,i.editor_deselector)||(!i.editor_selector||s(e,i.editor_selector))&&o(r(e),i,e)})}i.oninit&&(t=n=0,p(c,function(e){n++,e.initialized?t++:e.on("init",function(){++t==n&&a("oninit")}),t==n&&a("oninit")}))}})},get:function(e){return arguments.length?e in this.editors?this.editors[e]:null:this.editors},add:function(e){var t=this,n=t.editors;return n[e.id]=e,n.push(e),t.activeEditor=e,t.fire("AddEditor",{editor:e}),a||(a=function(){t.fire("BeforeUnload")},f.bind(window,"beforeunload",a)),e},createEditor:function(e,t){return this.add(new d(e,t,this))},remove:function(e){var t,n,i=this,r=i.editors;if(e)return"string"==typeof e?(e=e.selector||e,void p(f.select(e),function(e){(n=r[e.id])&&i.remove(n)})):r[(n=e).id]?(u(n)&&i.fire("RemoveEditor",{editor:n}),r.length||f.unbind(window,"beforeunload",a),n.remove(),n):null;for(t=r.length-1;0<=t;t--)i.remove(r[t])},execCommand:function(e,t,n){var i=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new d(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",0,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){p(this.editors,function(e){e.save()})},addI18n:function(e,t){o.add(e,t)},translate:function(e){return o.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!=e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},r),c.setup(),window.tinymce=window.tinyMCE=c,c}),e(ue,[de,r],function(e,t){var s=t.each,l=t.explode;e.on("AddEditor",function(e){var a=e.editor;a.on("preInit",function(){function n(n,e){s(e,function(e,t){e&&r.setStyle(n,t,e)}),r.rename(n,"span")}var t,i,r,o=a.settings;o.inline_styles&&(i=l(o.font_size_legacy_values),t={font:function(e,t){n(t,{backgroundColor:t.style.backgroundColor,color:t.color,fontFamily:t.face,fontSize:i[parseInt(t.size,10)-1]})},u:function(e,t){"html4"===a.settings.schema&&n(t,{textDecoration:"underline"})},strike:function(e,t){n(t,{textDecoration:"line-through"})}},a.on("PreProcess SetContent",function(e){r=a.dom,o.convert_fonts_to_spans&&s(r.select("font,u,strike",e.node),function(e){t[e.nodeName.toLowerCase()](r,e)})}))})})}),e(fe,[re,r],function(e,t){var r={send:function(e){function t(){!e.async||4==n.readyState||1e4<i++?(e.success&&i<1e4&&200==n.status?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,1e4<i?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(t,10)}var n,i=0;if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",n=new XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=r.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return t();setTimeout(t,10)}}};return t.extend(r,e),r}),e(he,[],function(){return{serialize:function e(t,n){var i,r,o,a;if(n=n||'"',null===t)return"null";if("string"==(o=typeof t))return r="\bb\tt\nn\ff\rr\"\"''\\\\",n+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,t){return'"'===n&&"'"===e?e:(i=r.indexOf(t))+1?"\\"+r.charAt(i+1):(e=t.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e)})+n;if("object"==o){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(i=0,r="[";i<t.length;i++)r+=(0<i?",":"")+e(t[i],n);return r+"]"}for(a in r="{",t)t.hasOwnProperty(a)&&(r+="function"!=typeof t[a]?(1<r.length?","+n:n)+a+n+":"+e(t[a],n):"");return r+"}"}return""+t},parse:function(e){try{return window[String.fromCharCode(101)+"val"]("("+e+")")}catch(e){}}}}),e(pe,[he,fe,r],function(o,e,t){function n(e){this.settings=a({},e),this.count=0}var a=t.extend;return n.sendRPC=function(e){return(new n).send(e)},n.prototype={send:function(n){var i=n.error,r=n.success;(n=a(this.settings,n)).success=function(e,t){void 0===(e=o.parse(e))&&(e={error:"JSON Parse error."}),e.error?i.call(n.error_scope||n.scope,e.error,t):r.call(n.success_scope||n.scope,e.result)},n.error=function(e,t){i&&i.call(n.error_scope||n.scope,e,t)},n.data=o.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},n}),e(me,[p],function(e){return{callbacks:{},count:0,send:function(t){var n=this,i=e.DOM,r=t.count!==ye?t.count:n.count,o="tinymce_jsonp_"+r;n.callbacks[r]=function(e){i.remove(o),delete n.callbacks[r],t.callback(e)},i.add(i.doc.body,"script",{id:o,src:t.url,type:"text/javascript"}),n.count++}}}),e(ge,[],function(){function a(){for(var e in i=[],l)i.push(e);t.length=i.length}function n(){var e,t="";if(d){for(var n in l)e=l[n],t+=(t?",":"")+n.length.toString(32)+","+n+","+e.length.toString(32)+","+e;s.setAttribute(c,t);try{s.save(c)}catch(e){}a()}}var t,s,l,i,c,d;try{if(window.localStorage)return localStorage}catch(e){}return c="tinymce",s=document.documentElement,(d=!!s.addBehavior)&&s.addBehavior("#default#userData"),t={key:function(e){return i[e]},getItem:function(e){return e in l?l[e]:null},setItem:function(e,t){l[e]=""+t,n()},removeItem:function(e){delete l[e],n()},clear:function(){l={},n()}},function(){function e(e){var t,n;return-1===(n=e!==ye?r+e:i.indexOf(",",r))||n>i.length?null:(t=i.substring(r,n),r=n+1,t)}var t,i,n,r=0;if(l={},d){s.load(c),i=s.getAttribute(c)||"";do{var o=e();if(null===o)break;if(null!==(t=e(parseInt(o,32)||0))){if(null===(o=e()))break;n=e(parseInt(o,32)||0),t&&(l[t]=n)}}while(null!==t);a()}}(),t}),e(ve,[p,t,m,g,r,i],function(e,t,n,i,r,o){var a=window.tinymce;return a.DOM=e.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=t.Event,r.each(r,function(e,t){a[t]=e}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(e){a[e]=o[e.substr(2).toLowerCase()]}),{}}),e(be,[F,r],function(e,t){return e.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=t.extend({},this.Defaults,e)},preRender:function(e){e.addClass(this.settings.containerClass,"body")},applyClasses:function(e){var t,n,i,r=this.settings;t=e.items().filter(":visible"),n=r.firstControlClass,i=r.lastControlClass,t.each(function(e){e.removeClass(n).removeClass(i),r.controlClass&&e.addClass(r.controlClass)}),t.eq(0).addClass(n),t.eq(-1).addClass(i)},renderHtml:function(e){var t,n=this.settings,i="";return(t=e.items()).eq(0).addClass(n.firstControlClass),t.eq(-1).addClass(n.lastControlClass),t.each(function(e){n.controlClass&&e.addClass(n.controlClass),i+=e.renderHtml()}),i},recalc:function(){},postRender:function(){}})}),e(Ce,[be],function(e){return e.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}})}),e(xe,[$,J],function(e,t){return e.extend({Mixins:[t],Defaults:{classes:"widget tooltip tooltip-n"},text:function(e){return void 0!==e?(this._value=e,this._rendered&&(this.getEl().lastChild.innerHTML=this.encode(e)),this):this._value},renderHtml:function(){var e=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes()+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+this.encode(this._text)+"</div></div>"},repaint:function(){var e,t;e=this.getEl().style,t=this._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}})}),e(we,[$,xe],function(e,t){var n,o=e.extend({init:function(i){var r=this;r._super(i),i=r.settings,r.canFocus=!0,i.tooltip&&!1!==o.tooltips&&(r.on("mouseenter",function(e){var t=r.tooltip().moveTo(-65535);if(e.control==r){var n=t.text(i.tooltip).show().testMoveRel(r.getEl(),["bc-tc","bc-tl","bc-tr"]);t.toggleClass("tooltip-n","bc-tc"==n),t.toggleClass("tooltip-nw","bc-tl"==n),t.toggleClass("tooltip-ne","bc-tr"==n),t.moveRel(r.getEl(),n)}else t.hide()}),r.on("mouseleave mousedown click",function(){r.tooltip().hide()})),r.aria("label",i.ariaLabel||i.tooltip)},tooltip:function(){return n||(n=new t({type:"tooltip"})).renderTo(),n},active:function(e){return void 0!==e&&(this.aria("pressed",e),this.toggleClass("active",e)),this._super(e)},disabled:function(e){return void 0!==e&&(this.aria("disabled",e),this.toggleClass("disabled",e)),this._super(e)},postRender:function(){var e=this.settings;this._rendered=!0,this._super(),this.parent()||!e.width&&!e.height||(this.initLayoutRect(),this.repaint()),e.autofocus&&this.focus()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return o}),e(_e,[we],function(e){return e.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t;this.on("click mousedown",function(e){e.preventDefault()}),this._super(e),t=e.size,e.subtype&&this.addClass(e.subtype),t&&this.addClass("btn-"+t)},icon:function(e){var t=this.classPrefix;if(void 0===e)return this.settings.icon;if(e=(this.settings.icon=e)?t+"ico "+t+"i-"+this.settings.icon:"",this._rendered){var n=this.getEl().firstChild,i=n.getElementsByTagName("i")[0];e?(i&&i==n.firstChild||(i=document.createElement("i"),n.insertBefore(i,n.firstChild)),i.className=e):i&&n.removeChild(i),this.text(this._text)}return this},repaint:function(){var e=this.getEl().firstChild.style;e.width=e.height="100%",this._super()},text:function(e){if(this._rendered){var t=this.getEl().lastChild.lastChild;t&&(t.data=this.translate(e))}return this._super(e)},renderHtml:function(){var e,t=this._id,n=this.classPrefix,i=this.settings.icon;return(e=this.settings.image)?(i="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",i=this.settings.icon?n+"ico "+n+"i-"+i:"",'<div id="'+t+'" class="'+this.classes()+'" tabindex="-1" aria-labelledby="'+t+'"><button role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+e+"></i>":"")+(this._text?(i?" ":"")+this.encode(this._text):"")+"</button></div>"}})}),e(Ee,[K],function(e){return e.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this._layout;return this.addClass("btn-group"),this.preRender(),e.preRender(this),'<div id="'+this._id+'" class="'+this.classes()+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+e.renderHtml(this)+"</div></div>"}})}),e(Ne,[we],function(e){return e.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return void 0!==e?(e?this.addClass("checked"):this.removeClass("checked"),this._checked=e,this.aria("checked",e),this):this._checked},value:function(e){return this.checked(e)},renderHtml:function(){var e=this._id,t=this.classPrefix;return'<div id="'+e+'" class="'+this.classes()+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+t+"ico "+t+'i-checkbox"></i><span id="'+e+'-al" class="'+t+'label">'+this.encode(this._text)+"</span></div>"}})}),e(ke,[we,q,U],function(e,i,a){return e.extend({init:function(i){var r=this;r._super(i),r.addClass("combobox"),r.subinput=!0,r.ariaTarget="inp",(i=r.settings).menu=i.menu||i.values,i.menu&&(i.icon="caret"),r.on("click",function(e){for(var t=e.target,n=r.getEl();t&&t!=n;)t.id&&-1!=t.id.indexOf("-open")&&(r.fire("action"),i.menu&&(r.showMenu(),e.aria&&r.menu.items()[0].focus())),t=t.parentNode}),r.on("keydown",function(t){"INPUT"==t.target.nodeName&&13==t.keyCode&&r.parents().reverse().each(function(e){return t.preventDefault(),r.fire("change"),e.hasEventListeners("submit")&&e.toJSON?(e.fire("submit",{data:e.toJSON()}),!1):void 0})}),i.placeholder&&(r.addClass("placeholder"),r.on("focusin",function(){r._hasOnChange||(a.on(r.getEl("inp"),"change",function(){r.fire("change")}),r._hasOnChange=!0),r.hasClass("placeholder")&&(r.getEl("inp").value="",r.removeClass("placeholder"))}),r.on("focusout",function(){0===r.value().length&&(r.getEl("inp").value=i.placeholder,r.addClass("placeholder"))}))},showMenu:function(){var e,t=this,n=t.settings;t.menu||((e=n.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=i.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()==t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"==e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},value:function(e){return void 0!==e?(this._value=e,this.removeClass("placeholder"),this._rendered&&(this.getEl("inp").value=e),this):this._rendered?(e=this.getEl("inp").value)!=this.settings.placeholder?e:"":this._value},disabled:function(e){return this._rendered&&void 0!==e&&(this.getEl("inp").disabled=e),this._super(e)},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this.getEl(),i=this.getEl("open"),r=this.layoutRect();e=i?r.w-a.getSize(i).width-10:r.w-10;var o=document;return o.all&&(!o.documentMode||o.documentMode<=8)&&(t=this.layoutRect().h-2+"px"),a.css(n.firstChild,{width:e,lineHeight:t}),this._super(),this},postRender:function(){var e=this;return a.on(this.getEl("inp"),"change",function(){e.fire("change")}),e._super()},remove:function(){a.off(this.getEl("inp")),this._super()},renderHtml:function(){var e,t,n=this._id,i=this.settings,r=this.classPrefix,o=i.value||i.placeholder||"",a="",s="";return"spellcheck"in i&&(s+=' spellcheck="'+i.spellcheck+'"'),i.maxLength&&(s+=' maxlength="'+i.maxLength+'"'),i.size&&(s+=' size="'+i.size+'"'),i.subtype&&(s+=' type="'+i.subtype+'"'),this.disabled()&&(s+=' disabled="disabled"'),(e=i.icon)&&"caret"!=e&&(e=r+"ico "+r+"i-"+i.icon),t=this._text,(e||t)&&(a='<div id="'+n+'-open" class="'+r+"btn "+r+'open" tabIndex="-1" role="button"><button id="'+n+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=e?'<i class="'+e+'"></i>':'<i class="'+r+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",this.addClass("has-open")),'<div id="'+n+'" class="'+this.classes()+'"><input id="'+n+'-inp" class="'+r+"textbox "+r+'placeholder" value="'+o+'" hidefocus="1"'+s+" />"+a+"</div>"}})}),e(Se,[ke],function(e){return e.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.addClass("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl().getElementsByTagName("i")[0];if(t)try{t.style.background=e}catch(e){}},value:function(e){return void 0!==e&&this._rendered&&this.repaintColor(e),this._super(e)}})}),e(Te,[_e,Z],function(e,i){return e.extend({showPanel:function(){var t=this,e=t.settings;if(t.active(!0),t.panel)t.panel.show();else{var n=e.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new i(n).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}t.panel.moveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),e(Re,[Te,p],function(e,t){var i=t.DOM;return e.extend({init:function(e){this._super(e),this.addClass("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this._id,t=this.classPrefix,n=this.settings.icon?t+"ico "+t+"i-"+this.settings.icon:"",i=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"";return'<div id="'+e+'" class="'+this.classes()+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(n?'<i class="'+n+'"'+i+"></i>":"")+'<span id="'+e+'-preview" class="'+t+'preview"></span>'+(this._text?(n?" ":"")+this._text:"")+'</button><button type="button" class="'+t+'open" hidefocus="1" tabindex="-1"> <i class="'+t+'caret"></i></button></div>'},postRender:function(){var t=this,n=t.settings.onclick;return t.on("click",function(e){e.aria&&"down"==e.aria.key||e.control!=t||i.getParent(e.target,"."+t.classPrefix+"open")||(e.stopImmediatePropagation(),n.call(t,e))}),delete t.settings.onclick,t._super()}})}),e(Ae,[],function(){var d=Math.min,u=Math.max,f=Math.round;return function(e){function t(e){var t;return"object"==typeof e?"r"in e?(s=e.r,l=e.g,c=e.b):"v"in e&&function(e,t,n){var i,r,o,a;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=u(0,d(t,1)),n=u(0,d(n,1)),0!==t){switch(i=e/60,o=(r=n*t)*(1-Math.abs(i%2-1)),a=n-r,Math.floor(i)){case 0:s=r,l=o,c=0;break;case 1:s=o,l=r,c=0;break;case 2:s=0,l=r,c=o;break;case 3:s=0,l=o,c=r;break;case 4:s=o,l=0,c=r;break;case 5:s=r,l=0,c=o;break;default:s=l=c=0}s=f(255*(s+a)),l=f(255*(l+a)),c=f(255*(c+a))}else s=l=c=f(255*n)}(e.h,e.s,e.v):(t=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(s=parseInt(t[1],10),l=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(s=parseInt(t[1],16),l=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(s=parseInt(t[1]+t[1],16),l=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),s=s<0?0:255<s?255:s,l=l<0?0:255<l?255:l,c=c<0?0:255<c?255:c,n}var n=this,s=0,l=0,c=0;e&&t(e),n.toRgb=function(){return{r:s,g:l,b:c}},n.toHsv=function(){return e=s,t=l,n=c,r=i=0,(o=d(e/=255,d(t/=255,n/=255)))==(a=u(e,u(t,n)))?{h:0,s:0,v:100*(r=o)}:(i=(a-o)/a,{h:f(60*((e==o?3:n==o?1:5)-(e==o?t-n:n==o?e-t:n-e)/((r=a)-o))),s:f(100*i),v:f(100*r)});var e,t,n,i,r,o,a},n.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(s)+e(l)+e(c)},n.parse=t}}),e(Be,[we,Y,U,Ae],function(e,u,f,h){return e.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function n(e,t){var n,i,r=f.getPos(e);return n=t.pageX-r.x,i=t.pageY-r.y,{x:n=Math.max(0,Math.min(n/e.clientWidth,1)),y:i=Math.max(0,Math.min(i/e.clientHeight,1))}}function i(e,t){var n=(360-e.h)/360;f.css(a,{top:100*n+"%"}),t||f.css(l,{left:e.s+"%",top:100-e.v+"%"}),s.style.background=new h({s:100,v:100,h:e.h}).toHex(),c.color().parse({s:e.s,v:e.v,h:e.h})}function e(e){var t;t=n(s,e),r.s=100*t.x,r.v=100*(1-t.y),i(r),c.fire("change")}function t(e){var t;t=n(o,e),(r=d.toHsv()).h=360*(1-t.y),i(r,!0),c.fire("change")}var r,o,a,s,l,c=this,d=c.color();o=c.getEl("h"),a=c.getEl("hp"),s=c.getEl("sv"),l=c.getEl("svp"),c._repaint=function(){i(r=d.toHsv())},c._super(),c._svdraghelper=new u(c._id+"-sv",{start:e,drag:e}),c._hdraghelper=new u(c._id+"-h",{start:t,drag:t}),c._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){return arguments.length?(this.color().parse(e),void(this._rendered&&this._repaint())):this.color().toHex()},color:function(){return this._color||(this._color=new h),this._color},renderHtml:function(){var e,t=this._id,o=this.classPrefix,a="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return e='<div id="'+t+'-h" class="'+o+'colorpicker-h" style="'+("background: -ms-linear-gradient(top,"+a+");background: linear-gradient(to bottom,"+a+");")+'">'+function(){var e,t,n,i,r="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",e=0,t=(i=a.split(",")).length-1;e<t;e++)r+='<div class="'+o+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+i[e]+",endColorstr="+i[e+1]+");-ms-"+n+i[e]+",endColorstr="+i[e+1]+')"></div>';return r}()+'<div id="'+t+'-hp" class="'+o+'colorpicker-h-marker"></div></div>','<div id="'+t+'" class="'+this.classes()+'"><div id="'+t+'-sv" class="'+o+'colorpicker-sv"><div class="'+o+'colorpicker-overlay1"><div class="'+o+'colorpicker-overlay2"><div id="'+t+'-svp" class="'+o+'colorpicker-selector1"><div class="'+o+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),e(De,[we],function(e){return e.extend({init:function(e){var n=this;e.delimiter||(e.delimiter="»"),n._super(e),n.addClass("path"),n.canFocus=!0,n.on("click",function(e){var t;(t=e.target.getAttribute("data-index"))&&n.fire("select",{value:n.data()[t],index:t})})},focus:function(){return this.getEl().firstChild.focus(),this},data:function(e){return void 0!==e?(this._data=e,this.update(),this):this._data},update:function(){this.innerHtml(this._getPathHtml())},postRender:function(){this._super(),this.data(this.settings.data)},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes()+'">'+this._getPathHtml()+"</div>"},_getPathHtml:function(){var e,t,n=this._data||[],i="",r=this.classPrefix;for(e=0,t=n.length;e<t;e++)i+=(0<e?'<div class="'+r+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+r+"path-item"+(e==t-1?" "+r+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+this._id+"-"+e+'" aria-level="'+e+'">'+n[e].name+"</div>";return i||(i='<div class="'+r+'path-item"> </div>'),i}})}),e(Le,[De,de],function(e,t){return e.extend({postRender:function(){function o(e){if(1===e.nodeType){if("BR"==e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var a=this,s=t.activeEditor;return!1!==s.settings.elementpath&&(a.on("select",function(e){s.focus(),s.selection.select(this.data()[e.index].element),s.nodeChanged()}),s.on("nodeChange",function(e){for(var t=[],n=e.parents,i=n.length;i--;)if(1==n[i].nodeType&&!o(n[i])){var r=s.fire("ResolveName",{name:n[i].nodeName.toLowerCase(),target:n[i]});if(r.isDefaultPrevented()||t.push({name:r.name,element:n[i]}),r.isPropagationStopped())break}a.data(t)})),a._super()}})}),e(Me,[K],function(e){return e.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.addClass("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}})}),e(He,[K,Me,r],function(e,r,o){return e.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var i=this,e=i.items();i.settings.formItemDefaults||(i.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each(function(e){var t,n=e.settings.label;n&&((t=new r(o.extend({items:{type:"label",id:e._id+"-l",text:n,flex:0,forId:e._id,disabled:e.disabled()}},i.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),void 0===e.settings.flex&&(e.settings.flex=1),i.replace(e,t),t.add(e))})},recalcLabels:function(){var e,t,i=0,r=[];if(!1!==this.settings.labelGapCalc)for(("children"==this.settings.labelGapCalc?this.find("formitem"):this.items()).filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;i=i<n?n:i,r.push(t)}),t=this.settings.labelGap||0,e=r.length;e--;)r[e].settings.minWidth=i+t},visible:function(e){var t=this._super(e);return!0===e&&this._rendered&&this.recalcLabels(),t},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.recalcLabels(),this.fromJSON(this.settings.data)}})}),e(Pe,[He],function(e){return e.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes()+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.classes("body")+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}})}),e(Oe,[ke,r],function(e,s){return e.extend({init:function(t){var e,n,i,r=this,o=tinymce.activeEditor,a=o.settings;t.spellcheck=!1,(i=a.file_picker_types||a.file_browser_callback_types)&&(i=s.makeMap(i,/[, ]/)),(!i||i[t.filetype])&&(!(n=a.file_picker_callback)||i&&!i[t.filetype]?!(n=a.file_browser_callback)||i&&!i[t.filetype]||(e=function(){n(r.getEl("inp").id,r.value(),t.filetype,window)}):e=function(){var e=r.fire("beforecall").meta;e=s.extend({filetype:t.filetype},e),n.call(o,function(e,t){r.value(e).fire("change",{meta:t})},r.value(),e)}),e&&(t.icon="browse",t.onaction=e),r._super(t)}})}),e(Ie,[Ce],function(e){return e.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox();e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}})}),e(Fe,[Ce],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,d,u,f,h,p,m,g,v,y,b,C,x,w,_,E,N,k,S,T,R,A,B,D,L,M,H,P,O,I=[],F=Math.max,z=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e._paddingBox,a=e.settings,f=e.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=e.isRtl()?a.pack||"end":a.pack,c=a.spacing||0,("row-reversed"==f||"column-reverse"==f)&&(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"==f?(E="y",w="h",_="minH",N="maxH",S="innerH",k="top",T="deltaH",R="contentH",M="left",D="w",A="x",B="innerW",L="minW",H="right",P="deltaW",O="contentW"):(E="x",w="w",_="minW",N="maxW",S="innerW",k="left",T="deltaW",R="contentW",M="top",D="h",A="y",B="innerH",L="minH",H="bottom",P="deltaH",O="contentH"),u=r[S]-o[k]-o[k],x=d=0,t=0,n=i.length;t<n;t++)p=(h=i[t]).layoutRect(),u-=t<n-1?c:0,0<(m=h.settings.flex)&&(d+=m,p[N]&&I.push(h),p.flex=m),u-=p[_],x<(g=o[M]+p[L]+o[H])&&(x=g);if((b={})[_]=u<0?r[_]-u+r[T]:r[S]-u+r[T],b[L]=x+r[P],b[R]=r[S]-u,b[O]=x,b.minW=z(b.minW,r.maxW),b.minH=z(b.minH,r.maxH),b.minW=F(b.minW,r.startMinWidth),b.minH=F(b.minH,r.startMinHeight),!r.autoResize||b.minW==r.minW&&b.minH==r.minH){for(y=u/d,t=0,n=I.length;t<n;t++)(v=(p=(h=I[t]).layoutRect())[N])<(g=p[_]+p.flex*y)?(u-=p[N]-p[_],d-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(y=u/d,C=o[k],b={},0===d&&("end"==l?C=u+o[k]:"center"==l?(C=Math.round(r[S]/2-(r[S]-u)/2)+o[k])<0&&(C=o[k]):"justify"==l&&(C=o[k],c=Math.floor(u/(i.length-1)))),b[A]=o[M],t=0,n=i.length;t<n;t++)g=(p=(h=i[t]).layoutRect()).maxFlexSize||p[_],"center"===s?b[A]=Math.round(r[B]/2-p[D]/2):"stretch"===s?(b[D]=F(p[L]||0,r[B]-o[M]-o[H]),b[A]=o[M]):"end"===s&&(b[A]=r[B]-p[D]-o.top),0<p.flex&&(g+=p.flex*y),b[w]=g,b[E]=C,h.layoutRect(b),h.recalc&&h.recalc(),C+=g+c}else if(b.w=b.minW,b.h=b.minH,e.layoutRect(b),this.recalc(e),null===e._lastRect){var W=e.parent();W&&(W._lastRect=null,W.recalc())}}})}),e(ze,[be],function(e){return e.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})}})}),e(We,[$,we,Z,r,de,i],function(t,e,c,n,i,r){function o(a){function n(r,o){return function(){var t=this;a.on("nodeChange",function(e){var n=a.formatter,i=null;d(e.parents,function(t){return d(r,function(e){return o?n.matchNode(t,o,{value:e.value})&&(i=e.value):n.matchNode(t,e.value)&&(i=e.value),!i&&void 0}),!i&&void 0}),t.value(i)})}}function i(e){for(var t=(e=e.replace(/;$/,"").split(";")).length;t--;)e[t]=e[t].split("=");return e}function e(n){return function(){function e(){return!!a.undoManager&&a.undoManager[n]()}var t=this;n="redo"==n?"hasRedo":"hasUndo",t.disabled(!e()),a.on("Undo Redo AddUndo TypingUndo ClearUndos",function(){t.disabled(!e())})}}function r(e){e.control&&(e=e.control.value()),e&&a.execCommand("mceToggleFormat",!1,e)}var t,o,s,l;o=0,s=[],l=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],a.on("init",function(){d(s,function(e){a.formatter.register(e.name,e)})}),t={type:"menu",items:function i(e){var r=[];if(e)return d(e,function(e){var t={text:e.title,icon:e.icon};if(e.items)t.menu=i(e.items);else{var n=e.format||"custom"+o++;e.format||(e.name=n,s.push(e)),t.format=n,t.cmd=e.cmd}r.push(t)}),r}(a.settings.style_formats_merge?a.settings.style_formats?l.concat(a.settings.style_formats):l:a.settings.style_formats||l),onPostRender:function(e){a.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){return this.settings.format?a.formatter.getCssText(this.settings.format):void 0},onPostRender:function(){var n=this;n.parent().on("show",function(){var e,t;(e=n.settings.format)&&(n.disabled(!a.formatter.canApply(e)),n.active(a.formatter.match(e))),(t=n.settings.cmd)&&n.active(a.queryCommandState(t))})},onclick:function(){this.settings.format&&r(this.settings.format),this.settings.cmd&&a.execCommand(this.settings.cmd)}}},d({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,n){a.addButton(n,{tooltip:e,onPostRender:function(){var t=this;a.formatter?a.formatter.formatChanged(n,function(e){t.active(e)}):a.on("init",function(){a.formatter.formatChanged(n,function(e){t.active(e)})})},onclick:function(){r(n)}})}),d({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,t){a.addButton(t,{tooltip:e[0],cmd:e[1]})}),d({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"]},function(e,n){a.addButton(n,{tooltip:e[0],cmd:e[1],onPostRender:function(){var t=this;a.formatter?a.formatter.formatChanged(n,function(e){t.active(e)}):a.on("init",function(){a.formatter.formatChanged(n,function(e){t.active(e)})})}})}),a.addButton("undo",{tooltip:"Undo",onPostRender:e("undo"),cmd:"undo"}),a.addButton("redo",{tooltip:"Redo",onPostRender:e("redo"),cmd:"redo"}),a.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),a.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:e("undo"),cmd:"undo"}),a.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:e("redo"),cmd:"redo"}),a.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:function(){var t=this;a.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(a.hasVisual)},cmd:"mceToggleVisualAid"}),d({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,t){a.addMenuItem(t,{text:e[0],icon:t,shortcut:e[2],cmd:e[1]})}),a.on("mousedown",function(){c.hideAll()}),a.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t}),a.addButton("formatselect",function(){var t=[],e=i(a.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return d(e,function(e){t.push({text:e[0],value:e[1],textStyle:function(){return a.formatter.getCssText(e[1])}})}),{type:"listbox",text:e[0][0],values:t,fixedWidth:!0,onselect:r,onPostRender:n(t)}}),a.addButton("fontselect",function(){var t=[],e=i(a.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return d(e,function(e){t.push({text:{raw:e[0]},value:e[1],textStyle:-1==e[1].indexOf("dings")?"font-family:"+e[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:n(t,"fontname"),onselect:function(e){e.control.settings.value&&a.execCommand("FontName",!1,e.control.settings.value)}}}),a.addButton("fontsizeselect",function(){var r=[],e=a.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return d(e.split(" "),function(e){var t=e,n=e,i=e.split("=");1<i.length&&(t=i[0],n=i[1]),r.push({text:t,value:n})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:r,fixedWidth:!0,onPostRender:n(r,"fontsize"),onclick:function(e){e.control.settings.value&&a.execCommand("FontSize",!1,e.control.settings.value)}}}),a.addMenuItem("formats",{text:"Formats",menu:t})}var d=n.each;i.on("AddEditor",function(e){e.editor.rtl&&(t.rtl=!0),o(e.editor)}),t.translate=function(e){return i.translate(e)},e.tooltips=!r.iOS}),e(Ve,[Ce],function(e){return e.extend({recalc:function(e){var t,n,i,r,o,a,s,l,c,d,u,f,h,p,m,g,v,y,b,C,x,w,_,E,N,k,S,T=e.settings,R=[],A=[];T=e.settings,i=e.items().filter(":visible"),r=e.layoutRect(),n=T.columns||Math.ceil(Math.sqrt(i.length)),t=Math.ceil(i.length/n),v=T.spacingH||T.spacing||0,y=T.spacingV||T.spacing||0,b=T.alignH||T.align,C=T.alignV||T.align,m=e._paddingBox,S="reverseRows"in T?T.reverseRows:e.isRtl(),b&&"string"==typeof b&&(b=[b]),C&&"string"==typeof C&&(C=[C]);for(d=0;d<n;d++)R.push(0);for(u=0;u<t;u++)A.push(0);for(u=0;u<t;u++)for(d=0;d<n&&(c=i[u*n+d]);d++)_=(l=c.layoutRect()).minW,E=l.minH,R[d]=_>R[d]?_:R[d],A[u]=E>A[u]?E:A[u];for(N=r.innerW-m.left-m.right,d=x=0;d<n;d++)x+=R[d]+(0<d?v:0),N-=(0<d?v:0)+R[d];for(k=r.innerH-m.top-m.bottom,u=w=0;u<t;u++)w+=A[u]+(0<u?y:0),k-=(0<u?y:0)+A[u];if(x+=m.left+m.right,w+=m.top+m.bottom,(s={}).minW=x+(r.w-r.innerW),s.minH=w+(r.h-r.innerH),s.contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH,s.minW=Math.min(s.minW,r.maxW),s.minH=Math.min(s.minH,r.maxH),s.minW=Math.max(s.minW,r.startMinWidth),s.minH=Math.max(s.minH,r.startMinHeight),!r.autoResize||s.minW==r.minW&&s.minH==r.minH){var B;r.autoResize&&((s=e.layoutRect(s)).contentW=s.minW-r.deltaW,s.contentH=s.minH-r.deltaH),B="start"==T.packV?0:0<k?Math.floor(k/t):0;var D=0,L=T.flexWidths;if(L)for(d=0;d<L.length;d++)D+=L[d];else D=n;var M=N/D;for(d=0;d<n;d++)R[d]+=L?L[d]*M:M;for(h=m.top,u=0;u<t;u++){for(f=m.left,a=A[u]+B,d=0;d<n&&(c=i[S?u*n+n-1-d:u*n+d]);d++)p=c.settings,l=c.layoutRect(),o=Math.max(R[d],l.startMinWidth),l.x=f,l.y=h,"center"==(g=p.alignH||(b?b[d]||b[0]:null))?l.x=f+o/2-l.w/2:"right"==g?l.x=f+o-l.w:"stretch"==g&&(l.w=o),"center"==(g=p.alignV||(C?C[d]||C[0]:null))?l.y=h+a/2-l.h/2:"bottom"==g?l.y=h+a-l.h:"stretch"==g&&(l.h=a),c.layoutRect(l),f+=o+v,c.recalc&&c.recalc();h+=a+y}}else if(s.w=s.minW,s.h=s.minH,e.layoutRect(s),this.recalc(e),null===e._lastRect){var H=e.parent();H&&(H._lastRect=null,H.recalc())}}})}),e(Ue,[we],function(e){return e.extend({renderHtml:function(){return this.addClass("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes()+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):setTimeout(function(){n.html(e)},0),this}})}),e($e,[we,U],function(e,t){return e.extend({init:function(e){this._super(e),this.addClass("widget"),this.addClass("label"),this.canFocus=!1,e.multiline&&this.addClass("autoscroll"),e.strong&&this.addClass("strong")},initLayoutRect:function(){var e=this._super();this.settings.multiline&&(t.getSize(this.getEl()).width>e.maxW&&(e.minW=e.maxW,this.addClass("multiline")),this.getEl().style.width=e.minW+"px",e.startMinH=e.h=e.minH=Math.min(e.maxH,t.getSize(this.getEl()).height));return e},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},text:function(e){return this._rendered&&e&&this.innerHtml(this.encode(e)),this._super(e)},renderHtml:function(){var e=this.settings.forId;return'<label id="'+this._id+'" class="'+this.classes()+'"'+(e?' for="'+e+'"':"")+">"+this.encode(this._text)+"</label>"}})}),e(qe,[K],function(e){return e.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){this._super(e),this.addClass("toolbar")},postRender:function(){return this.items().addClass("toolbar-item"),this._super()}})}),e(je,[qe],function(e){return e.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),e(Ke,[_e,q,je],function(e,i,o){var a=e.extend({init:function(e){this._renderOpen=!0,this._super(e),this.addClass("menubtn"),e.fixedWidth&&this.addClass("fixed-width"),this.aria("haspopup",!0),this.hasPopup=!0},showMenu:function(){var e,t=this,n=t.settings;return t.menu&&t.menu.visible()?t.hideMenu():(t.menu||((e=n.menu||[]).length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=i.create(e).parent(t).renderTo(),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control.parent()===t.menu&&(e.stopPropagation(),t.focus(),t.hideMenu())}),t.menu.on("select",function(){t.focus()}),t.menu.on("show hide",function(e){e.control==t.menu&&t.activeMenu("show"==e.type),t.aria("expanded","show"==e.type)}).fire("show")),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),void t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide())},activeMenu:function(e){this.toggleClass("active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.settings.icon;return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=t.settings.icon?i+"ico "+i+"i-"+r:"",t.aria("role",t.parent()instanceof o?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes()+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+"<span>"+(t._text?(r?" ":"")+t.encode(t._text):"")+'</span> <i class="'+i+'caret"></i></button></div>'},postRender:function(){var r=this;return r.on("click",function(e){e.control===r&&function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}(e.target,r.getEl())&&(r.showMenu(),e.aria&&r.menu.items()[0].focus())}),r.on("mouseenter",function(e){var t,n=e.control,i=r.parent();n&&i&&n instanceof a&&n.parent()==i&&(i.items().filter("MenuButton").each(function(e){e.hideMenu&&e!=n&&(e.menu&&e.menu.visible()&&(t=!0),e.hideMenu())}),t&&(n.focus(),n.showMenu()))}),r._super()},text:function(e){var t,n;if(this._rendered)for(n=this.getEl("open").getElementsByTagName("span"),t=0;t<n.length;t++)n[t].innerHTML=(this.settings.icon&&e?" ":"")+this.encode(e);return this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}});return a}),e(Ye,[Ke],function(e){return e.extend({init:function(i){var e,r,o,n,a=this;a._values=e=i.values,e&&(function e(t){for(var n=0;n<t.length;n++){if(r=t[n].selected||i.value===t[n].value){o=o||t[n].text,a._value=t[n].value;break}t[n].menu&&e(t[n].menu)}}(e),!r&&0<e.length&&(o=e[0].text,a._value=e[0].value),i.menu=e),i.text=i.text||o||e[0].text,a._super(i),a.addClass("listbox"),a.on("select",function(e){var t=e.control;n&&(e.lastControl=n),i.multiple?t.active(!t.active()):a.value(e.control.settings.value),n=t})},value:function(i){var r,o;return void 0!==i&&(this.menu?function t(e,n){e.items().each(function(e){(r=e.value()===n)&&(o=o||e.text()),e.active(r),e.menu&&t(e.menu,n)})}(this.menu,i):function e(t){for(var n=0;n<t.length;n++)(r=t[n].value==i)&&(o=o||t[n].text),t[n].active=r,t[n].menu&&e(t[n].menu)}(this.settings.menu),this.text(o||this.settings.text)),this._super(i)}})}),e(Ge,[we,q,i],function(e,o,s){return e.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t=this;t.hasPopup=!0,t._super(e),e=t.settings,t.addClass("menu-item"),e.menu&&t.addClass("menu-item-expand"),e.preview&&t.addClass("menu-item-preview"),("-"===t._text||"|"===t._text)&&(t.addClass("menu-item-sep"),t.aria("role","separator"),t._text="-"),e.selectable&&(t.aria("role","menuitemcheckbox"),t.addClass("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||t.addClass("menu-item-normal"),t.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&t.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,e=n.settings,i=n.parent();if(i.items().each(function(e){e!==n&&e.hideMenu()}),e.menu){(t=n.menu)?t.show():((t=e.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",i.settings.itemDefaults&&(t.itemDefaults=i.settings.itemDefaults),(t=n.menu=o.create(t).parent(n).renderTo()).reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(e){e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.removeClass("selected")}),t.submenu=!0),t._parentMenu=i,t.addClass("menu-sub");var r=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(n.getEl(),r),r="menu-sub-"+(t.rel=r),t.removeClass(t._lastRel),t.addClass(r),t._lastRel=r,n.addClass("selected"),n.aria("expanded",!0)}},hideMenu:function(){return this.menu&&(this.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var e=this._id,t=this.settings,n=this.classPrefix,i=this.encode(this._text),r=this.settings.icon,o="",a=t.shortcut;return r&&this.parent().addClass("menu-has-icons"),t.image&&(r="none",o=" style=\"background-image: url('"+t.image+"')\""),a&&(a=function(e){var t,n,i;for(i=s.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)(n=i[e[t].toLowerCase()])&&(e[t]=n);return e.join("+")}(a)),r=n+"ico "+n+"i-"+(this.settings.icon||"none"),'<div id="'+e+'" class="'+this.classes()+'" tabindex="-1">'+("-"!==i?'<i class="'+r+'"'+o+"></i> ":"")+("-"!==i?'<span id="'+e+'-text" class="'+n+'text">'+i+"</span>":"")+(a?'<div id="'+e+'-shortcut" class="'+n+'menu-shortcut">'+a+"</div>":"")+(t.menu?'<div class="'+n+'caret"></div>':"")+"</div>"},postRender:function(){var t=this,n=t.settings,e=n.textStyle;if("function"==typeof e&&(e=e.call(this)),e){var i=t.getEl("text");i&&i.setAttribute("style",e)}return t.on("mouseenter click",function(e){e.control===t&&(n.menu||"click"!==e.type?(t.showMenu(),e.aria&&t.menu.focus(!0)):(t.fire("select"),t.parent().hideAll()))}),t._super(),t},active:function(e){return void 0!==e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),e(Xe,[Z,Ge,r],function(e,t,i){return e.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){if(e.autohide=!0,e.constrainToViewport=!0,e.itemDefaults)for(var t=e.items,n=t.length;n--;)t[n]=i.extend({},e.itemDefaults,t[n]);this._super(e),this.addClass("menu")},repaint:function(){return this.toggleClass("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var n=this;return n.items().each(function(e){var t=e.settings;return t.icon||t.selectable?!(n._hasIcons=!0):void 0}),n._super()}})}),e(Je,[Ne],function(e){return e.extend({Defaults:{classes:"radio",role:"radio"}})}),e(Qe,[we,Y],function(e,n){return e.extend({renderHtml:function(){var e=this.classPrefix;return this.addClass("resizehandle"),"both"==this.settings.direction&&this.addClass("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes()+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new n(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),e(Ze,[we],function(e){return e.extend({renderHtml:function(){return this.addClass("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes()+'"></div>'}})}),e(et,[Ke,U],function(e,r){return e.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this.getEl(),i=this.layoutRect();return this._super(),e=n.firstChild,t=n.lastChild,r.css(e,{width:i.w-r.getSize(t).width,height:i.h-2}),r.css(t,{height:i.h-2}),this},activeMenu:function(e){r.toggleClass(this.getEl().lastChild,this.classPrefix+"active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.settings.icon;return(e=t.settings.image)?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",r=t.settings.icon?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+t.classes()+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+(t._text?(r?" ":"")+t._text:"")+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(t._menuBtnText?(r?" ":"")+t._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var n=this.settings.onclick;return this.on("click",function(e){var t=e.target;if(e.control==this)for(;t;){if(e.aria&&"down"!=e.aria.key||"BUTTON"==t.nodeName&&-1==t.className.indexOf("open"))return e.stopImmediatePropagation(),void n.call(this,e);t=t.parentNode}}),delete this.settings.onclick,this._super()}})}),e(tt,[ze],function(e){return e.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"}})}),e(nt,[X,U],function(e,r){return e.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(n){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),r.removeClass(e,this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+n,(e=this.getEl("t"+n)).setAttribute("aria-selected","true"),r.addClass(e,this.classPrefix+"active"),this.items()[n].show().fire("showtab"),this.reflow(),this.items().each(function(e,t){n!=t&&e.hide()})},renderHtml:function(){var i=this,e=i._layout,r="",o=i.classPrefix;return i.preRender(),e.preRender(i),i.items().each(function(e,t){var n=i._id+"-t"+t;e.aria("role","tabpanel"),e.aria("labelledby",n),r+='<div id="'+n+'" class="'+o+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+i.encode(e.settings.title)+"</div>"}),'<div id="'+i._id+'" class="'+i.classes()+'" hidefocus="1" tabindex="-1"><div id="'+i._id+'-head" class="'+o+'tabs" role="tablist">'+r+'</div><div id="'+i._id+'-body" class="'+i.classes("body")+'">'+e.renderHtml(i)+"</div></div>"},postRender:function(){var i=this;i._super(),i.settings.activeTab=i.settings.activeTab||0,i.activateTab(i.settings.activeTab),this.on("click",function(e){var t=e.target.parentNode;if(e.target.parentNode.id==i._id+"-head")for(var n=t.childNodes.length;n--;)t.childNodes[n]==e.target&&i.activateTab(n)})},initLayoutRect:function(){var e,t,n;t=(t=r.getSize(this.getEl("head")).width)<0?0:t,n=0,this.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),this.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var i=r.getSize(this.getEl("head")).height;return this.settings.minWidth=t,this.settings.minHeight=n+i,(e=this._super()).deltaH+=i,e.innerH=e.h-e.deltaH,e}})}),e(it,[we,U],function(e,n){return e.extend({init:function(e){var n=this;n._super(e),n._value=e.value||"",n.addClass("textbox"),e.multiline?n.addClass("multiline"):n.on("keydown",function(t){13==t.keyCode&&n.parents().reverse().each(function(e){return t.preventDefault(),e.hasEventListeners("submit")&&e.toJSON?(e.fire("submit",{data:e.toJSON()}),!1):void 0})})},disabled:function(e){return this._rendered&&void 0!==e&&(this.getEl().disabled=e),this._super(e)},value:function(e){return void 0!==e?(this._value=e,this._rendered&&(this.getEl().value=e),this):this._rendered?this.getEl().value:this._value},repaint:function(){var e,t,n,i,r,o=0;e=this.getEl().style,t=this._layoutRect,r=this._lastRepaintRect||{};var a=document;return!this.settings.multiline&&a.all&&(!a.documentMode||a.documentMode<=8)&&(e.lineHeight=t.h-o+"px"),i=(n=this._borderBox).left+n.right+8,o=n.top+n.bottom+(this.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-o+"px",r.h=t.h),this._lastRepaintRect=r,this.fire("repaint",{},!1),this},renderHtml:function(){var e=this._id,t=this.settings,n=this.encode(this._value,!1),i="";return"spellcheck"in t&&(i+=' spellcheck="'+t.spellcheck+'"'),t.maxLength&&(i+=' maxlength="'+t.maxLength+'"'),t.size&&(i+=' size="'+t.size+'"'),t.subtype&&(i+=' type="'+t.subtype+'"'),this.disabled()&&(i+=' disabled="disabled"'),t.multiline?'<textarea id="'+e+'" class="'+this.classes()+'" '+(t.rows?' rows="'+t.rows+'"':"")+' hidefocus="1"'+i+">"+n+"</textarea>":'<input id="'+e+'" class="'+this.classes()+'" value="'+n+'" hidefocus="1"'+i+" />"},postRender:function(){var t=this;return n.on(t.getEl(),"change",function(e){t.fire("change",e)}),t._super()},remove:function(){n.off(this.getEl()),this._super()}})}),e(rt,[U,$],function(a,e){return function(t,n){var i,r=this,o=e.classPrefix;r.show=function(e){return r.hide(),i=!0,window.setTimeout(function(){i&&t.appendChild(a.createFragment('<div class="'+o+"throbber"+(n?" "+o+"throbber-inline":"")+'"></div>'))},e||0),r},r.hide=function(){var e=t.lastChild;return e&&-1!=e.className.indexOf("throbber")&&e.parentNode.removeChild(e),i=!1,r}}}),function(e){for(var t=0;t<e.length;t++){for(var n=a,i=e[t],r=i.split(/[.\/]/),o=0;o<r.length-1;++o)n[r[o]]===ye&&(n[r[o]]={}),n=n[r[o]];n[r[r.length-1]]=s[i]}}([t,n,i,r,l,c,d,u,f,p,m,g,v,b,C,x,w,_,E,N,k,S,T,R,A,B,L,M,H,P,O,I,F,z,W,V,U,$,q,j,K,Y,G,X,J,Q,Z,ee,te,ne,ie,re,oe,ae,se,le,ce,de,ue,fe,he,pe,me,ge,ve,be,Ce,xe,we,_e,Ee,Ne,ke,Se,Te,Re,Ae,Be,De,Le,Me,He,Pe,Oe,Ie,Fe,ze,We,Ve,Ue,$e,qe,je,Ke,Ye,Ge,Xe,Je,Qe,Ze,et,tt,nt,it,rt])}(this);
!function(q){var a={method:"GET",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,contentType:"json",excludeCurrent:!1,excludeCurrentParameter:"x",prePopulate:null,processPrePopulate:!1,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&#215;",animateDropdown:!0,placeholder:null,theme:null,zindex:999,resultsLimit:null,enableHTML:!1,resultsFormatter:function(t){var e=t[this.propertyToSearch];return"<li>"+(this.enableHTML?e:et(e))+"</li>"},tokenFormatter:function(t){var e=t[this.propertyToSearch];return"<li><p>"+(this.enableHTML?e:et(e))+"</p></li>"},tokenLimit:null,tokenDelimiter:",",preventDuplicates:!1,tokenValue:"id",allowFreeTagging:!1,allowTabOut:!1,autoSelectFirstResult:!1,onResult:null,onCachedResult:null,onAdd:null,onFreeTaggingAdd:null,onDelete:null,onReady:null,idPrefix:"token-input-",disabled:!1},E={tokenList:"token-input-list-facebook",token:"token-input-token-facebook",tokenReadOnly:"token-input-token-readonly-facebook",tokenDelete:"token-input-delete-token-facebook",selectedToken:"token-input-selected-token-facebook",highlightedToken:"token-input-highlighted-token-facebook",dropdown:"token-input-dropdown-facebook",dropdownItem:"token-input-dropdown-item-facebook",dropdownItem2:"token-input-dropdown-item2-facebook",selectedDropdownItem:"token-input-selected-dropdown-item-facebook",inputToken:"token-input-input-token-facebook",focused:"token-input-focused-facebook",disabled:"token-input-disabled-facebook"},B=0,W=1,$=2,G=8,N=9,Q=13,J=27,K=37,U=38,X=39,Y=40,Z=108,tt=188,n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"},s=/[&<>"'\/]/g;function et(t){return(e=t,String(null==e?"":e)).replace(s,function(t){return n[t]});var e}var e={init:function(t,e){var n=q.extend({},a,e||{});return this.each(function(){q(this).data("settings",n),q(this).data("tokenInputObject",new q.TokenList(this,t,n))})},clear:function(){return this.data("tokenInputObject").clear(),this},add:function(t){return this.data("tokenInputObject").add(t),this},remove:function(t){return this.data("tokenInputObject").remove(t),this},get:function(){return this.data("tokenInputObject").getTokens()},toggleDisabled:function(t){return this.data("tokenInputObject").toggleDisabled(t),this},setOptions:function(t){return q(this).data("settings",q.extend({},q(this).data("settings"),t||{})),this},destroy:function(){if(this.data("tokenInputObject")){this.data("tokenInputObject").clear();var t=this,e=this.parent();return e.empty(),t.show(),e.append(t),t}}};q.fn.tokenInput=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):e.init.apply(this,arguments)},q.TokenList=function(u,t,c){if("string"==typeof t||"function"==typeof t){q(u).data("settings").url=t;var e=H();void 0===q(u).data("settings").crossDomain&&"string"==typeof e&&(-1===e.indexOf("://")?q(u).data("settings").crossDomain=!1:q(u).data("settings").crossDomain=location.href.split(/\/+/g)[1]!==e.split(/\/+/g)[1])}else"object"==typeof t&&(q(u).data("settings").local_data=t);q(u).data("settings").classes?q(u).data("settings").classes=q.extend({},E,q(u).data("settings").classes):q(u).data("settings").theme?(q(u).data("settings").classes={},q.each(E,function(t,e){q(u).data("settings").classes[t]=e+"-"+q(u).data("settings").theme})):q(u).data("settings").classes=E;var n,a,s=[],i=0,g=new q.TokenList.Cache,p=q('<input type="text" autocomplete="off" autocapitalize="off"/>').css({outline:"none"}).attr("id",q(u).data("settings").idPrefix+u.id).focus(function(){if(q(u).data("settings").disabled)return!1;null!==q(u).data("settings").tokenLimit&&q(u).data("settings").tokenLimit===i||q(u).data("settings").hintText&&(k.html("<p>"+T(q(u).data("settings").hintText)+"</p>"),O()),r.addClass(q(u).data("settings").classes.focused)}).blur(function(){S(),q(u).data("settings").allowFreeTagging&&C(),q(this).val(""),r.removeClass(q(u).data("settings").classes.focused)}).bind("keyup keydown blur update",w).keydown(function(t){var e,n;switch(t.keyCode){case K:case X:case U:case Y:if(0===this.value.length)e=h.prev(),n=h.next(),e.length&&e.get(0)===o||n.length&&n.get(0)===o?t.keyCode===K||t.keyCode===U?R(q(o),B):R(q(o),W):t.keyCode!==K&&t.keyCode!==U||!e.length?t.keyCode!==X&&t.keyCode!==Y||!n.length||L(q(n.get(0))):L(q(e.get(0)));else{var a=null;t.keyCode===Y||t.keyCode===X?(a=q(k).find("li").first(),d&&(a=q(d).next())):(a=q(k).find("li").last(),d&&(a=q(d).prev())),z(a)}break;case G:if(e=h.prev(),0===this.value.length)return o?(j(q(o)),f.change()):e.length&&L(q(e.get(0))),!1;1===q(this).val().length?S():setTimeout(function(){M()},5);break;case N:case Q:case Z:case tt:if(d)D(q(d).data("tokeninput")),f.change();else{if(q(u).data("settings").allowFreeTagging){if(q(u).data("settings").allowTabOut&&""===q(this).val())return!0;C()}else if(q(this).val(""),q(u).data("settings").allowTabOut)return!0;t.stopPropagation(),t.preventDefault()}return!1;case J:return S(),!0;default:String.fromCharCode(t.which)&&setTimeout(function(){M()},5)}});c.placeholder&&p.attr("placeholder",c.placeholder);var f=q(u).hide().val("").focus(function(){_(p)}).blur(function(){return p.blur(),f}),o=null,l=0,d=null,r=q("<ul />").addClass(q(u).data("settings").classes.tokenList).click(function(t){var e=q(t.target).closest("li");e&&e.get(0)&&q.data(e.get(0),"tokeninput")?function(t){var e=o;o&&R(q(o),$);e===t.get(0)?R(t,$):L(t)}(e):(o&&R(q(o),$),_(p))}).mouseover(function(t){var e=q(t.target).closest("li");e&&o!==this&&e.addClass(q(u).data("settings").classes.highlightedToken)}).mouseout(function(t){var e=q(t.target).closest("li");e&&o!==this&&e.removeClass(q(u).data("settings").classes.highlightedToken)}).insertBefore(f),h=q("<li />").addClass(q(u).data("settings").classes.inputToken).appendTo(r).append(p),k=q("<div/>").addClass(q(u).data("settings").classes.dropdown).appendTo("body").hide(),m=q("<tester/>").insertAfter(p).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:p.css("fontSize"),fontFamily:p.css("fontFamily"),fontWeight:p.css("fontWeight"),letterSpacing:p.css("letterSpacing"),whiteSpace:"nowrap"});f.val("");var v=q(u).data("settings").prePopulate||f.data("pre");function T(t){return q(u).data("settings").enableHTML?t:et(t)}function b(t){q(u).data("settings").disabled="boolean"==typeof t?t:!q(u).data("settings").disabled,p.attr("disabled",q(u).data("settings").disabled),r.toggleClass(q(u).data("settings").classes.disabled,q(u).data("settings").disabled),o&&R(q(o),$),f.attr("disabled",q(u).data("settings").disabled)}function y(){if(null!==q(u).data("settings").tokenLimit&&i>=q(u).data("settings").tokenLimit)return p.hide(),void S()}function w(){if(a!==(a=p.val())){var t=r.width()-p.offset().left-r.offset().left;m.html(et(a)||et(c.placeholder)),p.width(Math.min(r.width(),Math.max(t,m.width()+30)))}}function C(){var t=q.trim(p.val()).split(q(u).data("settings").tokenDelimiter);q.each(t,function(t,e){if(e){q.isFunction(q(u).data("settings").onFreeTaggingAdd)&&(e=q(u).data("settings").onFreeTaggingAdd.call(f,e));var n={};n[q(u).data("settings").tokenValue]=n[q(u).data("settings").propertyToSearch]=e,D(n)}})}function x(t){var e=q(q(u).data("settings").tokenFormatter(t)),n=!0===t.readonly;n&&e.addClass(q(u).data("settings").classes.tokenReadOnly),e.addClass(q(u).data("settings").classes.token).insertBefore(h),n||q("<span>"+q(u).data("settings").deleteText+"</span>").addClass(q(u).data("settings").classes.tokenDelete).appendTo(e).click(function(){if(!q(u).data("settings").disabled)return j(q(this).parent()),f.change(),!1});var a=t;return q.data(e.get(0),"tokeninput",t),s=s.slice(0,l).concat([a]).concat(s.slice(l)),l++,F(s,f),i+=1,null!==q(u).data("settings").tokenLimit&&i>=q(u).data("settings").tokenLimit&&(p.hide(),S()),e}function D(n){var t=q(u).data("settings").onAdd;if(0<i&&q(u).data("settings").preventDuplicates){var a=null;if(r.children().each(function(){var t=q(this),e=q.data(t.get(0),"tokeninput");if(e&&e[c.tokenValue]===n[c.tokenValue])return a=t,!1}),a)return L(a),h.insertAfter(a),void _(p)}p.width(1),(null==q(u).data("settings").tokenLimit||i<q(u).data("settings").tokenLimit)&&(x(n),p.attr("placeholder",null),y()),p.val(""),S(),q.isFunction(t)&&t.call(f,n)}function L(t){q(u).data("settings").disabled||(t.addClass(q(u).data("settings").classes.selectedToken),o=t.get(0),p.val(""),S())}function R(t,e){t.removeClass(q(u).data("settings").classes.selectedToken),o=null,e===B?(h.insertBefore(t),l--):e===W?(h.insertAfter(t),l++):(h.appendTo(r),l=i),_(p)}function j(t){var e=q.data(t.get(0),"tokeninput"),n=q(u).data("settings").onDelete,a=t.prevAll().length;l<a&&a--,t.remove(),o=null,_(p),0==(s=s.slice(0,a).concat(s.slice(a+1))).length&&p.attr("placeholder",c.placeholder),a<l&&l--,F(s,f),i-=1,null!==q(u).data("settings").tokenLimit&&(p.show().val(""),_(p)),q.isFunction(n)&&n.call(f,e)}function F(t,e){var n=q.map(t,function(t){return"function"==typeof q(u).data("settings").tokenValue?q(u).data("settings").tokenValue.call(this,t):t[q(u).data("settings").tokenValue]});e.val(n.join(q(u).data("settings").tokenDelimiter))}function S(){k.hide().empty(),d=null}function O(){k.css({position:"absolute",top:r.offset().top+r.outerHeight(!0),left:r.offset().left,width:r.width(),"z-index":q(u).data("settings").zindex}).show()}q(u).data("settings").processPrePopulate&&q.isFunction(q(u).data("settings").onResult)&&(v=q(u).data("settings").onResult.call(f,v)),v&&v.length&&q.each(v,function(t,e){x(e),y(),p.attr("placeholder",null)}),q(u).data("settings").disabled&&b(!0),"function"==typeof q(u).data("settings").onReady&&q(u).data("settings").onReady.call(),this.clear=function(){r.children("li").each(function(){0===q(this).children("input").length&&j(q(this))})},this.add=function(t){D(t)},this.remove=function(a){r.children("li").each(function(){if(0===q(this).children("input").length){var t=q(this).data("tokeninput"),e=!0;for(var n in a)if(a[n]!==t[n]){e=!1;break}e&&j(q(this))}})},this.getTokens=function(){return s},this.toggleDisabled=function(t){b(t)},w();var I=new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g");function P(t){return t.replace(I,"\\$&")}function A(t,e,n){return t.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+P(e)+")(?![^<>]*>)(?![^&;]+;)","g"),(a=n,e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+P(a)+")(?![^<>]*>)(?![^&;]+;)","gi"),function(t,e){return"<b>"+T(e)+"</b>"})));var a}function V(a,t){if((t=function(t){if(q(u).data("settings").excludeCurrent){var e=q(u).data("tokenInputObject").getTokens(),s=[];e.length&&(q.each(t,function(t,n){var a=!0;q.each(e,function(t,e){if(n[q(u).data("settings").propertyToSearch]==e[q(u).data("settings").propertyToSearch])return a=!1}),a&&s.push(n)}),t=s)}return t}(t))&&t.length){k.empty();var s=q("<ul/>").appendTo(k).mouseover(function(t){z(q(t.target).closest("li"))}).mousedown(function(t){return D(q(t.target).closest("li").data("tokeninput")),f.change(),!1}).hide();q(u).data("settings").resultsLimit&&t.length>q(u).data("settings").resultsLimit&&(t=t.slice(0,q(u).data("settings").resultsLimit)),q.each(t,function(t,e){var n=q(u).data("settings").resultsFormatter(e);n=A(n,e[q(u).data("settings").propertyToSearch],a),n=q(n).appendTo(s),t%2?n.addClass(q(u).data("settings").classes.dropdownItem):n.addClass(q(u).data("settings").classes.dropdownItem2),0===t&&q(u).data("settings").autoSelectFirstResult&&z(n),q.data(n.get(0),"tokeninput",e)}),O(),q(u).data("settings").animateDropdown?s.slideDown("fast"):s.show()}else q(u).data("settings").noResultsText&&(k.html("<p>"+T(q(u).data("settings").noResultsText)+"</p>"),O())}function z(t){t&&(d&&(q(d).removeClass(q(u).data("settings").classes.selectedDropdownItem),d=null),t.addClass(q(u).data("settings").classes.selectedDropdownItem),d=t.get(0))}function M(){var t=p.val();t&&t.length&&(o&&R(q(o),W),t.length>=q(u).data("settings").minChars?(q(u).data("settings").searchingText&&(k.html("<p>"+T(q(u).data("settings").searchingText)+"</p>"),O()),clearTimeout(n),n=setTimeout(function(){!function(e){var n=e+H(),t=g.get(n);if(t)q.isFunction(q(u).data("settings").onCachedResult)&&(t=q(u).data("settings").onCachedResult.call(f,t)),V(e,t);else if(q(u).data("settings").url){var a=H(),s={data:{}};if(-1<a.indexOf("?")){var i=a.split("?");s.url=i[0];var o=i[1].split("&");q.each(o,function(t,e){var n=e.split("=");s.data[n[0]]=n[1]})}else s.url=a;if(s.data[q(u).data("settings").queryParam]=e,s.type=q(u).data("settings").method,s.dataType=q(u).data("settings").contentType,q(u).data("settings").crossDomain&&(s.dataType="jsonp"),q(u).data("settings").excludeCurrent){var l=q(u).data("tokenInputObject").getTokens(),d=q.map(l,function(t){return"function"==typeof q(u).data("settings").tokenValue?q(u).data("settings").tokenValue.call(this,t):t[q(u).data("settings").tokenValue]});s.data[q(u).data("settings").excludeCurrentParameter]=d.join(q(u).data("settings").tokenDelimiter)}s.success=function(t){g.add(n,q(u).data("settings").jsonContainer?t[q(u).data("settings").jsonContainer]:t),q.isFunction(q(u).data("settings").onResult)&&(t=q(u).data("settings").onResult.call(f,t)),p.val()===e&&V(e,q(u).data("settings").jsonContainer?t[q(u).data("settings").jsonContainer]:t)},c.onSend&&c.onSend(s),q.ajax(s)}else if(q(u).data("settings").local_data){var r=q.grep(q(u).data("settings").local_data,function(t){return-1<t[q(u).data("settings").propertyToSearch].toLowerCase().indexOf(e.toLowerCase())});g.add(n,r),q.isFunction(q(u).data("settings").onResult)&&(r=q(u).data("settings").onResult.call(f,r)),V(e,r)}}(t)},q(u).data("settings").searchDelay)):S())}function H(){var t=q(u).data("settings").url;return"function"==typeof q(u).data("settings").url&&(t=q(u).data("settings").url.call(q(u).data("settings"))),t}function _(t){setTimeout(function(){t.focus()},50)}},q.TokenList.Cache=function(t){var n,a,s={},i=0;n=q.extend({max_size:500},t),a=function(){s={},i=0},this.add=function(t,e){i>n.max_size&&a(),s[t]||(i+=1),s[t]=e},this.get=function(t){return s[t]}}}(jQuery);
!function(t){"use strict";var o=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,l=t.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),u=l&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),B=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,r=(l||B)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(t){var e,n,o,r,i,a;for(e=0<=t.split(",")[0].indexOf("base64")?atob(t.split(",")[1]):decodeURIComponent(t.split(",")[1]),n=new ArrayBuffer(e.length),o=new Uint8Array(n),r=0;r<e.length;r+=1)o[r]=e.charCodeAt(r);return i=t.split(",")[0].split(":")[1].split(";")[0],l?new Blob([u?o:n],{type:i}):((a=new B).append(n),a.getBlob(i))};t.HTMLCanvasElement&&!o.toBlob&&(o.mozGetAsFile?o.toBlob=function(t,e,n){n&&o.toDataURL&&r?t(r(this.toDataURL(e,n))):t(this.mozGetAsFile("blob",e))}:o.toDataURL&&r&&(o.toBlob=function(t,e,n){t(r(this.toDataURL(e,n)))})),"function"==typeof define&&define.amd?define(function(){return r}):t.dataURLtoBlob=r}(this);
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","load-image-meta","load-image-exif","load-image-ios","canvas-to-blob","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery"),require("load-image")):e(window.jQuery,window.loadImage)}(function(o,d){"use strict";o.blueimp.fileupload.prototype.options.processQueue.unshift({action:"loadImageMetaData",disableImageHead:"@",disableExif:"@",disableExifThumbnail:"@",disableExifSub:"@",disableExifGps:"@",disabled:"@disableImageMetaDataLoad"},{action:"loadImage",prefix:!0,fileTypes:"@",maxFileSize:"@",noRevoke:"@",disabled:"@disableImageLoad"},{action:"resizeImage",prefix:"image",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",forceResize:"@",disabled:"@disableImageResize"},{action:"saveImage",quality:"@imageQuality",type:"@imageType",disabled:"@disableImageResize"},{action:"saveImageMetaData",disabled:"@disableImageMetaDataSave"},{action:"resizeImage",prefix:"preview",maxWidth:"@",maxHeight:"@",minWidth:"@",minHeight:"@",crop:"@",orientation:"@",thumbnail:"@",canvas:"@",disabled:"@disableImagePreview"},{action:"setImage",name:"@imagePreviewName",disabled:"@disableImagePreview"},{action:"deleteImageReferences",disabled:"@disableImageReferencesDeletion"}),o.widget("blueimp.fileupload",o.blueimp.fileupload,{options:{loadImageFileTypes:/^image\/(gif|jpeg|png|svg\+xml)$/,loadImageMaxFileSize:1e7,imageMaxWidth:1920,imageMaxHeight:1080,imageOrientation:!1,imageCrop:!1,disableImageResize:!0,previewMaxWidth:80,previewMaxHeight:80,previewOrientation:!0,previewThumbnail:!0,previewCrop:!1,previewCanvas:!0},processActions:{loadImage:function(i,e){if(e.disabled)return i;var a=this,t=i.files[i.index],n=o.Deferred();return"number"===o.type(e.maxFileSize)&&t.size>e.maxFileSize||e.fileTypes&&!e.fileTypes.test(t.type)||!d(t,function(e){e.src&&(i.img=e),n.resolveWith(a,[i])},e)?i:n.promise()},resizeImage:function(i,a){if(a.disabled||!i.canvas&&!i.img)return i;a=o.extend({canvas:!0},a);var e,t=this,n=o.Deferred(),s=a.canvas&&i.canvas||i.img,r=function(e){e&&(e.width!==s.width||e.height!==s.height||a.forceResize)&&(i[e.getContext?"canvas":"img"]=e),i.preview=e,n.resolveWith(t,[i])};if(i.exif){if(!0===a.orientation&&(a.orientation=i.exif.get("Orientation")),a.thumbnail&&(e=i.exif.get("Thumbnail")))return d(e,r,a),n.promise();i.orientation?delete a.orientation:i.orientation=a.orientation}return s?(r(d.scale(s,a)),n.promise()):i},saveImage:function(i,e){if(!i.canvas||e.disabled)return i;var a=this,t=i.files[i.index],n=o.Deferred();return i.canvas.toBlob?(i.canvas.toBlob(function(e){e.name||(t.type===e.type?e.name=t.name:t.name&&(e.name=t.name.replace(/\..+$/,"."+e.type.substr(6)))),t.type!==e.type&&delete i.imageHead,i.files[i.index]=e,n.resolveWith(a,[i])},e.type||t.type,e.quality),n.promise()):i},loadImageMetaData:function(i,e){if(e.disabled)return i;var a=this,t=o.Deferred();return d.parseMetaData(i.files[i.index],function(e){o.extend(i,e),t.resolveWith(a,[i])},e),t.promise()},saveImageMetaData:function(e,i){if(!(e.imageHead&&e.canvas&&e.canvas.toBlob)||i.disabled)return e;var a=e.files[e.index],t=new Blob([e.imageHead,this._blobSlice.call(a,20)],{type:a.type});return t.name=a.name,e.files[e.index]=t,e},setImage:function(e,i){return e.preview&&!i.disabled&&(e.files[e.index][i.name||"preview"]=e.preview),e},deleteImageReferences:function(e,i){return i.disabled||(delete e.img,delete e.canvas,delete e.preview,delete e.imageHead),e}}})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-ui"],e):e(window.jQuery)}(function(r){"use strict";r.widget("blueimp.fileupload",r.blueimp.fileupload,{options:{progress:function(e,n){n.context&&n.context.find(".progress").progressbar("option","value",parseInt(n.loaded/n.total*100,10))},progressall:function(e,n){var t=r(this);t.find(".fileupload-progress").find(".progress").progressbar("option","value",parseInt(n.loaded/n.total*100,10)).end().find(".progress-extended").each(function(){r(this).html((t.data("blueimp-fileupload")||t.data("fileupload"))._renderExtendedProgress(n))})}},_renderUpload:function(e,n){var t=this._super(e,n),i=480<r(window).width();return t.find(".progress").empty().progressbar(),t.find(".start").button({icons:{primary:"ui-icon-circle-arrow-e"},text:i}),t.find(".cancel").button({icons:{primary:"ui-icon-cancel"},text:i}),t.hasClass("fade")&&t.hide(),t},_renderDownload:function(e,n){var t=this._super(e,n),i=480<r(window).width();return t.find(".delete").button({icons:{primary:"ui-icon-trash"},text:i}),t.hasClass("fade")&&t.hide(),t},_transition:function(e){var n=r.Deferred();return e.hasClass("fade")?e.fadeToggle(this.options.transitionDuration,this.options.transitionEasing,function(){n.resolveWith(e)}):n.resolveWith(e),n},_create:function(){this._super(),this.element.find(".fileupload-buttonbar").find(".fileinput-button").each(function(){var e=r(this).find("input:file").detach();r(this).button({icons:{primary:"ui-icon-plusthick"}}).append(e)}).end().find(".start").button({icons:{primary:"ui-icon-circle-arrow-e"}}).end().find(".cancel").button({icons:{primary:"ui-icon-cancel"}}).end().find(".delete").button({icons:{primary:"ui-icon-trash"}}).end().find(".progress").progressbar()},_destroy:function(){this.element.find(".fileupload-buttonbar").find(".fileinput-button").each(function(){var e=r(this).find("input:file").detach();r(this).button("destroy").append(e)}).end().find(".start").button("destroy").end().find(".cancel").button("destroy").end().find(".delete").button("destroy").end().find(".progress").progressbar("destroy"),this._super()}})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}(function(n){"use strict";var i=n.blueimp.fileupload.prototype.options.add;n.widget("blueimp.fileupload",n.blueimp.fileupload,{options:{processQueue:[],add:function(e,s){var r=n(this);s.process(function(){return r.fileupload("process",s)}),i.call(this,e,s)}},processActions:{},_processFile:function(e,i){var o=this,t=n.Deferred().resolveWith(o,[e]).promise();return this._trigger("process",null,e),n.each(e.processQueue,function(e,s){var r=function(e){return i.errorThrown?n.Deferred().rejectWith(o,[i]).promise():o.processActions[s.action].call(o,e,s)};t=t.pipe(r,s.always&&r)}),t.done(function(){o._trigger("processdone",null,e),o._trigger("processalways",null,e)}).fail(function(){o._trigger("processfail",null,e),o._trigger("processalways",null,e)}),t},_transformProcessQueue:function(o){var s=[];n.each(o.processQueue,function(){var r={},e=this.action,i=!0===this.prefix?e:this.prefix;n.each(this,function(e,s){"string"===n.type(s)&&"@"===s.charAt(0)?r[e]=o[s.slice(1)||(i?i+e.charAt(0).toUpperCase()+e.slice(1):e)]:r[e]=s}),s.push(r)}),o.processQueue=s},processing:function(){return this._processing},process:function(i){var o=this,t=n.extend({},this.options,i);return t.processQueue&&t.processQueue.length&&(this._transformProcessQueue(t),0===this._processing&&this._trigger("processstart"),n.each(i.files,function(e){var s=e?n.extend({},t):t,r=function(){return i.errorThrown?n.Deferred().rejectWith(o,[i]).promise():o._processFile(s,i)};s.index=e,o._processing+=1,o._processingQueue=o._processingQueue.pipe(r,r).always(function(){o._processing-=1,0===o._processing&&o._trigger("processstop")})})),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=n.Deferred().resolveWith(this).promise()}})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","tmpl","./jquery.fileupload-image","./jquery.fileupload-audio","./jquery.fileupload-video","./jquery.fileupload-validate"],e):"object"==typeof exports?e(require("jquery"),require("tmpl")):e(window.jQuery,window.tmpl)}(function(d,t){"use strict";d.blueimp.fileupload.prototype._specialOptions.push("filesContainer","uploadTemplateId","downloadTemplateId"),d.widget("blueimp.fileupload",d.blueimp.fileupload,{options:{autoUpload:!1,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:void 0,prependFiles:!1,dataType:"json",messages:{unknownError:"Unknown error"},getNumberOfFiles:function(){return this.filesContainer.children().not(".processing").length},getFilesFromResponse:function(e){return e.result&&d.isArray(e.result.files)?e.result.files:[]},add:function(e,i){if(e.isDefaultPrevented())return!1;var t=d(this),n=t.data("blueimp-fileupload")||t.data("fileupload"),r=n.options;i.context=n._renderUpload(i.files).data("data",i).addClass("processing"),r.filesContainer[r.prependFiles?"prepend":"append"](i.context),n._forceReflow(i.context),n._transition(i.context),i.process(function(){return t.fileupload("process",i)}).always(function(){i.context.each(function(e){d(this).find(".size").text(n._formatFileSize(i.files[e].size))}).removeClass("processing"),n._renderPreviews(i)}).done(function(){i.context.find(".start").prop("disabled",!1),!1!==n._trigger("added",e,i)&&(r.autoUpload||i.autoUpload)&&!1!==i.autoUpload&&i.submit()}).fail(function(){i.files.error&&i.context.each(function(e){var t=i.files[e].error;t&&d(this).find(".error").text(t)})})},send:function(e,t){if(e.isDefaultPrevented())return!1;var i=d(this).data("blueimp-fileupload")||d(this).data("fileupload");return t.context&&t.dataType&&"iframe"===t.dataType.substr(0,6)&&t.context.find(".progress").addClass(!d.support.transition&&"progress-animated").attr("aria-valuenow",100).children().first().css("width","100%"),i._trigger("sent",e,t)},done:function(i,n){if(i.isDefaultPrevented())return!1;var r,o,a=d(this).data("blueimp-fileupload")||d(this).data("fileupload"),s=(n.getFilesFromResponse||a.options.getFilesFromResponse)(n);n.context?n.context.each(function(e){var t=s[e]||{error:"Empty file upload result"};o=a._addFinishedDeferreds(),a._transition(d(this)).done(function(){var e=d(this);r=a._renderDownload([t]).replaceAll(e),a._forceReflow(r),a._transition(r).done(function(){n.context=d(this),a._trigger("completed",i,n),a._trigger("finished",i,n),o.resolve()})})}):(r=a._renderDownload(s)[a.options.prependFiles?"prependTo":"appendTo"](a.options.filesContainer),a._forceReflow(r),o=a._addFinishedDeferreds(),a._transition(r).done(function(){n.context=d(this),a._trigger("completed",i,n),a._trigger("finished",i,n),o.resolve()}))},fail:function(i,n){if(i.isDefaultPrevented())return!1;var r,o,a=d(this).data("blueimp-fileupload")||d(this).data("fileupload");n.context?n.context.each(function(e){if("abort"!==n.errorThrown){var t=n.files[e];t.error=t.error||n.errorThrown||n.i18n("unknownError"),o=a._addFinishedDeferreds(),a._transition(d(this)).done(function(){var e=d(this);r=a._renderDownload([t]).replaceAll(e),a._forceReflow(r),a._transition(r).done(function(){n.context=d(this),a._trigger("failed",i,n),a._trigger("finished",i,n),o.resolve()})})}else o=a._addFinishedDeferreds(),a._transition(d(this)).done(function(){d(this).remove(),a._trigger("failed",i,n),a._trigger("finished",i,n),o.resolve()})}):"abort"!==n.errorThrown?(n.context=a._renderUpload(n.files)[a.options.prependFiles?"prependTo":"appendTo"](a.options.filesContainer).data("data",n),a._forceReflow(n.context),o=a._addFinishedDeferreds(),a._transition(n.context).done(function(){n.context=d(this),a._trigger("failed",i,n),a._trigger("finished",i,n),o.resolve()})):(a._trigger("failed",i,n),a._trigger("finished",i,n),a._addFinishedDeferreds().resolve())},progress:function(e,t){if(e.isDefaultPrevented())return!1;var i=Math.floor(t.loaded/t.total*100);t.context&&t.context.each(function(){d(this).find(".progress").attr("aria-valuenow",i).children().first().css("width",i+"%")})},progressall:function(e,t){if(e.isDefaultPrevented())return!1;var i=d(this),n=Math.floor(t.loaded/t.total*100),r=i.find(".fileupload-progress"),o=r.find(".progress-extended");o.length&&o.html((i.data("blueimp-fileupload")||i.data("fileupload"))._renderExtendedProgress(t)),r.find(".progress").attr("aria-valuenow",n).children().first().css("width",n+"%")},start:function(e){if(e.isDefaultPrevented())return!1;var t=d(this).data("blueimp-fileupload")||d(this).data("fileupload");t._resetFinishedDeferreds(),t._transition(d(this).find(".fileupload-progress")).done(function(){t._trigger("started",e)})},stop:function(e){if(e.isDefaultPrevented())return!1;var t=d(this).data("blueimp-fileupload")||d(this).data("fileupload"),i=t._addFinishedDeferreds();d.when.apply(d,t._getFinishedDeferreds()).done(function(){t._trigger("stopped",e)}),t._transition(d(this).find(".fileupload-progress")).done(function(){d(this).find(".progress").attr("aria-valuenow","0").children().first().css("width","0%"),d(this).find(".progress-extended").html("&nbsp;"),i.resolve()})},processstart:function(e){if(e.isDefaultPrevented())return!1;d(this).addClass("fileupload-processing")},processstop:function(e){if(e.isDefaultPrevented())return!1;d(this).removeClass("fileupload-processing")},destroy:function(e,t){if(e.isDefaultPrevented())return!1;var i=d(this).data("blueimp-fileupload")||d(this).data("fileupload"),n=function(){i._transition(t.context).done(function(){d(this).remove(),i._trigger("destroyed",e,t)})};t.url?(t.dataType=t.dataType||i.options.dataType,d.ajax(t).done(n).fail(function(){i._trigger("destroyfailed",e,t)})):n()}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(e){return e||(e=d.Deferred()),this._finishedUploads.push(e),e},_getFinishedDeferreds:function(){return this._finishedUploads},_enableDragToDesktop:function(){var e=d(this),t=e.prop("href"),i=e.prop("download"),n="application/octet-stream";e.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[n,i,t].join(":"))}catch(e){}})},_formatFileSize:function(e){return"number"!=typeof e?"":1e9<=e?(e/1e9).toFixed(2)+" GB":1e6<=e?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":1e9<=e?(e/1e9).toFixed(2)+" Gbit/s":1e6<=e?(e/1e6).toFixed(2)+" Mbit/s":1e3<=e?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),i=Math.floor(e/86400);return(i=i?i+"d ":"")+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_renderTemplate:function(e,t){if(!e)return d();var i=e({files:t,formatFileSize:this._formatFileSize,options:this.options});return i instanceof d?i:d(this.options.templatesContainer).html(i).children()},_renderPreviews:function(i){i.context.find(".preview").each(function(e,t){d(t).append(i.files[e].preview)})},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(e){e.preventDefault();var t=d(e.currentTarget),i=t.closest(".template-upload").data("data");t.prop("disabled",!0),i&&i.submit&&i.submit()},_cancelHandler:function(e){e.preventDefault();var t=d(e.currentTarget).closest(".template-upload,.template-download"),i=t.data("data")||{};i.context=i.context||t,i.abort?i.abort():(i.errorThrown="abort",this._trigger("fail",e,i))},_deleteHandler:function(e){e.preventDefault();var t=d(e.currentTarget);this._trigger("destroy",e,d.extend({context:t.closest(".template-download"),type:"DELETE"},t.data()))},_forceReflow:function(e){return d.support.transition&&e.length&&e[0].offsetWidth},_transition:function(t){var i=d.Deferred();return d.support.transition&&t.hasClass("fade")&&t.is(":visible")?t.bind(d.support.transition.end,function(e){e.target===t[0]&&(t.unbind(d.support.transition.end),i.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),i.resolveWith(t)),i},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),i=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),i.find(".start").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),i.find(".cancel").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),i.find(".toggle:checked").closest(".template-download").find(".delete").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(e){i.find(".toggle").prop("checked",d(e.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar").find(".start, .cancel, .delete"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start":this._startHandler,"click .cancel":this._cancelHandler,"click .delete":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName")),t&&(e.uploadTemplateId&&(e.uploadTemplate=t(e.uploadTemplateId)),e.downloadTemplateId&&(e.downloadTemplate=t(e.downloadTemplateId)))},_initFilesContainer:function(){var e=this.options;void 0===e.filesContainer?e.filesContainer=this.element.find(".files"):e.filesContainer instanceof d||(e.filesContainer=d(e.filesContainer))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates()},_create:function(){this._super(),this._resetFinishedDeferreds(),d.support.fileInput||this._disableFileInputButton()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","./jquery.fileupload-process"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}(function(o){"use strict";o.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"}),o.widget("blueimp.fileupload",o.blueimp.fileupload,{options:{getNumberOfFiles:o.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(e,i){if(i.disabled)return e;var r,l=o.Deferred(),s=this.options,t=e.files[e.index];return(i.minFileSize||i.maxFileSize)&&(r=t.size),"number"===o.type(i.maxNumberOfFiles)&&(s.getNumberOfFiles()||0)+e.files.length>i.maxNumberOfFiles?t.error=s.i18n("maxNumberOfFiles"):!i.acceptFileTypes||i.acceptFileTypes.test(t.type)||i.acceptFileTypes.test(t.name)?r>i.maxFileSize?t.error=s.i18n("maxFileSize"):"number"===o.type(r)&&r<i.minFileSize?t.error=s.i18n("minFileSize"):delete t.error:t.error=s.i18n("acceptFileTypes"),t.error||e.files.error?(e.files.error=!0,l.rejectWith(this,[e])):l.resolveWith(this,[e]),l.promise()}}})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):"object"==typeof exports?e(require("jquery"),require("./vendor/jquery.ui.widget")):e(window.jQuery)}(function(m){"use strict";function e(i){var r="dragover"===i;return function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=e.dataTransfer;t&&-1!==m.inArray("Files",t.types)&&!1!==this._trigger(i,m.Event(i,{delegatedEvent:e}))&&(e.preventDefault(),r&&(t.dropEffect="copy"))}}m.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||m('<input type="file">').prop("disabled")),m.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),m.support.xhrFormDataFileUpload=!!window.FormData,m.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),m.widget("blueimp.fileupload",{options:{dropZone:m(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(i,e){return i=this.messages[i]||i.toString(),e&&m.each(e,function(e,t){i=i.replace("{"+e+"}",t)}),i},formData:function(e){return e.serializeArray()},add:function(e,t){if(e.isDefaultPrevented())return!1;(t.autoUpload||!1!==t.autoUpload&&m(this).fileupload("option","autoUpload"))&&t.process().done(function(){t.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:m.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var r=e-this.timestamp;return(!this.bitrate||!i||i<r)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&m.support.xhrFileUpload||m.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"===m.type(e.formData)?e.formData(e.form):m.isArray(e.formData)?e.formData:"object"===m.type(e.formData)?(i=[],m.each(e.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(e){var i=0;return m.each(e,function(e,t){i+=t.size||1}),i},_initProgressObject:function(e){var t={loaded:0,total:0,bitrate:0};e._progress?m.extend(e._progress,t):e._progress=t},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(t._time&&t.progressInterval&&r-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=r,i=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=i-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=i,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(r,i,t.bitrateInterval),this._trigger("progress",m.Event("progress",{delegatedEvent:e}),t),this._trigger("progressall",m.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(i){var r=this,e=i.xhr?i.xhr():m.ajaxSettings.xhr();e.upload&&(m(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,r._onProgress(e,i)}),i.xhr=function(){return e})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(i){var r,n=this,e=i.files[0],t=i.multipart||!m.support.xhrFileUpload,o="array"===m.type(i.paramName)?i.paramName[0]:i.paramName;i.headers=m.extend({},i.headers),i.contentRange&&(i.headers["Content-Range"]=i.contentRange),t&&!i.blob&&this._isInstanceOf("File",e)||(i.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"'),t?m.support.xhrFormDataFileUpload&&(i.postMessage?(r=this._getFormData(i),i.blob?r.push({name:o,value:i.blob}):m.each(i.files,function(e,t){r.push({name:"array"===m.type(i.paramName)&&i.paramName[e]||o,value:t})})):(n._isInstanceOf("FormData",i.formData)?r=i.formData:(r=new FormData,m.each(this._getFormData(i),function(e,t){r.append(t.name,t.value)})),i.blob?r.append(o,i.blob,e.name):m.each(i.files,function(e,t){(n._isInstanceOf("File",t)||n._isInstanceOf("Blob",t))&&r.append("array"===m.type(i.paramName)&&i.paramName[e]||o,t,t.uploadName||t.name)})),i.data=r):(i.contentType=e.type||"application/octet-stream",i.data=i.blob||e),i.blob=null},_initIframeSettings:function(e){var t=m("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&t&&t!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(e){var t=m(e.fileInput),r=e.paramName;return r?m.isArray(r)||(r=[r]):(r=[],t.each(function(){for(var e=m(this),t=e.prop("name")||"files[]",i=(e.prop("files")||[1]).length;i;)r.push(t),i-=1}),r.length||(r=[t.prop("name")||"files[]"])),r},_initFormSettings:function(e){e.form&&e.form.length||(e.form=m(e.fileInput.prop("form")),e.form.length||(e.form=m(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===m.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=m.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,i){var r=m.Deferred(),n=r.promise();return t=t||this.options.context||n,!0===e?r.resolveWith(t,i):!1===e&&r.rejectWith(t,i),n.abort=r.promise,this._enhancePromise(n)},_addConvenienceMethods:function(e,i){var r=this,n=function(e){return m.Deferred().resolveWith(r,e).promise()};i.process=function(e,t){return(e||t)&&(i._processQueue=this._processQueue=(this._processQueue||n([this])).pipe(function(){return i.errorThrown?m.Deferred().rejectWith(r,[i]).promise():n(arguments)}).pipe(e,t)),this._processQueue||n([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=!1!==r._trigger("submit",m.Event("submit",{delegatedEvent:e}),this)&&r._onSend(e,this)),this.jqXHR||r._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},i.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===r._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),r=i&&1<i.length&&parseInt(i[1],10);return r&&r+1},_chunkedUpload:function(o,e){o.uploadedBytes=o.uploadedBytes||0;var t,s,a=this,i=o.files[0],l=i.size,p=o.uploadedBytes,u=o.maxChunkSize||l,d=this._blobSlice,h=m.Deferred(),r=h.promise();return!(!(this._isXHRUpload(o)&&d&&(p||u<l))||o.data)&&(!!e||(l<=p?(i.error=o.i18n("uploadedBytes"),this._getXHRPromise(!1,o.context,[null,"error",i.error])):(s=function(){var r=m.extend({},o),n=r._progress.loaded;r.blob=d.call(i,p,p+u,i.type),r.chunkSize=r.blob.size,r.contentRange="bytes "+p+"-"+(p+r.chunkSize-1)+"/"+l,a._initXHRData(r),a._initProgressListener(r),t=(!1!==a._trigger("chunksend",null,r)&&m.ajax(r)||a._getXHRPromise(!1,r.context)).done(function(e,t,i){p=a._getUploadedBytes(i)||p+r.chunkSize,n+r.chunkSize-r._progress.loaded&&a._onProgress(m.Event("progress",{lengthComputable:!0,loaded:p-r.uploadedBytes,total:p-r.uploadedBytes}),r),o.uploadedBytes=r.uploadedBytes=p,r.result=e,r.textStatus=t,r.jqXHR=i,a._trigger("chunkdone",null,r),a._trigger("chunkalways",null,r),p<l?s():h.resolveWith(r.context,[e,t,i])}).fail(function(e,t,i){r.jqXHR=e,r.textStatus=t,r.errorThrown=i,a._trigger("chunkfail",null,r),a._trigger("chunkalways",null,r),h.rejectWith(r.context,[e,t,i])})},this._enhancePromise(r),r.abort=function(){return t.abort()},s(),r)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(e,t,i,r){var n=r._progress.total,o=r._response;r._progress.loaded<n&&this._onProgress(m.Event("progress",{lengthComputable:!0,loaded:n,total:n}),r),o.result=r.result=e,o.textStatus=r.textStatus=t,o.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(e,t,i,r){var n=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),n.jqXHR=r.jqXHR=e,n.textStatus=r.textStatus=t,n.errorThrown=r.errorThrown=i,this._trigger("fail",null,r)},_onAlways:function(e,t,i,r){this._trigger("always",null,r)},_onSend:function(e,t){t.submit||this._addConvenienceMethods(e,t);var i,r,n,o,s=this,a=s._getAJAXSettings(t),l=function(){return s._sending+=1,a._bitrateTimer=new s._BitrateTimer,i=i||((r||!1===s._trigger("send",m.Event("send",{delegatedEvent:e}),a))&&s._getXHRPromise(!1,a.context,r)||s._chunkedUpload(a)||m.ajax(a)).done(function(e,t,i){s._onDone(e,t,i,a)}).fail(function(e,t,i){s._onFail(e,t,i,a)}).always(function(e,t,i){if(s._onAlways(e,t,i,a),s._sending-=1,s._active-=1,a.limitConcurrentUploads&&a.limitConcurrentUploads>s._sending)for(var r=s._slots.shift();r;){if("pending"===s._getDeferredState(r)){r.resolve();break}r=s._slots.shift()}0===s._active&&s._trigger("stop")})};return this._beforeSend(e,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(1<this.options.limitConcurrentUploads?(n=m.Deferred(),this._slots.push(n),o=n.pipe(l)):(this._sequence=this._sequence.pipe(l,l),o=this._sequence),o.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(n&&n.rejectWith(a.context,r),l())},this._enhancePromise(o)):l()},_onAdd:function(r,n){var o,e,s,t,a=this,l=!0,i=m.extend({},this.options,n),p=n.files,u=p.length,d=i.limitMultiFileUploads,h=i.limitMultiFileUploadSize,c=i.limitMultiFileUploadSizeOverhead,f=0,g=this._getParamName(i),_=0;if(!h||u&&void 0!==p[0].size||(h=void 0),(i.singleFileUploads||d||h)&&this._isXHRUpload(i))if(i.singleFileUploads||h||!d)if(!i.singleFileUploads&&h)for(s=[],o=[],t=0;t<u;t+=1)f+=p[t].size+c,(t+1===u||f+p[t+1].size+c>h||d&&d<=t+1-_)&&(s.push(p.slice(_,t+1)),(e=g.slice(_,t+1)).length||(e=g),o.push(e),_=t+1,f=0);else o=g;else for(s=[],o=[],t=0;t<u;t+=d)s.push(p.slice(t,t+d)),(e=g.slice(t,t+d)).length||(e=g),o.push(e);else s=[p],o=[g];return n.originalFiles=p,m.each(s||p,function(e,t){var i=m.extend({},n);return i.files=s?t:[t],i.paramName=o[e],a._initResponseObject(i),a._initProgressObject(i),a._addConvenienceMethods(r,i),l=a._trigger("add",m.Event("add",{delegatedEvent:r}),i)}),l},_replaceFileInput:function(e){var i=e.fileInput,r=i.clone(!0);e.fileInputClone=r,m("<form></form>").append(r)[0].reset(),i.after(r).detach(),m.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?r[0]:t}),i[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(i,r){var e,n=this,o=m.Deferred(),s=function(e){e&&!e.entry&&(e.entry=i),o.resolve([e])},a=function(){e.readEntries(function(e){var t;e.length?(l=l.concat(e),a()):(t=l,n._handleFileTreeEntries(t,r+i.name+"/").done(function(e){o.resolve(e)}).fail(s))},s)},l=[];return r=r||"",i.isFile?i._file?(i._file.relativePath=r,o.resolve(i._file)):i.file(function(e){e.relativePath=r,o.resolve(e)},s):i.isDirectory?(e=i.createReader(),a()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,t){var i=this;return m.when.apply(m,m.map(e,function(e){return i._handleFileTreeEntry(e,t)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(m.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):m.Deferred().resolve(m.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,i,r=(e=m(e)).prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if((t=m.makeArray(e.prop("files"))).length)void 0===t[0].name&&t[0].fileName&&m.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(i=e.prop("value")))return m.Deferred().resolve([]).promise();t=[{name:i.replace(/^.*\\/,"")}]}return m.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof m&&1!==e.length?m.when.apply(m,m.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var i=this,r={fileInput:m(t.target),form:m(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(e){r.files=e,i.options.replaceFileInput&&i._replaceFileInput(r),!1!==i._trigger("change",m.Event("change",{delegatedEvent:t}),r)&&i._onAdd(t,r)})},_onPaste:function(e){var t=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,r={files:[]};t&&t.length&&(m.each(t,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&r.files.push(i)}),!1!==this._trigger("paste",m.Event("paste",{delegatedEvent:e}),r)&&this._onAdd(e,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var i=this,e=t.dataTransfer,r={};e&&e.files&&e.files.length&&(t.preventDefault(),this._getDroppedFiles(e).always(function(e){r.files=e,!1!==i._trigger("drop",m.Event("drop",{delegatedEvent:t}),r)&&i._onAdd(t,r)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),m.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,t){var i=-1!==m.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,t),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof m||(e.fileInput=m(e.fileInput)),e.dropZone instanceof m||(e.dropZone=m(e.dropZone)),e.pasteZone instanceof m||(e.pasteZone=m(e.pasteZone))},_getRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(e,t){return"url"!==e&&"string"===m.type(t)&&/^\/.*\/[igm]{0,3}$/.test(t)},_initDataAttributes:function(){var n=this,o=this.options,s=this.element.data();m.each(this.element[0].attributes,function(e,t){var i,r=t.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(e){return e.charAt(1).toUpperCase()}),i=s[r],n._isRegExpOption(r,i)&&(i=n._getRegExp(i)),o[r]=i)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=m.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,r,n=this,o=m.Deferred(),e=o.promise();return e.abort=function(){return r=!0,i?i.abort():(o.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){r||(e.length?(t.files=e,(i=n._onSend(null,t)).then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)})):o.reject())}),this._enhancePromise(e)}if(t.files=m.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})});
!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(window.jQuery)}(function(m){"use strict";var n=0;m.ajaxTransport("iframe",function(a){if(a.async){var o,i,t,p=a.initialIframeSrc||"javascript:false;";return{send:function(e,r){(o=m('<form style="display:none;"></form>')).attr("accept-charset",a.formAcceptCharset),t=/\?/.test(a.url)?"&":"?","DELETE"===a.type?(a.url=a.url+t+"_method=DELETE",a.type="POST"):"PUT"===a.type?(a.url=a.url+t+"_method=PUT",a.type="POST"):"PATCH"===a.type&&(a.url=a.url+t+"_method=PATCH",a.type="POST"),i=m('<iframe src="'+p+'" name="iframe-transport-'+(n+=1)+'"></iframe>').bind("load",function(){var n,t=m.isArray(a.paramName)?a.paramName:[a.paramName];i.unbind("load").bind("load",function(){var t;try{if(!(t=i.contents()).length||!t[0].firstChild)throw new Error}catch(e){t=void 0}r(200,"success",{iframe:t}),m('<iframe src="'+p+'"></iframe>').appendTo(o),window.setTimeout(function(){o.remove()},0)}),o.prop("target",i.prop("name")).prop("action",a.url).prop("method",a.type),a.formData&&m.each(a.formData,function(e,t){m('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(o)}),a.fileInput&&a.fileInput.length&&"POST"===a.type&&(n=a.fileInput.clone(),a.fileInput.after(function(e){return n[e]}),a.paramName&&a.fileInput.each(function(e){m(this).prop("name",t[e]||a.paramName)}),o.append(a.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),a.fileInput.removeAttr("form")),o.submit(),n&&n.length&&a.fileInput.each(function(e,t){var r=m(n[e]);m(t).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(t)})}),o.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src",p),o&&o.remove()}}}}),m.ajaxSetup({converters:{"iframe text":function(e){return e&&m(e[0].body).text()},"iframe json":function(e){return e&&m.parseJSON(m(e[0].body).text())},"iframe html":function(e){return e&&m(e[0].body).html()},"iframe xml":function(e){var t=e&&e[0];return t&&m.isXMLDoc(t)?t:m.parseXML(t.XMLDocument&&t.XMLDocument.xml||m(t.body).html())},"iframe script":function(e){return e&&m.globalEval(m(e[0].body).text())}}})});
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(h,r){var i=0,u=Array.prototype.slice,n=h.cleanData;h.cleanData=function(t){for(var e,i=0;null!=(e=t[i]);i++)try{h(e).triggerHandler("remove")}catch(t){}n(t)},h.widget=function(t,i,e){var n,s,o,a,r={},u=t.split(".")[0];t=t.split(".")[1],n=u+"-"+t,e||(e=i,i=h.Widget),h.expr[":"][n.toLowerCase()]=function(t){return!!h.data(t,n)},h[u]=h[u]||{},s=h[u][t],o=h[u][t]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},h.extend(o,s,{version:e.version,_proto:h.extend({},e),_childConstructors:[]}),(a=new i).options=h.widget.extend({},a.options),h.each(e,function(e,n){var s,o;h.isFunction(n)?r[e]=(s=function(){return i.prototype[e].apply(this,arguments)},o=function(t){return i.prototype[e].apply(this,t)},function(){var t,e=this._super,i=this._superApply;return this._super=s,this._superApply=o,t=n.apply(this,arguments),this._super=e,this._superApply=i,t}):r[e]=n}),o.prototype=h.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix:t},r,{constructor:o,namespace:u,widgetName:t,widgetFullName:n}),s?(h.each(s._childConstructors,function(t,e){var i=e.prototype;h.widget(i.namespace+"."+i.widgetName,o,e._proto)}),delete s._childConstructors):i._childConstructors.push(o),h.widget.bridge(t,o)},h.widget.extend=function(t){for(var e,i,n=u.call(arguments,1),s=0,o=n.length;s<o;s++)for(e in n[s])i=n[s][e],n[s].hasOwnProperty(e)&&i!==r&&(h.isPlainObject(i)?t[e]=h.isPlainObject(t[e])?h.widget.extend({},t[e],i):h.widget.extend({},i):t[e]=i);return t},h.widget.bridge=function(o,e){var a=e.prototype.widgetFullName||o;h.fn[o]=function(i){var t="string"==typeof i,n=u.call(arguments,1),s=this;return i=!t&&n.length?h.widget.extend.apply(null,[i].concat(n)):i,t?this.each(function(){var t,e=h.data(this,a);return e?h.isFunction(e[i])&&"_"!==i.charAt(0)?(t=e[i].apply(e,n))!==e&&t!==r?(s=t&&t.jquery?s.pushStack(t.get()):t,!1):void 0:h.error("no such method '"+i+"' for "+o+" widget instance"):h.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):this.each(function(){var t=h.data(this,a);t?t.option(i||{})._init():h.data(this,a,new e(i,this))}),s}},h.Widget=function(){},h.Widget._childConstructors=[],h.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,e){e=h(e||this.defaultElement||this)[0],this.element=h(e),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=h.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=h(),this.hoverable=h(),this.focusable=h(),e!==this&&(h.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=h(e.style?e.ownerDocument:e.document||e),this.window=h(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:h.noop,_getCreateEventData:h.noop,_create:h.noop,_init:h.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(h.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:h.noop,widget:function(){return this.element},option:function(t,e){var i,n,s,o=t;if(0===arguments.length)return h.widget.extend({},this.options);if("string"==typeof t)if(o={},t=(i=t.split(".")).shift(),i.length){for(n=o[t]=h.widget.extend({},this.options[t]),s=0;s<i.length-1;s++)n[i[s]]=n[i[s]]||{},n=n[i[s]];if(t=i.pop(),e===r)return n[t]===r?null:n[t];n[t]=e}else{if(e===r)return this.options[t]===r?null:this.options[t];o[t]=e}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,r,t){var u,d=this;"boolean"!=typeof a&&(t=r,r=a,a=!1),t?(r=u=h(r),this.bindings=this.bindings.add(r)):(t=r,r=this.element,u=this.widget()),h.each(t,function(t,e){function i(){if(a||!0!==d.options.disabled&&!h(this).hasClass("ui-state-disabled"))return("string"==typeof e?d[e]:e).apply(d,arguments)}"string"!=typeof e&&(i.guid=e.guid=e.guid||i.guid||h.guid++);var n=t.match(/^(\w+)\s*(.*)$/),s=n[1]+d.eventNamespace,o=n[2];o?u.delegate(o,s,i):r.bind(s,i)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){h(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){h(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){h(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){h(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,e,i){var n,s,o=this.options[t];if(i=i||{},(e=h.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],s=e.originalEvent)for(n in s)n in e||(e[n]=s[n]);return this.element.trigger(e,i),!(h.isFunction(o)&&!1===o.apply(this.element[0],[e].concat(i))||e.isDefaultPrevented())}},h.each({show:"fadeIn",hide:"fadeOut"},function(o,a){h.Widget.prototype["_"+o]=function(e,t,i){"string"==typeof t&&(t={effect:t});var n,s=t?!0===t||"number"==typeof t?a:t.effect||a:o;"number"==typeof(t=t||{})&&(t={duration:t}),n=!h.isEmptyObject(t),t.complete=i,t.delay&&e.delay(t.delay),n&&h.effects&&h.effects.effect[s]?e[o](t):s!==o&&e[s]?e[s](t.duration,t.easing,i):e.queue(function(t){h(this)[o](),i&&i.call(e[0]),t()})}})});
(function(e){"use strict";var v=function(e,i,t){var a,n,o=document.createElement("img");if(o.onerror=i,o.onload=function(){!n||t&&t.noRevoke||v.revokeObjectURL(n),i&&i(v.scale(o,t))},v.isInstanceOf("Blob",e)||v.isInstanceOf("File",e))a=n=v.createObjectURL(e),o._type=e.type;else{if("string"!=typeof e)return!1;a=e,t&&t.crossOrigin&&(o.crossOrigin=t.crossOrigin)}return a?(o.src=a,o):v.readFile(e,function(e){var t=e.target;t&&t.result?o.src=t.result:i&&i(e)})},t=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;v.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},v.transformCoordinates=function(){},v.getTransformedOptions=function(e){return e},v.renderImageToCanvas=function(e,t,i,a,n,o,r,s,d,l){return e.getContext("2d").drawImage(t,i,a,n,o,r,s,d,l),e},v.hasCanvasOption=function(e){return e.canvas||e.crop},v.scale=function(e,t){t=t||{};var i,a,n,o,r,s,d,l,c,u=document.createElement("canvas"),g=e.getContext||v.hasCanvasOption(t)&&u.getContext,f=e.naturalWidth||e.width,h=e.naturalHeight||e.height,m=f,p=h,S=function(){var e=Math.max((n||m)/m,(o||p)/p);1<e&&(m=Math.ceil(m*e),p=Math.ceil(p*e))},b=function(){var e=Math.min((i||m)/m,(a||p)/p);e<1&&(m=Math.ceil(m*e),p=Math.ceil(p*e))};return g&&(d=(t=v.getTransformedOptions(t)).left||0,l=t.top||0,t.sourceWidth?(r=t.sourceWidth,void 0!==t.right&&void 0===t.left&&(d=f-r-t.right)):r=f-d-(t.right||0),t.sourceHeight?(s=t.sourceHeight,void 0!==t.bottom&&void 0===t.top&&(l=h-s-t.bottom)):s=h-l-(t.bottom||0),m=r,p=s),i=t.maxWidth,a=t.maxHeight,n=t.minWidth,o=t.minHeight,g&&i&&a&&t.crop?(c=r/s-(m=i)/(p=a))<0?(s=a*r/i,void 0===t.top&&void 0===t.bottom&&(l=(h-s)/2)):0<c&&(r=i*s/a,void 0===t.left&&void 0===t.right&&(d=(f-r)/2)):((t.contain||t.cover)&&(n=i=i||n,o=a=a||o),t.cover?(b(),S()):(S(),b())),g?(u.width=m,u.height=p,v.transformCoordinates(u,t),v.renderImageToCanvas(u,e,d,l,r,s,0,0,m,p)):(e.width=m,e.height=p,e)},v.createObjectURL=function(e){return!!t&&t.createObjectURL(e)},v.revokeObjectURL=function(e){return!!t&&t.revokeObjectURL(e)},v.readFile=function(e,t,i){if(window.FileReader){var a=new FileReader;if(a.onload=a.onerror=t,a[i=i||"readAsDataURL"])return a[i](e),a}return!1},"function"==typeof define&&define.amd?define(function(){return v}):e.loadImage=v})(this),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(b){"use strict";if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var v=b.renderImageToCanvas;b.detectSubsampling=function(e){var t,i;return 1048576<e.width*e.height&&((t=document.createElement("canvas")).width=t.height=1,(i=t.getContext("2d")).drawImage(e,1-e.width,0),0===i.getImageData(0,0,1,1).data[3])},b.detectVerticalSquash=function(e,t){var i,a,n,o,r=e.naturalHeight||e.height,s=document.createElement("canvas"),d=s.getContext("2d");for(t&&(r/=2),s.width=1,s.height=r,d.drawImage(e,0,0),i=d.getImageData(0,0,1,r).data,a=0,o=n=r;a<o;)0===i[4*(o-1)+3]?n=o:a=o,o=n+a>>1;return o/r||1},b.renderImageToCanvas=function(e,t,i,a,n,o,r,s,d,l){if("image/jpeg"===t._type){var c,u,g,f,h=e.getContext("2d"),m=document.createElement("canvas"),p=1024,S=m.getContext("2d");if(m.width=p,m.height=p,h.save(),(c=b.detectSubsampling(t))&&(i/=2,a/=2,n/=2,o/=2),u=b.detectVerticalSquash(t,c),c||1!==u){for(a*=u,d=Math.ceil(p*d/n),l=Math.ceil(p*l/o/u),f=s=0;f<o;){for(g=r=0;g<n;)S.clearRect(0,0,p,p),S.drawImage(t,i,a,n,o,-g,-f,n,o),h.drawImage(m,0,0,p,p,r,s,d,l),g+=p,r+=d;f+=p,s+=l}return h.restore(),e}}return v(e,t,i,a,n,o,r,s,d,l)}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption;e.hasCanvasOption=function(e){return t(e)||e.orientation},e.transformCoordinates=function(e,t){var i=e.getContext("2d"),a=e.width,n=e.height,o=t.orientation;if(o)switch(4<o&&(e.width=n,e.height=a),o){case 2:i.translate(a,0),i.scale(-1,1);break;case 3:i.translate(a,n),i.rotate(Math.PI);break;case 4:i.translate(0,n),i.scale(1,-1);break;case 5:i.rotate(.5*Math.PI),i.scale(1,-1);break;case 6:i.rotate(.5*Math.PI),i.translate(0,-n);break;case 7:i.rotate(.5*Math.PI),i.translate(a,-n),i.scale(-1,1);break;case 8:i.rotate(-.5*Math.PI),i.translate(-a,0)}},e.getTransformedOptions=function(e){if(!e.orientation||1===e.orientation)return e;var t,i={};for(t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);switch(e.orientation){case 2:i.left=e.right,i.right=e.left;break;case 3:i.left=e.right,i.top=e.bottom,i.right=e.left,i.bottom=e.top;break;case 4:i.top=e.bottom,i.bottom=e.top;break;case 5:i.left=e.top,i.top=e.left,i.right=e.bottom,i.bottom=e.right;break;case 6:i.left=e.top,i.top=e.right,i.right=e.bottom,i.bottom=e.left;break;case 7:i.left=e.bottom,i.top=e.right,i.right=e.top,i.bottom=e.left;break;case 8:i.left=e.bottom,i.top=e.left,i.right=e.top,i.bottom=e.right}return 4<e.orientation&&(i.maxWidth=e.maxHeight,i.maxHeight=e.maxWidth,i.minWidth=e.minHeight,i.minHeight=e.minWidth,i.sourceWidth=e.sourceHeight,i.sourceHeight=e.sourceWidth),i}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image"],e):e(window.loadImage)}(function(h){"use strict";var e=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);h.blobSlice=e&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},h.metaDataParsers={jpeg:{65505:[]}},h.parseMetaData=function(e,c,u){var g=this,t=(u=u||{}).maxMetaDataSize||262144,f={};(!(window.DataView&&e&&12<=e.size&&"image/jpeg"===e.type&&h.blobSlice)||!h.readFile(h.blobSlice.call(e,0,t),function(e){var t,i,a,n,o=e.target.result,r=new DataView(o),s=2,d=r.byteLength-4,l=s;if(65496===r.getUint16(0)){for(;s<d&&(65504<=(t=r.getUint16(s))&&t<=65519||65534===t);){if(s+(i=r.getUint16(s+2)+2)>r.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(a=h.metaDataParsers.jpeg[t])for(n=0;a.length>n;n+=1)a[n].call(g,r,s,i,f,u);l=s+=i}!u.disableImageHead&&6<l&&(f.imageHead=o.slice?o.slice(0,l):new Uint8Array(o).subarray(0,l))}else console.log("Invalid JPEG file: Missing JPEG marker.");c(f)},"readAsArrayBuffer"))&&c(f)}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-meta"],e):e(window.loadImage)}(function(f){"use strict";f.ExifMap=function(){return this},f.ExifMap.prototype.map={Orientation:274},f.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},f.getExifThumbnail=function(e,t,i){var a,n,o;if(i&&!(t+i>e.byteLength)){for(a=[],n=0;n<i;n+=1)o=e.getUint8(t+n),a.push((o<16?"0":"")+o.toString(16));return"data:image/jpeg,%"+a.join("%")}console.log("Invalid Exif data: Invalid thumbnail data.")},f.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},f.exifTagTypes[7]=f.exifTagTypes[1],f.getExifValue=function(e,t,i,a,n,o){var r,s,d,l,c,u,g=f.exifTagTypes[a];if(g){if(!((s=4<(r=g.size*n)?t+e.getUint32(i+8,o):i+8)+r>e.byteLength)){if(1===n)return g.getValue(e,s,o);for(d=[],l=0;l<n;l+=1)d[l]=g.getValue(e,s+l*g.size,o);if(g.ascii){for(c="",l=0;d.length>l&&"\0"!==(u=d[l]);l+=1)c+=u;return c}return d}console.log("Invalid Exif data: Invalid data offset.")}else console.log("Invalid Exif data: Invalid tag type.")},f.parseExifTag=function(e,t,i,a,n){var o=e.getUint16(i,a);n.exif[o]=f.getExifValue(e,t,i,e.getUint16(i+2,a),e.getUint32(i+4,a),a)},f.parseExifTags=function(e,t,i,a,n){var o,r,s;if(i+6>e.byteLength)console.log("Invalid Exif data: Invalid directory offset.");else{if(!((r=i+2+12*(o=e.getUint16(i,a)))+4>e.byteLength)){for(s=0;s<o;s+=1)this.parseExifTag(e,t,i+2+12*s,a,n);return e.getUint32(r,a)}console.log("Invalid Exif data: Invalid directory size.")}},f.parseExifData=function(e,t,i,a,n){if(!n.disableExif){var o,r,s,d=t+10;if(1165519206===e.getUint32(t+4)){if(d+8>e.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==e.getUint16(t+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(e.getUint16(d)){case 18761:o=!0;break;case 19789:o=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==e.getUint16(d+2,o))return void console.log("Invalid Exif data: Missing TIFF marker.");r=e.getUint32(d+4,o),a.exif=new f.ExifMap,(r=f.parseExifTags(e,d,d+r,o,a))&&!n.disableExifThumbnail&&(s={exif:{}},r=f.parseExifTags(e,d,d+r,o,s),s.exif[513]&&(a.exif.Thumbnail=f.getExifThumbnail(e,d+s.exif[513],s.exif[514]))),a.exif[34665]&&!n.disableExifSub&&f.parseExifTags(e,d,d+a.exif[34665],o,a),a.exif[34853]&&!n.disableExifGps&&f.parseExifTags(e,d,d+a.exif[34853],o,a)}}},f.metaDataParsers.jpeg[65505].push(f.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["load-image","load-image-exif"],e):e(window.loadImage)}(function(e){"use strict";var a,t,i;for(i in e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return t+""},a=e.ExifMap.prototype.tags,t=e.ExifMap.prototype.map,a)a.hasOwnProperty(i)&&(t[a[i]]=i);e.ExifMap.prototype.getAll=function(){var e,t,i={};for(e in this)this.hasOwnProperty(e)&&((t=a[e])&&(i[t]=this.getText(t)));return i}});
!function(n){"use strict";var r=function(n,e){var t=/[^\w\-\.:]/.test(n)?new Function(r.arg+",tmpl","var _e=tmpl.encode"+r.helper+",_s='"+n.replace(r.regexp,r.func)+"';return _s;"):r.cache[n]=r.cache[n]||r(r.load(n));return e?t(e,r):function(n){return t(n,r)}};r.cache={},r.load=function(n){return document.getElementById(n).innerHTML},r.regexp=/([\s'\\])(?!(?:[^{]|\{(?!%))*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,r.func=function(n,e,t,r,c,u){return e?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[e]||"\\"+e:t?"="===t?"'+_e("+r+")+'":"'+("+r+"==null?'':"+r+")+'":c?"';":u?"_s+='":void 0},r.encReg=/[<>&"'\x00]/g,r.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},r.encode=function(n){return(null==n?"":""+n).replace(r.encReg,function(n){return r.encMap[n]||""})},r.arg="o",r.helper=",print=function(s,e){_s+=e?(s==null?'':s):_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return r}):n.tmpl=r}(this);
require(["bforms-initUI"],function(){var i=function(i){this.options=$.extend(!0,{},i)};i.prototype.init=function(){this.$demoForm=$(".js-demoForm"),this.$demoForm.bsInitUI(this.options.styleInputs)},$(document).ready(function(){new i(requireConfig.pageOptions).init()})});
tinymce.ThemeManager.add("modern",function(l){var s=this,u=l.settings,c=tinymce.ui.Factory,d=tinymce.each,m=tinymce.DOM,h={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},n="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";function f(){var t=[];function e(e){var i,n=[];if(e)return d(e.split(/[ ,]/),function(o){var t;function e(){var e=l.selection;"bullist"==t&&e.selectorChanged("ul > li",function(e,t){for(var i,n=t.parents.length;n--&&"OL"!=(i=t.parents[n].nodeName)&&"UL"!=i;);o.active(e&&"UL"==i)}),"numlist"==t&&e.selectorChanged("ol > li",function(e,t){for(var i,n=t.parents.length;n--&&"OL"!=(i=t.parents[n].nodeName)&&"UL"!=i;);o.active(e&&"OL"==i)}),o.settings.stateSelector&&e.selectorChanged(o.settings.stateSelector,function(e){o.active(e)},!0),o.settings.disabledStateSelector&&e.selectorChanged(o.settings.disabledStateSelector,function(e){o.disabled(e)})}"|"==o?i=null:c.has(o)?(o={type:o},u.toolbar_items_size&&(o.size=u.toolbar_items_size),n.push(o),i=null):(i||(i={type:"buttongroup",items:[]},n.push(i)),l.buttons[o]&&(t=o,"function"==typeof(o=l.buttons[t])&&(o=o()),o.type=o.type||"button",u.toolbar_items_size&&(o.size=u.toolbar_items_size),o=c.create(o),i.items.push(o),l.initialized?e():l.on("init",e)))}),t.push({type:"toolbar",layout:"flow",items:n}),!0}if(tinymce.isArray(u.toolbar)){if(0===u.toolbar.length)return;tinymce.each(u.toolbar,function(e,t){u["toolbar"+(t+1)]=e}),delete u.toolbar}for(var i=1;i<10&&e(u["toolbar"+i]);i++);if(t.length||!1===u.toolbar||e(u.toolbar||n),t.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:t}}function b(){var e,t=[];function s(e){return"|"==e?{text:"|"}:l.menuItems[e]}function i(t){var e,i,n,o,r;if(r=tinymce.makeMap((u.removed_menuitems||"").split(/[ ,]/)),u.menu?(i=u.menu[t],o=!0):i=h[t],i){e={text:i.title},n=[],d((i.items||"").split(/[ ,]/),function(e){s(e)&&!r[e]&&n.push(s(e))}),o||d(l.menuItems,function(e){e.context==t&&("before"==e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"==e.separator&&n.push({text:"|"}))});for(var a=0;a<n.length;a++)"|"==n[a].text&&(0!==a&&a!=n.length-1||n.splice(a,1));if(e.menu=n,!e.menu.length)return null}return e}var n=[];if(u.menu)for(e in u.menu)n.push(e);else for(e in h)n.push(e);for(var o="string"==typeof u.menubar?u.menubar.split(/[ ,]/):n,r=0;r<o.length;r++){var a=o[r];(a=i(a))&&t.push(a)}return t}function p(i){function e(e){var t=i.find(e)[0];t&&t.focus(!0)}l.shortcuts.add("Alt+F9","",function(){e("menubar")}),l.shortcuts.add("Alt+F10","",function(){e("toolbar")}),l.shortcuts.add("Alt+F11","",function(){e("elementpath")}),i.on("cancel",function(){l.focus()})}function y(e,t){var i,n,o,r;function a(e){return{width:e.clientWidth,height:e.clientHeight}}i=l.getContainer(),n=l.getContentAreaContainer().firstChild,o=a(i),r=a(n),null!==e&&(e=Math.max(u.min_width||100,e),e=Math.min(u.max_width||65535,e),m.setStyle(i,"width",e+(o.width-r.width)),m.setStyle(n,"width",e)),t=Math.max(u.min_height||100,t),t=Math.min(u.max_height||65535,t),m.setStyle(n,"height",t),l.fire("ResizeEditor")}s.renderUI=function(e){var t,i,n,o,r=!1!==u.skin&&(u.skin||"lightgray");if(r){var a=u.skin_url;a=a?l.documentBaseURI.toAbsolute(a):tinymce.baseURL+"/skins/"+r,tinymce.Env.documentMode<=7?e.skinUiCss=a+"/skin.ie7.min.css":e.skinUiCss=a+"/skin.min.css",l.contentCSS.push(a+"/content"+(l.inline?".inline":"")+".min.css")}return l.on("ProgressState",function(e){s.throbber=s.throbber||new tinymce.ui.Throbber(s.panel.getEl("body")),e.state?s.throbber.show(e.time):s.throbber.hide()}),u.inline?function(e){var a,t;function i(){if(a&&a.moveRel&&a.visible()&&!a._fixed){var e=l.selection.getScrollContainer(),t=l.getBody(),i=0,n=0;if(e){var o=m.getPos(t),r=m.getPos(e);i=Math.max(0,r.x-o.x),n=Math.max(0,r.y-o.y)}a.fixed(!1).moveRel(t,l.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,n)}}function n(){a&&(a.show(),i(),m.addClass(l.getBody(),"mce-edit-focus"))}function o(){a&&(a.hide(),m.removeClass(l.getBody(),"mce-edit-focus"))}function r(){a?a.visible()||n():(a=s.panel=c.create({type:t?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!t,border:1,items:[!1===u.menubar?null:{type:"menubar",border:"0 0 1 0",items:b()},f()]}),l.fire("BeforeRenderUI"),a.renderTo(t||document.body).reflow(),p(a),n(),l.on("nodeChange",i),l.on("activate",n),l.on("deactivate",o),l.nodeChanged())}return u.fixed_toolbar_container&&(t=m.select(u.fixed_toolbar_container)[0]),u.content_editable=!0,l.on("focus",function(){e.skinUiCss?tinymce.DOM.styleSheetLoader.load(e.skinUiCss,r,r):r()}),l.on("blur hide",o),l.on("remove",function(){a&&(a.remove(),a=null)}),e.skinUiCss&&tinymce.DOM.styleSheetLoader.load(e.skinUiCss),{}}(e):((t=e).skinUiCss&&tinymce.DOM.loadCSS(t.skinUiCss),i=s.panel=c.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===u.menubar?null:{type:"menubar",border:"0 0 1 0",items:b()},f(),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]}),!1!==u.resize&&(n={type:"resizehandle",direction:u.resize,onResizeStart:function(){var e=l.getContentAreaContainer().firstChild;o={width:e.clientWidth,height:e.clientHeight}},onResize:function(e){"both"==u.resize?y(o.width+e.deltaX,o.height+e.deltaY):y(null,o.height+e.deltaY)}}),!1!==u.statusbar&&i.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},n]}),u.readonly&&i.find("*").disabled(!0),l.fire("BeforeRenderUI"),i.renderBefore(t.targetNode).reflow(),u.width&&tinymce.DOM.setStyle(i.getEl(),"width",u.width),l.on("remove",function(){i.remove(),i=null}),p(i),{iframeContainer:i.find("#iframe")[0].getEl(),editorContainer:i.getEl()})},s.resizeTo=y,s.resizeBy=function(e,t){var i=l.getContentAreaContainer();s.resizeTo(i.clientWidth+e,i.clientHeight+t)}});
tinymce.ThemeManager.add("modern",function(l){function s(){function e(e){var i,n=[];if(e)return b(e.split(/[ ,]/),function(o){function e(){var e=l.selection;"bullist"==t&&e.selectorChanged("ul > li",function(e,t){for(var i,n=t.parents.length;n--&&("OL"!=(i=t.parents[n].nodeName)&&"UL"!=i););o.active(e&&"UL"==i)}),"numlist"==t&&e.selectorChanged("ol > li",function(e,t){for(var i,n=t.parents.length;n--&&("OL"!=(i=t.parents[n].nodeName)&&"UL"!=i););o.active(e&&"OL"==i)}),o.settings.stateSelector&&e.selectorChanged(o.settings.stateSelector,function(e){o.active(e)},!0),o.settings.disabledStateSelector&&e.selectorChanged(o.settings.disabledStateSelector,function(e){o.disabled(e)})}var t;"|"==o?i=null:f.has(o)?(o={type:o},h.toolbar_items_size&&(o.size=h.toolbar_items_size),n.push(o),i=null):(i||(i={type:"buttongroup",items:[]},n.push(i)),l.buttons[o]&&(t=o,"function"==typeof(o=l.buttons[t])&&(o=o()),o.type=o.type||"button",h.toolbar_items_size&&(o.size=h.toolbar_items_size),o=f.create(o),i.items.push(o),l.initialized?e():l.on("init",e)))}),t.push({type:"toolbar",layout:"flow",items:n}),!0}var t=[];if(tinymce.isArray(h.toolbar)){if(0===h.toolbar.length)return;tinymce.each(h.toolbar,function(e,t){h["toolbar"+(t+1)]=e}),delete h.toolbar}for(var i=1;i<10&&e(h["toolbar"+i]);i++);return t.length||!1===h.toolbar||e(h.toolbar||n),t.length?{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:t}:void 0}function u(){function s(e){return"|"==e?{text:"|"}:l.menuItems[e]}function e(t){var e,i,n,o,r;if(r=tinymce.makeMap((h.removed_menuitems||"").split(/[ ,]/)),h.menu?(i=h.menu[t],o=!0):i=y[t],i){e={text:i.title},n=[],b((i.items||"").split(/[ ,]/),function(e){s(e)&&!r[e]&&n.push(s(e))}),o||b(l.menuItems,function(e){e.context==t&&("before"==e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"==e.separator&&n.push({text:"|"}))});for(var a=0;a<n.length;a++)"|"==n[a].text&&(0===a||a==n.length-1)&&n.splice(a,1);if(e.menu=n,!e.menu.length)return null}return e}var t,i=[],n=[];if(h.menu)for(t in h.menu)n.push(t);else for(t in y)n.push(t);for(var o="string"==typeof h.menubar?h.menubar.split(/[ ,]/):n,r=0;r<o.length;r++){var a=o[r];(a=e(a))&&i.push(a)}return i}function c(i){function e(e){var t=i.find(e)[0];t&&t.focus(!0)}l.shortcuts.add("Alt+F9","",function(){e("menubar")}),l.shortcuts.add("Alt+F10","",function(){e("toolbar")}),l.shortcuts.add("Alt+F11","",function(){e("elementpath")}),i.on("cancel",function(){l.focus()})}function d(e,t){function i(e){return{width:e.clientWidth,height:e.clientHeight}}var n,o,r,a;n=l.getContainer(),o=l.getContentAreaContainer().firstChild,r=i(n),a=i(o),null!==e&&(e=Math.max(h.min_width||100,e),e=Math.min(h.max_width||65535,e),p.setStyle(n,"width",e+(r.width-a.width)),p.setStyle(o,"width",e)),t=Math.max(h.min_height||100,t),t=Math.min(h.max_height||65535,t),p.setStyle(o,"height",t),l.fire("ResizeEditor")}var m=this,h=l.settings,f=tinymce.ui.Factory,b=tinymce.each,p=tinymce.DOM,y={file:{title:"File",items:"newdocument"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},insert:{title:"Insert",items:"|"},view:{title:"View",items:"visualaid |"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript | formats | removeformat"},table:{title:"Table"},tools:{title:"Tools"}},n="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";m.renderUI=function(e){var t,i,n,o,r=!1!==h.skin&&(h.skin||"lightgray");if(r){var a=h.skin_url;a=a?l.documentBaseURI.toAbsolute(a):tinymce.baseURL+"/skins/"+r,tinymce.Env.documentMode<=7?e.skinUiCss=a+"/skin.ie7.min.css":e.skinUiCss=a+"/skin.min.css",l.contentCSS.push(a+"/content"+(l.inline?".inline":"")+".min.css")}return l.on("ProgressState",function(e){m.throbber=m.throbber||new tinymce.ui.Throbber(m.panel.getEl("body")),e.state?m.throbber.show(e.time):m.throbber.hide()}),h.inline?function(e){function t(){if(a&&a.moveRel&&a.visible()&&!a._fixed){var e=l.selection.getScrollContainer(),t=l.getBody(),i=0,n=0;if(e){var o=p.getPos(t),r=p.getPos(e);i=Math.max(0,r.x-o.x),n=Math.max(0,r.y-o.y)}a.fixed(!1).moveRel(t,l.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(i,n)}}function i(){a&&(a.show(),t(),p.addClass(l.getBody(),"mce-edit-focus"))}function n(){a&&(a.hide(),p.removeClass(l.getBody(),"mce-edit-focus"))}function o(){return a?void(a.visible()||i()):(a=m.panel=f.create({type:r?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!!r,border:1,items:[!1===h.menubar?null:{type:"menubar",border:"0 0 1 0",items:u()},s()]}),l.fire("BeforeRenderUI"),a.renderTo(r||document.body).reflow(),c(a),i(),l.on("nodeChange",t),l.on("activate",i),l.on("deactivate",n),void l.nodeChanged())}var a,r;return h.fixed_toolbar_container&&(r=p.select(h.fixed_toolbar_container)[0]),h.content_editable=!0,l.on("focus",function(){e.skinUiCss?tinymce.DOM.styleSheetLoader.load(e.skinUiCss,o,o):o()}),l.on("blur hide",n),l.on("remove",function(){a&&(a.remove(),a=null)}),e.skinUiCss&&tinymce.DOM.styleSheetLoader.load(e.skinUiCss),{}}(e):((t=e).skinUiCss&&tinymce.DOM.loadCSS(t.skinUiCss),i=m.panel=f.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[!1===h.menubar?null:{type:"menubar",border:"0 0 1 0",items:u()},s(),{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",html:"",border:"1 0 0 0"}]}),!1!==h.resize&&(n={type:"resizehandle",direction:h.resize,onResizeStart:function(){var e=l.getContentAreaContainer().firstChild;o={width:e.clientWidth,height:e.clientHeight}},onResize:function(e){"both"==h.resize?d(o.width+e.deltaX,o.height+e.deltaY):d(null,o.height+e.deltaY)}}),!1!==h.statusbar&&i.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath"},n]}),h.readonly&&i.find("*").disabled(!0),l.fire("BeforeRenderUI"),i.renderBefore(t.targetNode).reflow(),h.width&&tinymce.DOM.setStyle(i.getEl(),"width",h.width),l.on("remove",function(){i.remove(),i=null}),c(i),{iframeContainer:i.find("#iframe")[0].getEl(),editorContainer:i.getEl()})},m.resizeTo=d,m.resizeBy=function(e,t){var i=l.getContentAreaContainer();m.resizeTo(i.clientWidth+e,i.clientHeight+t)}});